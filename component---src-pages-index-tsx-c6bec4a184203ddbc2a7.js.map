{"version":3,"file":"component---src-pages-index-tsx-c6bec4a184203ddbc2a7.js","mappings":"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","sources":["webpack://my-gatsby-site/./node_modules/@firebase/database/node_modules/@firebase/util/dist/index.esm2017.js","webpack://my-gatsby-site/./src/images/profile2.jpg","webpack://my-gatsby-site/./src/components/common/AccordionItem.tsx","webpack://my-gatsby-site/./src/components/main-web/Web.tsx","webpack://my-gatsby-site/./src/components/main-my-info/Info.tsx","webpack://my-gatsby-site/./src/components/main-introduce/Introduce.tsx","webpack://my-gatsby-site/./src/components/main-desktop/Desktop.tsx","webpack://my-gatsby-site/./src/utils/firebase.ts","webpack://my-gatsby-site/./src/utils/common.ts","webpack://my-gatsby-site/./src/components/main-guestbook/components/TraceBasic.tsx","webpack://my-gatsby-site/./src/components/main-guestbook/organisms/TraceList.tsx","webpack://my-gatsby-site/./src/components/main-guestbook/template/TraceMainView.tsx","webpack://my-gatsby-site/./src/components/main-guestbook/index.tsx","webpack://my-gatsby-site/./src/components/main-blog/components/BlogContent.tsx","webpack://my-gatsby-site/./src/components/main-blog/organisms/BlogContentList.tsx","webpack://my-gatsby-site/./src/components/main-blog/template/BlogMainView.tsx","webpack://my-gatsby-site/./src/components/main-blog/index.tsx","webpack://my-gatsby-site/./node_modules/clsx/dist/clsx.mjs","webpack://my-gatsby-site/./node_modules/react-toastify/dist/react-toastify.esm.mjs","webpack://my-gatsby-site/./src/components/main-blog/template/BlogWriteView.tsx","webpack://my-gatsby-site/./src/components/main-blog/write.tsx","webpack://my-gatsby-site/./src/components/main-guestbook/template/TraceWriteView.tsx","webpack://my-gatsby-site/./src/components/main-guestbook/write.tsx","webpack://my-gatsby-site/./src/pages/index.tsx","webpack://my-gatsby-site/./node_modules/@firebase/util/dist/index.esm2017.js","webpack://my-gatsby-site/./node_modules/@firebase/component/dist/esm/index.esm2017.js","webpack://my-gatsby-site/./node_modules/@firebase/logger/dist/esm/index.esm2017.js","webpack://my-gatsby-site/./node_modules/idb/build/wrap-idb-value.js","webpack://my-gatsby-site/./node_modules/idb/build/index.js","webpack://my-gatsby-site/./node_modules/@firebase/app/dist/esm/index.esm2017.js","webpack://my-gatsby-site/./node_modules/@firebase/database/node_modules/@firebase/component/dist/esm/index.esm2017.js","webpack://my-gatsby-site/./node_modules/@firebase/database/node_modules/@firebase/logger/dist/esm/index.esm2017.js"],"sourcesContent":["/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\r\n */\r\nconst CONSTANTS = {\r\n    /**\r\n     * @define {boolean} Whether this is the client Node.js SDK.\r\n     */\r\n    NODE_CLIENT: false,\r\n    /**\r\n     * @define {boolean} Whether this is the Admin Node.js SDK.\r\n     */\r\n    NODE_ADMIN: false,\r\n    /**\r\n     * Firebase SDK Version\r\n     */\r\n    SDK_VERSION: '${JSCORE_VERSION}'\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Throws an error if the provided assertion is falsy\r\n */\r\nconst assert = function (assertion, message) {\r\n    if (!assertion) {\r\n        throw assertionError(message);\r\n    }\r\n};\r\n/**\r\n * Returns an Error object suitable for throwing.\r\n */\r\nconst assertionError = function (message) {\r\n    return new Error('Firebase Database (' +\r\n        CONSTANTS.SDK_VERSION +\r\n        ') INTERNAL ASSERT FAILED: ' +\r\n        message);\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst stringToByteArray$1 = function (str) {\r\n    // TODO(user): Use native implementations if/when available\r\n    const out = [];\r\n    let p = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        let c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if ((c & 0xfc00) === 0xd800 &&\r\n            i + 1 < str.length &&\r\n            (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\r\n            // Surrogate Pair\r\n            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Turns an array of numbers into the string given by the concatenation of the\r\n * characters to which the numbers correspond.\r\n * @param bytes Array of numbers representing characters.\r\n * @return Stringification of the array.\r\n */\r\nconst byteArrayToString = function (bytes) {\r\n    // TODO(user): Use native implementations if/when available\r\n    const out = [];\r\n    let pos = 0, c = 0;\r\n    while (pos < bytes.length) {\r\n        const c1 = bytes[pos++];\r\n        if (c1 < 128) {\r\n            out[c++] = String.fromCharCode(c1);\r\n        }\r\n        else if (c1 > 191 && c1 < 224) {\r\n            const c2 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\r\n        }\r\n        else if (c1 > 239 && c1 < 365) {\r\n            // Surrogate Pair\r\n            const c2 = bytes[pos++];\r\n            const c3 = bytes[pos++];\r\n            const c4 = bytes[pos++];\r\n            const u = (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\r\n                0x10000;\r\n            out[c++] = String.fromCharCode(0xd800 + (u >> 10));\r\n            out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\r\n        }\r\n        else {\r\n            const c2 = bytes[pos++];\r\n            const c3 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n        }\r\n    }\r\n    return out.join('');\r\n};\r\n// We define it as an object literal instead of a class because a class compiled down to es5 can't\r\n// be treeshaked. https://github.com/rollup/rollup/issues/1691\r\n// Static lookup maps, lazily populated by init_()\r\nconst base64 = {\r\n    /**\r\n     * Maps bytes to characters.\r\n     */\r\n    byteToCharMap_: null,\r\n    /**\r\n     * Maps characters to bytes.\r\n     */\r\n    charToByteMap_: null,\r\n    /**\r\n     * Maps bytes to websafe characters.\r\n     * @private\r\n     */\r\n    byteToCharMapWebSafe_: null,\r\n    /**\r\n     * Maps websafe characters to bytes.\r\n     * @private\r\n     */\r\n    charToByteMapWebSafe_: null,\r\n    /**\r\n     * Our default alphabet, shared between\r\n     * ENCODED_VALS and ENCODED_VALS_WEBSAFE\r\n     */\r\n    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\r\n    /**\r\n     * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\r\n     */\r\n    get ENCODED_VALS() {\r\n        return this.ENCODED_VALS_BASE + '+/=';\r\n    },\r\n    /**\r\n     * Our websafe alphabet.\r\n     */\r\n    get ENCODED_VALS_WEBSAFE() {\r\n        return this.ENCODED_VALS_BASE + '-_.';\r\n    },\r\n    /**\r\n     * Whether this browser supports the atob and btoa functions. This extension\r\n     * started at Mozilla but is now implemented by many browsers. We use the\r\n     * ASSUME_* variables to avoid pulling in the full useragent detection library\r\n     * but still allowing the standard per-browser compilations.\r\n     *\r\n     */\r\n    HAS_NATIVE_SUPPORT: typeof atob === 'function',\r\n    /**\r\n     * Base64-encode an array of bytes.\r\n     *\r\n     * @param input An array of bytes (numbers with\r\n     *     value in [0, 255]) to encode.\r\n     * @param webSafe Boolean indicating we should use the\r\n     *     alternative alphabet.\r\n     * @return The base64 encoded string.\r\n     */\r\n    encodeByteArray(input, webSafe) {\r\n        if (!Array.isArray(input)) {\r\n            throw Error('encodeByteArray takes an array as a parameter');\r\n        }\r\n        this.init_();\r\n        const byteToCharMap = webSafe\r\n            ? this.byteToCharMapWebSafe_\r\n            : this.byteToCharMap_;\r\n        const output = [];\r\n        for (let i = 0; i < input.length; i += 3) {\r\n            const byte1 = input[i];\r\n            const haveByte2 = i + 1 < input.length;\r\n            const byte2 = haveByte2 ? input[i + 1] : 0;\r\n            const haveByte3 = i + 2 < input.length;\r\n            const byte3 = haveByte3 ? input[i + 2] : 0;\r\n            const outByte1 = byte1 >> 2;\r\n            const outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\r\n            let outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\r\n            let outByte4 = byte3 & 0x3f;\r\n            if (!haveByte3) {\r\n                outByte4 = 64;\r\n                if (!haveByte2) {\r\n                    outByte3 = 64;\r\n                }\r\n            }\r\n            output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);\r\n        }\r\n        return output.join('');\r\n    },\r\n    /**\r\n     * Base64-encode a string.\r\n     *\r\n     * @param input A string to encode.\r\n     * @param webSafe If true, we should use the\r\n     *     alternative alphabet.\r\n     * @return The base64 encoded string.\r\n     */\r\n    encodeString(input, webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !webSafe) {\r\n            return btoa(input);\r\n        }\r\n        return this.encodeByteArray(stringToByteArray$1(input), webSafe);\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * @param input to decode.\r\n     * @param webSafe True if we should use the\r\n     *     alternative alphabet.\r\n     * @return string representing the decoded value.\r\n     */\r\n    decodeString(input, webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !webSafe) {\r\n            return atob(input);\r\n        }\r\n        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * In base-64 decoding, groups of four characters are converted into three\r\n     * bytes.  If the encoder did not apply padding, the input length may not\r\n     * be a multiple of 4.\r\n     *\r\n     * In this case, the last group will have fewer than 4 characters, and\r\n     * padding will be inferred.  If the group has one or two characters, it decodes\r\n     * to one byte.  If the group has three characters, it decodes to two bytes.\r\n     *\r\n     * @param input Input to decode.\r\n     * @param webSafe True if we should use the web-safe alphabet.\r\n     * @return bytes representing the decoded value.\r\n     */\r\n    decodeStringToByteArray(input, webSafe) {\r\n        this.init_();\r\n        const charToByteMap = webSafe\r\n            ? this.charToByteMapWebSafe_\r\n            : this.charToByteMap_;\r\n        const output = [];\r\n        for (let i = 0; i < input.length;) {\r\n            const byte1 = charToByteMap[input.charAt(i++)];\r\n            const haveByte2 = i < input.length;\r\n            const byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\r\n            ++i;\r\n            const haveByte3 = i < input.length;\r\n            const byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            const haveByte4 = i < input.length;\r\n            const byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\r\n                throw new DecodeBase64StringError();\r\n            }\r\n            const outByte1 = (byte1 << 2) | (byte2 >> 4);\r\n            output.push(outByte1);\r\n            if (byte3 !== 64) {\r\n                const outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\r\n                output.push(outByte2);\r\n                if (byte4 !== 64) {\r\n                    const outByte3 = ((byte3 << 6) & 0xc0) | byte4;\r\n                    output.push(outByte3);\r\n                }\r\n            }\r\n        }\r\n        return output;\r\n    },\r\n    /**\r\n     * Lazy static initialization function. Called before\r\n     * accessing any of the static map variables.\r\n     * @private\r\n     */\r\n    init_() {\r\n        if (!this.byteToCharMap_) {\r\n            this.byteToCharMap_ = {};\r\n            this.charToByteMap_ = {};\r\n            this.byteToCharMapWebSafe_ = {};\r\n            this.charToByteMapWebSafe_ = {};\r\n            // We want quick mappings back and forth, so we precompute two maps.\r\n            for (let i = 0; i < this.ENCODED_VALS.length; i++) {\r\n                this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\r\n                this.charToByteMap_[this.byteToCharMap_[i]] = i;\r\n                this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\r\n                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\r\n                // Be forgiving when decoding and correctly decode both encodings.\r\n                if (i >= this.ENCODED_VALS_BASE.length) {\r\n                    this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\r\n                    this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * An error encountered while decoding base64 string.\r\n */\r\nclass DecodeBase64StringError extends Error {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = 'DecodeBase64StringError';\r\n    }\r\n}\r\n/**\r\n * URL-safe base64 encoding\r\n */\r\nconst base64Encode = function (str) {\r\n    const utf8Bytes = stringToByteArray$1(str);\r\n    return base64.encodeByteArray(utf8Bytes, true);\r\n};\r\n/**\r\n * URL-safe base64 encoding (without \".\" padding in the end).\r\n * e.g. Used in JSON Web Token (JWT) parts.\r\n */\r\nconst base64urlEncodeWithoutPadding = function (str) {\r\n    // Use base64url encoding and remove padding in the end (dot characters).\r\n    return base64Encode(str).replace(/\\./g, '');\r\n};\r\n/**\r\n * URL-safe base64 decoding\r\n *\r\n * NOTE: DO NOT use the global atob() function - it does NOT support the\r\n * base64Url variant encoding.\r\n *\r\n * @param str To be decoded\r\n * @return Decoded result, if possible\r\n */\r\nconst base64Decode = function (str) {\r\n    try {\r\n        return base64.decodeString(str, true);\r\n    }\r\n    catch (e) {\r\n        console.error('base64Decode failed: ', e);\r\n    }\r\n    return null;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Do a deep-copy of basic JavaScript Objects or Arrays.\r\n */\r\nfunction deepCopy(value) {\r\n    return deepExtend(undefined, value);\r\n}\r\n/**\r\n * Copy properties from source to target (recursively allows extension\r\n * of Objects and Arrays).  Scalar values in the target are over-written.\r\n * If target is undefined, an object of the appropriate type will be created\r\n * (and returned).\r\n *\r\n * We recursively copy all child properties of plain Objects in the source- so\r\n * that namespace- like dictionaries are merged.\r\n *\r\n * Note that the target can be a function, in which case the properties in\r\n * the source Object are copied onto it as static properties of the Function.\r\n *\r\n * Note: we don't merge __proto__ to prevent prototype pollution\r\n */\r\nfunction deepExtend(target, source) {\r\n    if (!(source instanceof Object)) {\r\n        return source;\r\n    }\r\n    switch (source.constructor) {\r\n        case Date:\r\n            // Treat Dates like scalars; if the target date object had any child\r\n            // properties - they will be lost!\r\n            const dateValue = source;\r\n            return new Date(dateValue.getTime());\r\n        case Object:\r\n            if (target === undefined) {\r\n                target = {};\r\n            }\r\n            break;\r\n        case Array:\r\n            // Always copy the array source and overwrite the target.\r\n            target = [];\r\n            break;\r\n        default:\r\n            // Not a plain Object - treat it as a scalar.\r\n            return source;\r\n    }\r\n    for (const prop in source) {\r\n        // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202\r\n        if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {\r\n            continue;\r\n        }\r\n        target[prop] = deepExtend(target[prop], source[prop]);\r\n    }\r\n    return target;\r\n}\r\nfunction isValidKey(key) {\r\n    return key !== '__proto__';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Polyfill for `globalThis` object.\r\n * @returns the `globalThis` object for the given environment.\r\n * @public\r\n */\r\nfunction getGlobal() {\r\n    if (typeof self !== 'undefined') {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined') {\r\n        return window;\r\n    }\r\n    if (typeof global !== 'undefined') {\r\n        return global;\r\n    }\r\n    throw new Error('Unable to locate global object.');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst getDefaultsFromGlobal = () => getGlobal().__FIREBASE_DEFAULTS__;\r\n/**\r\n * Attempt to read defaults from a JSON string provided to\r\n * process(.)env(.)__FIREBASE_DEFAULTS__ or a JSON file whose path is in\r\n * process(.)env(.)__FIREBASE_DEFAULTS_PATH__\r\n * The dots are in parens because certain compilers (Vite?) cannot\r\n * handle seeing that variable in comments.\r\n * See https://github.com/firebase/firebase-js-sdk/issues/6838\r\n */\r\nconst getDefaultsFromEnvVariable = () => {\r\n    if (typeof process === 'undefined' || typeof process.env === 'undefined') {\r\n        return;\r\n    }\r\n    const defaultsJsonString = process.env.__FIREBASE_DEFAULTS__;\r\n    if (defaultsJsonString) {\r\n        return JSON.parse(defaultsJsonString);\r\n    }\r\n};\r\nconst getDefaultsFromCookie = () => {\r\n    if (typeof document === 'undefined') {\r\n        return;\r\n    }\r\n    let match;\r\n    try {\r\n        match = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);\r\n    }\r\n    catch (e) {\r\n        // Some environments such as Angular Universal SSR have a\r\n        // `document` object but error on accessing `document.cookie`.\r\n        return;\r\n    }\r\n    const decoded = match && base64Decode(match[1]);\r\n    return decoded && JSON.parse(decoded);\r\n};\r\n/**\r\n * Get the __FIREBASE_DEFAULTS__ object. It checks in order:\r\n * (1) if such an object exists as a property of `globalThis`\r\n * (2) if such an object was provided on a shell environment variable\r\n * (3) if such an object exists in a cookie\r\n * @public\r\n */\r\nconst getDefaults = () => {\r\n    try {\r\n        return (getDefaultsFromGlobal() ||\r\n            getDefaultsFromEnvVariable() ||\r\n            getDefaultsFromCookie());\r\n    }\r\n    catch (e) {\r\n        /**\r\n         * Catch-all for being unable to get __FIREBASE_DEFAULTS__ due\r\n         * to any environment case we have not accounted for. Log to\r\n         * info instead of swallowing so we can find these unknown cases\r\n         * and add paths for them if needed.\r\n         */\r\n        console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);\r\n        return;\r\n    }\r\n};\r\n/**\r\n * Returns emulator host stored in the __FIREBASE_DEFAULTS__ object\r\n * for the given product.\r\n * @returns a URL host formatted like `127.0.0.1:9999` or `[::1]:4000` if available\r\n * @public\r\n */\r\nconst getDefaultEmulatorHost = (productName) => { var _a, _b; return (_b = (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.emulatorHosts) === null || _b === void 0 ? void 0 : _b[productName]; };\r\n/**\r\n * Returns emulator hostname and port stored in the __FIREBASE_DEFAULTS__ object\r\n * for the given product.\r\n * @returns a pair of hostname and port like `[\"::1\", 4000]` if available\r\n * @public\r\n */\r\nconst getDefaultEmulatorHostnameAndPort = (productName) => {\r\n    const host = getDefaultEmulatorHost(productName);\r\n    if (!host) {\r\n        return undefined;\r\n    }\r\n    const separatorIndex = host.lastIndexOf(':'); // Finding the last since IPv6 addr also has colons.\r\n    if (separatorIndex <= 0 || separatorIndex + 1 === host.length) {\r\n        throw new Error(`Invalid host ${host} with no separate hostname and port!`);\r\n    }\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const port = parseInt(host.substring(separatorIndex + 1), 10);\r\n    if (host[0] === '[') {\r\n        // Bracket-quoted `[ipv6addr]:port` => return \"ipv6addr\" (without brackets).\r\n        return [host.substring(1, separatorIndex - 1), port];\r\n    }\r\n    else {\r\n        return [host.substring(0, separatorIndex), port];\r\n    }\r\n};\r\n/**\r\n * Returns Firebase app config stored in the __FIREBASE_DEFAULTS__ object.\r\n * @public\r\n */\r\nconst getDefaultAppConfig = () => { var _a; return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.config; };\r\n/**\r\n * Returns an experimental setting on the __FIREBASE_DEFAULTS__ object (properties\r\n * prefixed by \"_\")\r\n * @public\r\n */\r\nconst getExperimentalSetting = (name) => { var _a; return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a[`_${name}`]; };\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass Deferred {\r\n    constructor() {\r\n        this.reject = () => { };\r\n        this.resolve = () => { };\r\n        this.promise = new Promise((resolve, reject) => {\r\n            this.resolve = resolve;\r\n            this.reject = reject;\r\n        });\r\n    }\r\n    /**\r\n     * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\r\n     * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\r\n     * and returns a node-style callback which will resolve or reject the Deferred's promise.\r\n     */\r\n    wrapCallback(callback) {\r\n        return (error, value) => {\r\n            if (error) {\r\n                this.reject(error);\r\n            }\r\n            else {\r\n                this.resolve(value);\r\n            }\r\n            if (typeof callback === 'function') {\r\n                // Attaching noop handler just in case developer wasn't expecting\r\n                // promises\r\n                this.promise.catch(() => { });\r\n                // Some of our callbacks don't expect a value and our own tests\r\n                // assert that the parameter length is 1\r\n                if (callback.length === 1) {\r\n                    callback(error);\r\n                }\r\n                else {\r\n                    callback(error, value);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction createMockUserToken(token, projectId) {\r\n    if (token.uid) {\r\n        throw new Error('The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.');\r\n    }\r\n    // Unsecured JWTs use \"none\" as the algorithm.\r\n    const header = {\r\n        alg: 'none',\r\n        type: 'JWT'\r\n    };\r\n    const project = projectId || 'demo-project';\r\n    const iat = token.iat || 0;\r\n    const sub = token.sub || token.user_id;\r\n    if (!sub) {\r\n        throw new Error(\"mockUserToken must contain 'sub' or 'user_id' field!\");\r\n    }\r\n    const payload = Object.assign({ \r\n        // Set all required fields to decent defaults\r\n        iss: `https://securetoken.google.com/${project}`, aud: project, iat, exp: iat + 3600, auth_time: iat, sub, user_id: sub, firebase: {\r\n            sign_in_provider: 'custom',\r\n            identities: {}\r\n        } }, token);\r\n    // Unsecured JWTs use the empty string as a signature.\r\n    const signature = '';\r\n    return [\r\n        base64urlEncodeWithoutPadding(JSON.stringify(header)),\r\n        base64urlEncodeWithoutPadding(JSON.stringify(payload)),\r\n        signature\r\n    ].join('.');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns navigator.userAgent string or '' if it's not defined.\r\n * @return user agent string\r\n */\r\nfunction getUA() {\r\n    if (typeof navigator !== 'undefined' &&\r\n        typeof navigator['userAgent'] === 'string') {\r\n        return navigator['userAgent'];\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n/**\r\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\r\n *\r\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap\r\n * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally\r\n * wait for a callback.\r\n */\r\nfunction isMobileCordova() {\r\n    return (typeof window !== 'undefined' &&\r\n        // @ts-ignore Setting up an broadly applicable index signature for Window\r\n        // just to deal with this case would probably be a bad idea.\r\n        !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\r\n        /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA()));\r\n}\r\n/**\r\n * Detect Node.js.\r\n *\r\n * @return true if Node.js environment is detected or specified.\r\n */\r\n// Node detection logic from: https://github.com/iliakan/detect-node/\r\nfunction isNode() {\r\n    var _a;\r\n    const forceEnvironment = (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.forceEnvironment;\r\n    if (forceEnvironment === 'node') {\r\n        return true;\r\n    }\r\n    else if (forceEnvironment === 'browser') {\r\n        return false;\r\n    }\r\n    try {\r\n        return (Object.prototype.toString.call(global.process) === '[object process]');\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Detect Browser Environment\r\n */\r\nfunction isBrowser() {\r\n    return typeof window !== 'undefined' || isWebWorker();\r\n}\r\n/**\r\n * Detect Web Worker context\r\n */\r\nfunction isWebWorker() {\r\n    return (typeof WorkerGlobalScope !== 'undefined' &&\r\n        typeof self !== 'undefined' &&\r\n        self instanceof WorkerGlobalScope);\r\n}\r\nfunction isBrowserExtension() {\r\n    const runtime = typeof chrome === 'object'\r\n        ? chrome.runtime\r\n        : typeof browser === 'object'\r\n            ? browser.runtime\r\n            : undefined;\r\n    return typeof runtime === 'object' && runtime.id !== undefined;\r\n}\r\n/**\r\n * Detect React Native.\r\n *\r\n * @return true if ReactNative environment is detected.\r\n */\r\nfunction isReactNative() {\r\n    return (typeof navigator === 'object' && navigator['product'] === 'ReactNative');\r\n}\r\n/** Detects Electron apps. */\r\nfunction isElectron() {\r\n    return getUA().indexOf('Electron/') >= 0;\r\n}\r\n/** Detects Internet Explorer. */\r\nfunction isIE() {\r\n    const ua = getUA();\r\n    return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\r\n}\r\n/** Detects Universal Windows Platform apps. */\r\nfunction isUWP() {\r\n    return getUA().indexOf('MSAppHost/') >= 0;\r\n}\r\n/**\r\n * Detect whether the current SDK build is the Node version.\r\n *\r\n * @return true if it's the Node SDK build.\r\n */\r\nfunction isNodeSdk() {\r\n    return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\r\n}\r\n/** Returns true if we are running in Safari. */\r\nfunction isSafari() {\r\n    return (!isNode() &&\r\n        !!navigator.userAgent &&\r\n        navigator.userAgent.includes('Safari') &&\r\n        !navigator.userAgent.includes('Chrome'));\r\n}\r\n/**\r\n * This method checks if indexedDB is supported by current browser/service worker context\r\n * @return true if indexedDB is supported by current browser/service worker context\r\n */\r\nfunction isIndexedDBAvailable() {\r\n    try {\r\n        return typeof indexedDB === 'object';\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject\r\n * if errors occur during the database open operation.\r\n *\r\n * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox\r\n * private browsing)\r\n */\r\nfunction validateIndexedDBOpenable() {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            let preExist = true;\r\n            const DB_CHECK_NAME = 'validate-browser-context-for-indexeddb-analytics-module';\r\n            const request = self.indexedDB.open(DB_CHECK_NAME);\r\n            request.onsuccess = () => {\r\n                request.result.close();\r\n                // delete database only when it doesn't pre-exist\r\n                if (!preExist) {\r\n                    self.indexedDB.deleteDatabase(DB_CHECK_NAME);\r\n                }\r\n                resolve(true);\r\n            };\r\n            request.onupgradeneeded = () => {\r\n                preExist = false;\r\n            };\r\n            request.onerror = () => {\r\n                var _a;\r\n                reject(((_a = request.error) === null || _a === void 0 ? void 0 : _a.message) || '');\r\n            };\r\n        }\r\n        catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n}\r\n/**\r\n *\r\n * This method checks whether cookie is enabled within current browser\r\n * @return true if cookie is enabled within current browser\r\n */\r\nfunction areCookiesEnabled() {\r\n    if (typeof navigator === 'undefined' || !navigator.cookieEnabled) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview Standardized Firebase Error.\r\n *\r\n * Usage:\r\n *\r\n *   // Typescript string literals for type-safe codes\r\n *   type Err =\r\n *     'unknown' |\r\n *     'object-not-found'\r\n *     ;\r\n *\r\n *   // Closure enum for type-safe error codes\r\n *   // at-enum {string}\r\n *   var Err = {\r\n *     UNKNOWN: 'unknown',\r\n *     OBJECT_NOT_FOUND: 'object-not-found',\r\n *   }\r\n *\r\n *   let errors: Map<Err, string> = {\r\n *     'generic-error': \"Unknown error\",\r\n *     'file-not-found': \"Could not find file: {$file}\",\r\n *   };\r\n *\r\n *   // Type-safe function - must pass a valid error code as param.\r\n *   let error = new ErrorFactory<Err>('service', 'Service', errors);\r\n *\r\n *   ...\r\n *   throw error.create(Err.GENERIC);\r\n *   ...\r\n *   throw error.create(Err.FILE_NOT_FOUND, {'file': fileName});\r\n *   ...\r\n *   // Service: Could not file file: foo.txt (service/file-not-found).\r\n *\r\n *   catch (e) {\r\n *     assert(e.message === \"Could not find file: foo.txt.\");\r\n *     if ((e as FirebaseError)?.code === 'service/file-not-found') {\r\n *       console.log(\"Could not read file: \" + e['file']);\r\n *     }\r\n *   }\r\n */\r\nconst ERROR_NAME = 'FirebaseError';\r\n// Based on code from:\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types\r\nclass FirebaseError extends Error {\r\n    constructor(\r\n    /** The error code for this error. */\r\n    code, message, \r\n    /** Custom data for this error. */\r\n    customData) {\r\n        super(message);\r\n        this.code = code;\r\n        this.customData = customData;\r\n        /** The custom name for all FirebaseErrors. */\r\n        this.name = ERROR_NAME;\r\n        // Fix For ES5\r\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n        Object.setPrototypeOf(this, FirebaseError.prototype);\r\n        // Maintains proper stack trace for where our error was thrown.\r\n        // Only available on V8.\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, ErrorFactory.prototype.create);\r\n        }\r\n    }\r\n}\r\nclass ErrorFactory {\r\n    constructor(service, serviceName, errors) {\r\n        this.service = service;\r\n        this.serviceName = serviceName;\r\n        this.errors = errors;\r\n    }\r\n    create(code, ...data) {\r\n        const customData = data[0] || {};\r\n        const fullCode = `${this.service}/${code}`;\r\n        const template = this.errors[code];\r\n        const message = template ? replaceTemplate(template, customData) : 'Error';\r\n        // Service Name: Error message (service/code).\r\n        const fullMessage = `${this.serviceName}: ${message} (${fullCode}).`;\r\n        const error = new FirebaseError(fullCode, fullMessage, customData);\r\n        return error;\r\n    }\r\n}\r\nfunction replaceTemplate(template, data) {\r\n    return template.replace(PATTERN, (_, key) => {\r\n        const value = data[key];\r\n        return value != null ? String(value) : `<${key}?>`;\r\n    });\r\n}\r\nconst PATTERN = /\\{\\$([^}]+)}/g;\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Evaluates a JSON string into a javascript object.\r\n *\r\n * @param {string} str A string containing JSON.\r\n * @return {*} The javascript object representing the specified JSON.\r\n */\r\nfunction jsonEval(str) {\r\n    return JSON.parse(str);\r\n}\r\n/**\r\n * Returns JSON representing a javascript object.\r\n * @param {*} data Javascript object to be stringified.\r\n * @return {string} The JSON contents of the object.\r\n */\r\nfunction stringify(data) {\r\n    return JSON.stringify(data);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Decodes a Firebase auth. token into constituent parts.\r\n *\r\n * Notes:\r\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst decode = function (token) {\r\n    let header = {}, claims = {}, data = {}, signature = '';\r\n    try {\r\n        const parts = token.split('.');\r\n        header = jsonEval(base64Decode(parts[0]) || '');\r\n        claims = jsonEval(base64Decode(parts[1]) || '');\r\n        signature = parts[2];\r\n        data = claims['d'] || {};\r\n        delete claims['d'];\r\n    }\r\n    catch (e) { }\r\n    return {\r\n        header,\r\n        claims,\r\n        data,\r\n        signature\r\n    };\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\r\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst isValidTimestamp = function (token) {\r\n    const claims = decode(token).claims;\r\n    const now = Math.floor(new Date().getTime() / 1000);\r\n    let validSince = 0, validUntil = 0;\r\n    if (typeof claims === 'object') {\r\n        if (claims.hasOwnProperty('nbf')) {\r\n            validSince = claims['nbf'];\r\n        }\r\n        else if (claims.hasOwnProperty('iat')) {\r\n            validSince = claims['iat'];\r\n        }\r\n        if (claims.hasOwnProperty('exp')) {\r\n            validUntil = claims['exp'];\r\n        }\r\n        else {\r\n            // token will expire after 24h by default\r\n            validUntil = validSince + 86400;\r\n        }\r\n    }\r\n    return (!!now &&\r\n        !!validSince &&\r\n        !!validUntil &&\r\n        now >= validSince &&\r\n        now <= validUntil);\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\r\n *\r\n * Notes:\r\n * - May return null if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst issuedAtTime = function (token) {\r\n    const claims = decode(token).claims;\r\n    if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\r\n        return claims['iat'];\r\n    }\r\n    return null;\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst isValidFormat = function (token) {\r\n    const decoded = decode(token), claims = decoded.claims;\r\n    return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\r\n};\r\n/**\r\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst isAdmin = function (token) {\r\n    const claims = decode(token).claims;\r\n    return typeof claims === 'object' && claims['admin'] === true;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction contains(obj, key) {\r\n    return Object.prototype.hasOwnProperty.call(obj, key);\r\n}\r\nfunction safeGet(obj, key) {\r\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n        return obj[key];\r\n    }\r\n    else {\r\n        return undefined;\r\n    }\r\n}\r\nfunction isEmpty(obj) {\r\n    for (const key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction map(obj, fn, contextObj) {\r\n    const res = {};\r\n    for (const key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            res[key] = fn.call(contextObj, obj[key], key, obj);\r\n        }\r\n    }\r\n    return res;\r\n}\r\n/**\r\n * Deep equal two objects. Support Arrays and Objects.\r\n */\r\nfunction deepEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    const aKeys = Object.keys(a);\r\n    const bKeys = Object.keys(b);\r\n    for (const k of aKeys) {\r\n        if (!bKeys.includes(k)) {\r\n            return false;\r\n        }\r\n        const aProp = a[k];\r\n        const bProp = b[k];\r\n        if (isObject(aProp) && isObject(bProp)) {\r\n            if (!deepEqual(aProp, bProp)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (aProp !== bProp) {\r\n            return false;\r\n        }\r\n    }\r\n    for (const k of bKeys) {\r\n        if (!aKeys.includes(k)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction isObject(thing) {\r\n    return thing !== null && typeof thing === 'object';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Rejects if the given promise doesn't resolve in timeInMS milliseconds.\r\n * @internal\r\n */\r\nfunction promiseWithTimeout(promise, timeInMS = 2000) {\r\n    const deferredPromise = new Deferred();\r\n    setTimeout(() => deferredPromise.reject('timeout!'), timeInMS);\r\n    promise.then(deferredPromise.resolve, deferredPromise.reject);\r\n    return deferredPromise.promise;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a\r\n * params object (e.g. {arg: 'val', arg2: 'val2'})\r\n * Note: You must prepend it with ? when adding it to a URL.\r\n */\r\nfunction querystring(querystringParams) {\r\n    const params = [];\r\n    for (const [key, value] of Object.entries(querystringParams)) {\r\n        if (Array.isArray(value)) {\r\n            value.forEach(arrayVal => {\r\n                params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));\r\n            });\r\n        }\r\n        else {\r\n            params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n        }\r\n    }\r\n    return params.length ? '&' + params.join('&') : '';\r\n}\r\n/**\r\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object\r\n * (e.g. {arg: 'val', arg2: 'val2'})\r\n */\r\nfunction querystringDecode(querystring) {\r\n    const obj = {};\r\n    const tokens = querystring.replace(/^\\?/, '').split('&');\r\n    tokens.forEach(token => {\r\n        if (token) {\r\n            const [key, value] = token.split('=');\r\n            obj[decodeURIComponent(key)] = decodeURIComponent(value);\r\n        }\r\n    });\r\n    return obj;\r\n}\r\n/**\r\n * Extract the query string part of a URL, including the leading question mark (if present).\r\n */\r\nfunction extractQuerystring(url) {\r\n    const queryStart = url.indexOf('?');\r\n    if (!queryStart) {\r\n        return '';\r\n    }\r\n    const fragmentStart = url.indexOf('#', queryStart);\r\n    return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : undefined);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview SHA-1 cryptographic hash.\r\n * Variable names follow the notation in FIPS PUB 180-3:\r\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\r\n *\r\n * Usage:\r\n *   var sha1 = new sha1();\r\n *   sha1.update(bytes);\r\n *   var hash = sha1.digest();\r\n *\r\n * Performance:\r\n *   Chrome 23:   ~400 Mbit/s\r\n *   Firefox 16:  ~250 Mbit/s\r\n *\r\n */\r\n/**\r\n * SHA-1 cryptographic hash constructor.\r\n *\r\n * The properties declared here are discussed in the above algorithm document.\r\n * @constructor\r\n * @final\r\n * @struct\r\n */\r\nclass Sha1 {\r\n    constructor() {\r\n        /**\r\n         * Holds the previous values of accumulated variables a-e in the compress_\r\n         * function.\r\n         * @private\r\n         */\r\n        this.chain_ = [];\r\n        /**\r\n         * A buffer holding the partially computed hash result.\r\n         * @private\r\n         */\r\n        this.buf_ = [];\r\n        /**\r\n         * An array of 80 bytes, each a part of the message to be hashed.  Referred to\r\n         * as the message schedule in the docs.\r\n         * @private\r\n         */\r\n        this.W_ = [];\r\n        /**\r\n         * Contains data needed to pad messages less than 64 bytes.\r\n         * @private\r\n         */\r\n        this.pad_ = [];\r\n        /**\r\n         * @private {number}\r\n         */\r\n        this.inbuf_ = 0;\r\n        /**\r\n         * @private {number}\r\n         */\r\n        this.total_ = 0;\r\n        this.blockSize = 512 / 8;\r\n        this.pad_[0] = 128;\r\n        for (let i = 1; i < this.blockSize; ++i) {\r\n            this.pad_[i] = 0;\r\n        }\r\n        this.reset();\r\n    }\r\n    reset() {\r\n        this.chain_[0] = 0x67452301;\r\n        this.chain_[1] = 0xefcdab89;\r\n        this.chain_[2] = 0x98badcfe;\r\n        this.chain_[3] = 0x10325476;\r\n        this.chain_[4] = 0xc3d2e1f0;\r\n        this.inbuf_ = 0;\r\n        this.total_ = 0;\r\n    }\r\n    /**\r\n     * Internal compress helper function.\r\n     * @param buf Block to compress.\r\n     * @param offset Offset of the block in the buffer.\r\n     * @private\r\n     */\r\n    compress_(buf, offset) {\r\n        if (!offset) {\r\n            offset = 0;\r\n        }\r\n        const W = this.W_;\r\n        // get 16 big endian words\r\n        if (typeof buf === 'string') {\r\n            for (let i = 0; i < 16; i++) {\r\n                // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\r\n                // have a bug that turns the post-increment ++ operator into pre-increment\r\n                // during JIT compilation.  We have code that depends heavily on SHA-1 for\r\n                // correctness and which is affected by this bug, so I've removed all uses\r\n                // of post-increment ++ in which the result value is used.  We can revert\r\n                // this change once the Safari bug\r\n                // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\r\n                // most clients have been updated.\r\n                W[i] =\r\n                    (buf.charCodeAt(offset) << 24) |\r\n                        (buf.charCodeAt(offset + 1) << 16) |\r\n                        (buf.charCodeAt(offset + 2) << 8) |\r\n                        buf.charCodeAt(offset + 3);\r\n                offset += 4;\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < 16; i++) {\r\n                W[i] =\r\n                    (buf[offset] << 24) |\r\n                        (buf[offset + 1] << 16) |\r\n                        (buf[offset + 2] << 8) |\r\n                        buf[offset + 3];\r\n                offset += 4;\r\n            }\r\n        }\r\n        // expand to 80 words\r\n        for (let i = 16; i < 80; i++) {\r\n            const t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\r\n            W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\r\n        }\r\n        let a = this.chain_[0];\r\n        let b = this.chain_[1];\r\n        let c = this.chain_[2];\r\n        let d = this.chain_[3];\r\n        let e = this.chain_[4];\r\n        let f, k;\r\n        // TODO(user): Try to unroll this loop to speed up the computation.\r\n        for (let i = 0; i < 80; i++) {\r\n            if (i < 40) {\r\n                if (i < 20) {\r\n                    f = d ^ (b & (c ^ d));\r\n                    k = 0x5a827999;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0x6ed9eba1;\r\n                }\r\n            }\r\n            else {\r\n                if (i < 60) {\r\n                    f = (b & c) | (d & (b | c));\r\n                    k = 0x8f1bbcdc;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0xca62c1d6;\r\n                }\r\n            }\r\n            const t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\r\n            e = d;\r\n            d = c;\r\n            c = ((b << 30) | (b >>> 2)) & 0xffffffff;\r\n            b = a;\r\n            a = t;\r\n        }\r\n        this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\r\n        this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\r\n        this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\r\n        this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\r\n        this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\r\n    }\r\n    update(bytes, length) {\r\n        // TODO(johnlenz): tighten the function signature and remove this check\r\n        if (bytes == null) {\r\n            return;\r\n        }\r\n        if (length === undefined) {\r\n            length = bytes.length;\r\n        }\r\n        const lengthMinusBlock = length - this.blockSize;\r\n        let n = 0;\r\n        // Using local instead of member variables gives ~5% speedup on Firefox 16.\r\n        const buf = this.buf_;\r\n        let inbuf = this.inbuf_;\r\n        // The outer while loop should execute at most twice.\r\n        while (n < length) {\r\n            // When we have no data in the block to top up, we can directly process the\r\n            // input buffer (assuming it contains sufficient data). This gives ~25%\r\n            // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\r\n            // the data is provided in large chunks (or in multiples of 64 bytes).\r\n            if (inbuf === 0) {\r\n                while (n <= lengthMinusBlock) {\r\n                    this.compress_(bytes, n);\r\n                    n += this.blockSize;\r\n                }\r\n            }\r\n            if (typeof bytes === 'string') {\r\n                while (n < length) {\r\n                    buf[inbuf] = bytes.charCodeAt(n);\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf === this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                while (n < length) {\r\n                    buf[inbuf] = bytes[n];\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf === this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.inbuf_ = inbuf;\r\n        this.total_ += length;\r\n    }\r\n    /** @override */\r\n    digest() {\r\n        const digest = [];\r\n        let totalBits = this.total_ * 8;\r\n        // Add pad 0x80 0x00*.\r\n        if (this.inbuf_ < 56) {\r\n            this.update(this.pad_, 56 - this.inbuf_);\r\n        }\r\n        else {\r\n            this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\r\n        }\r\n        // Add # bits.\r\n        for (let i = this.blockSize - 1; i >= 56; i--) {\r\n            this.buf_[i] = totalBits & 255;\r\n            totalBits /= 256; // Don't use bit-shifting here!\r\n        }\r\n        this.compress_(this.buf_);\r\n        let n = 0;\r\n        for (let i = 0; i < 5; i++) {\r\n            for (let j = 24; j >= 0; j -= 8) {\r\n                digest[n] = (this.chain_[i] >> j) & 255;\r\n                ++n;\r\n            }\r\n        }\r\n        return digest;\r\n    }\r\n}\n\n/**\r\n * Helper to make a Subscribe function (just like Promise helps make a\r\n * Thenable).\r\n *\r\n * @param executor Function which can make calls to a single Observer\r\n *     as a proxy.\r\n * @param onNoObservers Callback when count of Observers goes to zero.\r\n */\r\nfunction createSubscribe(executor, onNoObservers) {\r\n    const proxy = new ObserverProxy(executor, onNoObservers);\r\n    return proxy.subscribe.bind(proxy);\r\n}\r\n/**\r\n * Implement fan-out for any number of Observers attached via a subscribe\r\n * function.\r\n */\r\nclass ObserverProxy {\r\n    /**\r\n     * @param executor Function which can make calls to a single Observer\r\n     *     as a proxy.\r\n     * @param onNoObservers Callback when count of Observers goes to zero.\r\n     */\r\n    constructor(executor, onNoObservers) {\r\n        this.observers = [];\r\n        this.unsubscribes = [];\r\n        this.observerCount = 0;\r\n        // Micro-task scheduling by calling task.then().\r\n        this.task = Promise.resolve();\r\n        this.finalized = false;\r\n        this.onNoObservers = onNoObservers;\r\n        // Call the executor asynchronously so subscribers that are called\r\n        // synchronously after the creation of the subscribe function\r\n        // can still receive the very first value generated in the executor.\r\n        this.task\r\n            .then(() => {\r\n            executor(this);\r\n        })\r\n            .catch(e => {\r\n            this.error(e);\r\n        });\r\n    }\r\n    next(value) {\r\n        this.forEachObserver((observer) => {\r\n            observer.next(value);\r\n        });\r\n    }\r\n    error(error) {\r\n        this.forEachObserver((observer) => {\r\n            observer.error(error);\r\n        });\r\n        this.close(error);\r\n    }\r\n    complete() {\r\n        this.forEachObserver((observer) => {\r\n            observer.complete();\r\n        });\r\n        this.close();\r\n    }\r\n    /**\r\n     * Subscribe function that can be used to add an Observer to the fan-out list.\r\n     *\r\n     * - We require that no event is sent to a subscriber sychronously to their\r\n     *   call to subscribe().\r\n     */\r\n    subscribe(nextOrObserver, error, complete) {\r\n        let observer;\r\n        if (nextOrObserver === undefined &&\r\n            error === undefined &&\r\n            complete === undefined) {\r\n            throw new Error('Missing Observer.');\r\n        }\r\n        // Assemble an Observer object when passed as callback functions.\r\n        if (implementsAnyMethods(nextOrObserver, [\r\n            'next',\r\n            'error',\r\n            'complete'\r\n        ])) {\r\n            observer = nextOrObserver;\r\n        }\r\n        else {\r\n            observer = {\r\n                next: nextOrObserver,\r\n                error,\r\n                complete\r\n            };\r\n        }\r\n        if (observer.next === undefined) {\r\n            observer.next = noop;\r\n        }\r\n        if (observer.error === undefined) {\r\n            observer.error = noop;\r\n        }\r\n        if (observer.complete === undefined) {\r\n            observer.complete = noop;\r\n        }\r\n        const unsub = this.unsubscribeOne.bind(this, this.observers.length);\r\n        // Attempt to subscribe to a terminated Observable - we\r\n        // just respond to the Observer with the final error or complete\r\n        // event.\r\n        if (this.finalized) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this.task.then(() => {\r\n                try {\r\n                    if (this.finalError) {\r\n                        observer.error(this.finalError);\r\n                    }\r\n                    else {\r\n                        observer.complete();\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // nothing\r\n                }\r\n                return;\r\n            });\r\n        }\r\n        this.observers.push(observer);\r\n        return unsub;\r\n    }\r\n    // Unsubscribe is synchronous - we guarantee that no events are sent to\r\n    // any unsubscribed Observer.\r\n    unsubscribeOne(i) {\r\n        if (this.observers === undefined || this.observers[i] === undefined) {\r\n            return;\r\n        }\r\n        delete this.observers[i];\r\n        this.observerCount -= 1;\r\n        if (this.observerCount === 0 && this.onNoObservers !== undefined) {\r\n            this.onNoObservers(this);\r\n        }\r\n    }\r\n    forEachObserver(fn) {\r\n        if (this.finalized) {\r\n            // Already closed by previous event....just eat the additional values.\r\n            return;\r\n        }\r\n        // Since sendOne calls asynchronously - there is no chance that\r\n        // this.observers will become undefined.\r\n        for (let i = 0; i < this.observers.length; i++) {\r\n            this.sendOne(i, fn);\r\n        }\r\n    }\r\n    // Call the Observer via one of it's callback function. We are careful to\r\n    // confirm that the observe has not been unsubscribed since this asynchronous\r\n    // function had been queued.\r\n    sendOne(i, fn) {\r\n        // Execute the callback asynchronously\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.task.then(() => {\r\n            if (this.observers !== undefined && this.observers[i] !== undefined) {\r\n                try {\r\n                    fn(this.observers[i]);\r\n                }\r\n                catch (e) {\r\n                    // Ignore exceptions raised in Observers or missing methods of an\r\n                    // Observer.\r\n                    // Log error to console. b/31404806\r\n                    if (typeof console !== 'undefined' && console.error) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    close(err) {\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n        this.finalized = true;\r\n        if (err !== undefined) {\r\n            this.finalError = err;\r\n        }\r\n        // Proxy is no longer needed - garbage collect references\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.task.then(() => {\r\n            this.observers = undefined;\r\n            this.onNoObservers = undefined;\r\n        });\r\n    }\r\n}\r\n/** Turn synchronous function into one called asynchronously. */\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction async(fn, onError) {\r\n    return (...args) => {\r\n        Promise.resolve(true)\r\n            .then(() => {\r\n            fn(...args);\r\n        })\r\n            .catch((error) => {\r\n            if (onError) {\r\n                onError(error);\r\n            }\r\n        });\r\n    };\r\n}\r\n/**\r\n * Return true if the object passed in implements any of the named methods.\r\n */\r\nfunction implementsAnyMethods(obj, methods) {\r\n    if (typeof obj !== 'object' || obj === null) {\r\n        return false;\r\n    }\r\n    for (const method of methods) {\r\n        if (method in obj && typeof obj[method] === 'function') {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction noop() {\r\n    // do nothing\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Check to make sure the appropriate number of arguments are provided for a public function.\r\n * Throws an error if it fails.\r\n *\r\n * @param fnName The function name\r\n * @param minCount The minimum number of arguments to allow for the function call\r\n * @param maxCount The maximum number of argument to allow for the function call\r\n * @param argCount The actual number of arguments provided.\r\n */\r\nconst validateArgCount = function (fnName, minCount, maxCount, argCount) {\r\n    let argError;\r\n    if (argCount < minCount) {\r\n        argError = 'at least ' + minCount;\r\n    }\r\n    else if (argCount > maxCount) {\r\n        argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\r\n    }\r\n    if (argError) {\r\n        const error = fnName +\r\n            ' failed: Was called with ' +\r\n            argCount +\r\n            (argCount === 1 ? ' argument.' : ' arguments.') +\r\n            ' Expects ' +\r\n            argError +\r\n            '.';\r\n        throw new Error(error);\r\n    }\r\n};\r\n/**\r\n * Generates a string to prefix an error message about failed argument validation\r\n *\r\n * @param fnName The function name\r\n * @param argName The name of the argument\r\n * @return The prefix to add to the error thrown for validation.\r\n */\r\nfunction errorPrefix(fnName, argName) {\r\n    return `${fnName} failed: ${argName} argument `;\r\n}\r\n/**\r\n * @param fnName\r\n * @param argumentNumber\r\n * @param namespace\r\n * @param optional\r\n */\r\nfunction validateNamespace(fnName, namespace, optional) {\r\n    if (optional && !namespace) {\r\n        return;\r\n    }\r\n    if (typeof namespace !== 'string') {\r\n        //TODO: I should do more validation here. We only allow certain chars in namespaces.\r\n        throw new Error(errorPrefix(fnName, 'namespace') + 'must be a valid firebase namespace.');\r\n    }\r\n}\r\nfunction validateCallback(fnName, argumentName, \r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\ncallback, optional) {\r\n    if (optional && !callback) {\r\n        return;\r\n    }\r\n    if (typeof callback !== 'function') {\r\n        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid function.');\r\n    }\r\n}\r\nfunction validateContextObject(fnName, argumentName, context, optional) {\r\n    if (optional && !context) {\r\n        return;\r\n    }\r\n    if (typeof context !== 'object' || context === null) {\r\n        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid context object.');\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\r\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\r\n// so it's been modified.\r\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\r\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\r\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\r\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\r\n// pair).\r\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\r\n/**\r\n * @param {string} str\r\n * @return {Array}\r\n */\r\nconst stringToByteArray = function (str) {\r\n    const out = [];\r\n    let p = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        let c = str.charCodeAt(i);\r\n        // Is this the lead surrogate in a surrogate pair?\r\n        if (c >= 0xd800 && c <= 0xdbff) {\r\n            const high = c - 0xd800; // the high 10 bits.\r\n            i++;\r\n            assert(i < str.length, 'Surrogate pair missing trail surrogate.');\r\n            const low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\r\n            c = 0x10000 + (high << 10) + low;\r\n        }\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if (c < 65536) {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Calculate length without actually converting; useful for doing cheaper validation.\r\n * @param {string} str\r\n * @return {number}\r\n */\r\nconst stringLength = function (str) {\r\n    let p = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        const c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            p++;\r\n        }\r\n        else if (c < 2048) {\r\n            p += 2;\r\n        }\r\n        else if (c >= 0xd800 && c <= 0xdbff) {\r\n            // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\r\n            p += 4;\r\n            i++; // skip trail surrogate.\r\n        }\r\n        else {\r\n            p += 3;\r\n        }\r\n    }\r\n    return p;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Copied from https://stackoverflow.com/a/2117523\r\n * Generates a new uuid.\r\n * @public\r\n */\r\nconst uuidv4 = function () {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n        const r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n        return v.toString(16);\r\n    });\r\n};\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The amount of milliseconds to exponentially increase.\r\n */\r\nconst DEFAULT_INTERVAL_MILLIS = 1000;\r\n/**\r\n * The factor to backoff by.\r\n * Should be a number greater than 1.\r\n */\r\nconst DEFAULT_BACKOFF_FACTOR = 2;\r\n/**\r\n * The maximum milliseconds to increase to.\r\n *\r\n * <p>Visible for testing\r\n */\r\nconst MAX_VALUE_MILLIS = 4 * 60 * 60 * 1000; // Four hours, like iOS and Android.\r\n/**\r\n * The percentage of backoff time to randomize by.\r\n * See\r\n * http://go/safe-client-behavior#step-1-determine-the-appropriate-retry-interval-to-handle-spike-traffic\r\n * for context.\r\n *\r\n * <p>Visible for testing\r\n */\r\nconst RANDOM_FACTOR = 0.5;\r\n/**\r\n * Based on the backoff method from\r\n * https://github.com/google/closure-library/blob/master/closure/goog/math/exponentialbackoff.js.\r\n * Extracted here so we don't need to pass metadata and a stateful ExponentialBackoff object around.\r\n */\r\nfunction calculateBackoffMillis(backoffCount, intervalMillis = DEFAULT_INTERVAL_MILLIS, backoffFactor = DEFAULT_BACKOFF_FACTOR) {\r\n    // Calculates an exponentially increasing value.\r\n    // Deviation: calculates value from count and a constant interval, so we only need to save value\r\n    // and count to restore state.\r\n    const currBaseValue = intervalMillis * Math.pow(backoffFactor, backoffCount);\r\n    // A random \"fuzz\" to avoid waves of retries.\r\n    // Deviation: randomFactor is required.\r\n    const randomWait = Math.round(\r\n    // A fraction of the backoff value to add/subtract.\r\n    // Deviation: changes multiplication order to improve readability.\r\n    RANDOM_FACTOR *\r\n        currBaseValue *\r\n        // A random float (rounded to int by Math.round above) in the range [-1, 1]. Determines\r\n        // if we add or subtract.\r\n        (Math.random() - 0.5) *\r\n        2);\r\n    // Limits backoff to max to avoid effectively permanent backoff.\r\n    return Math.min(MAX_VALUE_MILLIS, currBaseValue + randomWait);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provide English ordinal letters after a number\r\n */\r\nfunction ordinal(i) {\r\n    if (!Number.isFinite(i)) {\r\n        return `${i}`;\r\n    }\r\n    return i + indicator(i);\r\n}\r\nfunction indicator(i) {\r\n    i = Math.abs(i);\r\n    const cent = i % 100;\r\n    if (cent >= 10 && cent <= 20) {\r\n        return 'th';\r\n    }\r\n    const dec = i % 10;\r\n    if (dec === 1) {\r\n        return 'st';\r\n    }\r\n    if (dec === 2) {\r\n        return 'nd';\r\n    }\r\n    if (dec === 3) {\r\n        return 'rd';\r\n    }\r\n    return 'th';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction getModularInstance(service) {\r\n    if (service && service._delegate) {\r\n        return service._delegate;\r\n    }\r\n    else {\r\n        return service;\r\n    }\r\n}\n\nexport { CONSTANTS, DecodeBase64StringError, Deferred, ErrorFactory, FirebaseError, MAX_VALUE_MILLIS, RANDOM_FACTOR, Sha1, areCookiesEnabled, assert, assertionError, async, base64, base64Decode, base64Encode, base64urlEncodeWithoutPadding, calculateBackoffMillis, contains, createMockUserToken, createSubscribe, decode, deepCopy, deepEqual, deepExtend, errorPrefix, extractQuerystring, getDefaultAppConfig, getDefaultEmulatorHost, getDefaultEmulatorHostnameAndPort, getDefaults, getExperimentalSetting, getGlobal, getModularInstance, getUA, isAdmin, isBrowser, isBrowserExtension, isElectron, isEmpty, isIE, isIndexedDBAvailable, isMobileCordova, isNode, isNodeSdk, isReactNative, isSafari, isUWP, isValidFormat, isValidTimestamp, isWebWorker, issuedAtTime, jsonEval, map, ordinal, promiseWithTimeout, querystring, querystringDecode, safeGet, stringLength, stringToByteArray, stringify, uuidv4, validateArgCount, validateCallback, validateContextObject, validateIndexedDBOpenable, validateNamespace };\n//# sourceMappingURL=index.esm2017.js.map\n","export default __webpack_public_path__ + \"static/profile2-1a4fccd05f315783340d7877b0379a61.jpg\";","import React from \"react\";\nimport { content } from \"../../types\";\nconst AccordionItem = ({\n  title,\n  children,\n  index,\n  currentTab,\n  accodionClickHandler,\n}: {\n  title: string;\n  children: content[];\n  index: number;\n  currentTab: number;\n  accodionClickHandler: (index: number) => void;\n}) => {\n  return (\n    <div className=\"accordion-item\">\n      <h5 className=\"accordion-header m-0\" id=\"headingProjectFour\">\n        <button\n          onClick={(e) => {\n            accodionClickHandler(index);\n          }}\n          className={`accordion-button fw-semibold ${\n            currentTab !== index ? \"collapsed\" : \"\"\n          }`}\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#collapseProjectFour\"\n          aria-expanded=\"false\"\n          aria-controls=\"collapseProjectFour\"\n        >\n          {title}\n        </button>\n      </h5>\n      <div\n        id=\"collapseProjectFour\"\n        className={`accordion-collapse collapse ${\n          currentTab === index ? \"show\" : \"\"\n        }`}\n        aria-labelledby=\"headingProjectFour\"\n        data-bs-parent=\"#accordionFront\"\n      >\n        <div className=\"accordion-body\">\n          <ul>\n            {children &&\n              children.length > 0 &&\n              children.map((child, index) => {\n                return (\n                  <li key={index}>\n                    {child.link ? (\n                      <a href={child.link}>{child.content}</a>\n                    ) : (\n                      child.content\n                    )}\n                  </li>\n                );\n              })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AccordionItem;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { content, tab } from \"../../types\";\nimport AccordionItem from \"../common/AccordionItem\";\n\nconst Web = () => {\n  const [hosturl, setHosturl] = useState(\"\");\n  const [epubUrl, setEpubFile] = useState(\"\");\n  const [pdfUrl, setPdfFile] = useState(\"\");\n\n  const [currentTab, setCurrentTab] = useState(-1);\n\n  const [tabList, setTabList] = useState<tab[]>([]);\n  useEffect(() => {\n    if (window) {\n      setHosturl(window.location.host);\n    }\n\n    setTabList([\n      {\n        title: \"전자책 뷰어\",\n        contentList: [\n          {\n            content: \"epub\",\n            link:\n              hosturl +\n              \"/EbookViewer/epub/web/desktop-viewer.html?epub=\" +\n              epubUrl,\n          },\n          {\n            content: \"pdf\",\n            link:\n              hosturl + \"/EbookViewer/pdf/web/pdf-viewer.html?file=\" + pdfUrl,\n          },\n        ],\n      },\n\n      {\n        title: \"아파트아이 앱 개발 참여(Web view)\",\n        contentList: [\n          {\n            content: \"아파트아이 - 아파트 소식 프론트엔드 개발 (80%)\",\n          },\n          {\n            content:\n              \"아파트아이 - 꿀단지(중고마켓) 개발(javascript ,.NET5 , MSSQL, Azure SignalR) (60%)\",\n          },\n        ],\n      },\n\n      {\n        title: \"Du.Plus 개발 참여(nextjs)\",\n        contentList: [\n          {\n            content: \"du.plus E-Book PC 뷰어 [EPUB, PDF] (100%)\",\n          },\n          {\n            content: \"App(Web View) 뷰어 개발 [EPUB, PDF] (50%)\",\n          },\n          {\n            content: \"프론트(next.js) 개발에 참여하였음 (20%)\",\n          },\n        ],\n      },\n\n      {\n        title: \"OOZI 개발 참여\",\n        contentList: [\n          {\n            content: \"OOZI 의 백엔드 개발(API 개발) .NET REST API (80%)\",\n          },\n        ],\n      },\n    ]);\n  }, []);\n\n  const accodionClickHandler = (e: any) => {\n    setCurrentTab(e === currentTab ? -1 : e);\n  };\n\n  return (\n    <div className=\"tab-pane p-3 active\" id=\"front\" role=\"tabpanel\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h6 className=\"font-15 fw-bold d-block mt-1 mb-1\">\n                프로젝트 목록\n              </h6>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"accordion\" id=\"accordionFront\">\n                {tabList &&\n                  tabList.length > 0 &&\n                  tabList.map((tab, index) => {\n                    return (\n                      <AccordionItem\n                        title={tab.title}\n                        children={tab.contentList}\n                        accodionClickHandler={accodionClickHandler}\n                        index={index}\n                        key={index}\n                        currentTab={currentTab}\n                      />\n                    );\n                  })}\n                {/* <div className=\"accordion-item\">\n                  <h5 className=\"accordion-header m-0\" id=\"headingProjectOne\">\n                    <button\n                      onClick={(e) => {\n                        accodionClickHandler(0);\n                      }}\n                      className={`accordion-button fw-semibold ${\n                        currentTab !== 0 ? \"collapsed\" : \"\"\n                      }`}\n                      type=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      data-bs-target=\"#collapseProjectOne\"\n                      aria-expanded=\"false\"\n                      aria-controls=\"collapseProjectOne\"\n                    >\n                      전자책 뷰어\n                    </button>\n                  </h5>\n                  {hosturl && (\n                    <div\n                      id=\"collapseProjectOne\"\n                      className={`accordion-collapse collapse ${\n                        currentTab === 0 ? \"show\" : \"\"\n                      }`}\n                      aria-labelledby=\"headingProjectOne\"\n                      data-bs-parent=\"#accordionFront\"\n                    >\n                      <div className=\"accordion-body\">\n                        <ul>\n                          <li>\n                            epub :{\" \"}\n                            <a\n                              href={\n                                hosturl +\n                                \"/EbookViewer/epub/web/desktop-viewer.html?epub=\" +\n                                epubUrl\n                              }\n                            >\n                              {\" \"}\n                              클릭해서 이동\n                            </a>\n                          </li>\n                          <li>\n                            PDF :{\" \"}\n                            <a\n                              href={\n                                hosturl +\n                                \"/EbookViewer/pdf/web/pdf-viewer.html?file=\" +\n                                pdfUrl\n                              }\n                            >\n                              {\" \"}\n                              클릭해서 이동\n                            </a>\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                  )}\n                </div>\n                <div className=\"accordion-item\">\n                  <h5 className=\"accordion-header m-0\" id=\"headingProjectTwo\">\n                    <button\n                      onClick={(e) => {\n                        accodionClickHandler(1);\n                      }}\n                      className={`accordion-button fw-semibold ${\n                        currentTab !== 1 ? \"collapsed\" : \"\"\n                      }`}\n                      type=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      data-bs-target=\"#collapseProjectTwo\"\n                      aria-expanded=\"false\"\n                      aria-controls=\"collapseProjectTwo\"\n                    >\n                      아파트아이 앱 개발 참여(Web View)\n                    </button>\n                  </h5>\n                  <div\n                    id=\"collapseProjectTwo\"\n                    className={`accordion-collapse collapse ${\n                      currentTab === 1 ? \"show\" : \"\"\n                    }`}\n                    aria-labelledby=\"headingProjectTwo\"\n                    data-bs-parent=\"#accordionFront\"\n                  >\n                    <div className=\"accordion-body\">\n                      <ul>\n                        <li>아파트아이 - 아파트 소식 프론트엔드 개발 (80%)</li>\n                        <li>\n                          아파트아이 - 꿀단지(중고마켓) 개발(javascript ,.NET5 ,\n                          MSSQL, Azure SignalR) (60%)\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"accordion-item\">\n                  <h5 className=\"accordion-header m-0\" id=\"headingProjectThree\">\n                    <button\n                      onClick={(e) => {\n                        accodionClickHandler(2);\n                      }}\n                      className={`accordion-button fw-semibold ${\n                        currentTab !== 2 ? \"collapsed\" : \"\"\n                      }`}\n                      type=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      data-bs-target=\"#collapseProjectThree\"\n                      aria-expanded=\"false\"\n                      aria-controls=\"collapseProjectThree\"\n                    >\n                      Du.Plus 개발 참여(nextjs)\n                    </button>\n                  </h5>\n                  <div\n                    id=\"collapseProjectThree\"\n                    className={`accordion-collapse collapse ${\n                      currentTab === 2 ? \"show\" : \"\"\n                    }`}\n                    aria-labelledby=\"headingProjectThree\"\n                    data-bs-parent=\"#accordionFront\"\n                  >\n                    <div className=\"accordion-body\">\n                      <ul>\n                        <li>du.plus E-Book PC 뷰어 [EPUB, PDF] (100%)</li>\n                        <li>App(Web View) 뷰어 개발 [EPUB, PDF] (50%)</li>\n                        <li>프론트(next.js) 개발에 참여하였음 (20%)</li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"accordion-item\">\n                  <h5 className=\"accordion-header m-0\" id=\"headingProjectFour\">\n                    <button\n                      onClick={(e) => {\n                        accodionClickHandler(3);\n                      }}\n                      className={`accordion-button fw-semibold ${\n                        currentTab !== 3 ? \"collapsed\" : \"\"\n                      }`}\n                      type=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      data-bs-target=\"#collapseProjectFour\"\n                      aria-expanded=\"false\"\n                      aria-controls=\"collapseProjectFour\"\n                    >\n                      OOZI 개발 참여\n                    </button>\n                  </h5>\n                  <div\n                    id=\"collapseProjectFour\"\n                    className={`accordion-collapse collapse ${\n                      currentTab === 3 ? \"show\" : \"\"\n                    }`}\n                    aria-labelledby=\"headingProjectFour\"\n                    data-bs-parent=\"#accordionFront\"\n                  >\n                    <div className=\"accordion-body\">\n                      <ul>\n                        <li>\n                          OOZI 의 백엔드 개발(API 개발) .NET REST API (80%)\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div> */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Web;\n","import React, { useEffect, useState } from \"react\";\ndeclare const naver: any;\n\nconst Info = () => {\n  const [highSchoolMap, setHighSchoolMap] = useState<any>(null);\n  const [universityMap, setUniversityMap] = useState<any>(null);\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src =\n      \"https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=b15q7nzk9p\";\n    script.async = true;\n    document.body.appendChild(script);\n\n    script.onload = () => {\n      if (!naver) {\n        return;\n      }\n      setHighSchoolMap(\n        new naver.maps.Map(\"mapHighSchool\", {\n          center: new naver.maps.LatLng(36.7935697, 126.4587419),\n          zoom: 15,\n        })\n      );\n      setUniversityMap(\n        new naver.maps.Map(\"mapUniversity\", {\n          center: new naver.maps.LatLng(36.8374266, 127.1687229),\n          zoom: 15,\n        })\n      );\n    };\n    return () => {\n      if (script) {\n        document.body.removeChild(script);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!highSchoolMap || !universityMap || !naver) {\n      return;\n    }\n    new naver.maps.Marker({\n      position: new naver.maps.LatLng(36.7935697, 126.4587419),\n      map: highSchoolMap,\n    });\n    new naver.maps.Marker({\n      position: new naver.maps.LatLng(36.8374266, 127.1687229),\n      map: universityMap,\n    });\n  }, [highSchoolMap, universityMap]);\n\n  return (\n    <div className=\"tab-pane p-3 active\" role=\"tabpanel\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h6 className=\"font-15 fw-bold d-block mt-1 mb-1\">\n                내가 다닌 학교\n              </h6>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"accordion\" id=\"accordionSchool\">\n                <div className=\"row\">\n                  <div className=\"accordion-item col-6\">\n                    <h5\n                      className=\"accordion-header checkout-accordion m-0\"\n                      id=\"headingSchoolTwo\"\n                    >\n                      <button\n                        className=\"accordion-button fw-semibold\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target=\"#collapseSchoolTwo\"\n                        aria-expanded=\"false\"\n                        aria-controls=\"collapseSchoolTwo\"\n                      >\n                        단국대학교(천안)\n                      </button>\n                    </h5>\n                    <div\n                      id=\"collapseSchoolTwo\"\n                      className=\"accordion-collapse collapse show\"\n                      aria-labelledby=\"headingSchoolTwo\"\n                      data-bs-parent=\"#accordionSchool\"\n                    >\n                      <div className=\"accordion-body\">\n                        위치 : <br></br>\n                        <div\n                          id=\"mapUniversity\"\n                          className=\"gmaps\"\n                          style={{\n                            position: \"relative\",\n                            overflow: \"hidden\",\n                            width: \"100%\",\n                          }}\n                        ></div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"accordion-item col-6\">\n                    <h5\n                      className=\"accordion-header checkout-accordion m-0\"\n                      id=\"headingSchoolOne\"\n                    >\n                      <button\n                        className=\"accordion-button fw-semibold\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target=\"#collapseSchoolOne\"\n                        aria-expanded=\"false\"\n                        aria-controls=\"collapseSchoolOne\"\n                      >\n                        서령 고등학교\n                      </button>\n                    </h5>\n                    <div\n                      id=\"collapseSchoolOne\"\n                      className=\"accordion-collapse show\"\n                      aria-labelledby=\"headingSchoolOne\"\n                      data-bs-parent=\"#accordionSchool\"\n                    >\n                      <div className=\"accordion-body\">\n                        위치 : <br></br>\n                        <div\n                          id=\"mapHighSchool\"\n                          className=\"gmaps\"\n                          style={{\n                            position: \"relative\",\n                            overflow: \"hidden\",\n                            width: \"100%\",\n                          }}\n                        ></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* 내가 다닌 학교 끝*/}\n\n      {/* 내가 딴 자격증! 시작*/}\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h6 className=\"font-15 fw-bold d-block mt-1 mb-1\">\n                내가 딴 자격증\n              </h6>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"accordion\" id=\"accordionCertificate\">\n                <div className=\"accordion-item\">\n                  <h5\n                    className=\"accordion-header m-0 checkout-accordion\"\n                    id=\"headingCertificateOne\"\n                  >\n                    <button\n                      className=\"accordion-button fw-semibold collapsed\"\n                      type=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      data-bs-target=\"#collapseCertificateOne\"\n                      aria-expanded=\"false\"\n                      aria-controls=\"collapseCertificateOne\"\n                    >\n                      정보처리기사\n                    </button>\n                  </h5>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* 내가 딴 자격증! 끝 */}\n    </div>\n  );\n};\n\nexport default Info;\n","import React from \"react\";\nconst Introduce = () => {\n  return (\n    <div className=\"tab-pane p-3 active\" id=\"intro\" role=\"tabpanel\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h6 className=\"font-15 fw-bold d-block mt-1 mb-1\">\n                간단하게 내 소개\n              </h6>\n            </div>\n            <div className=\"card-body\">\n              <p className=\"font-15 mt-4\">\n                WPF로 키오스크를 개발하여 C# 언어에 대한 깊은 이해를 할 수\n                있었고 이어서 자사 솔루션 모니터링 시스템을 개발하며 WPF와 더욱\n                친숙 해 질 수 있었습니다. 2020년 부터는 웹개발도 병행하여 .NET\n                Core 로 항공기상청 모니터링 웹 사이트(AMOS)를 개발하였습니다.\n                AMOS로 웹 개발에도 친숙 해 져 OOZI 개발에서 API 개발을\n                담당하였고 Du.Plus 앱개발에 참여하여 EPUB, PDF 뷰어 오픈소스를\n                사용해 전자책 뷰어를 만들었고, NextJs로 프론트엔드 개발에\n                참여하였습니다. 아파트아이 앱 개발에서는 아파트아이 리뉴얼\n                개발을 하였고, 꿀단지(아파트 단지 내 중고장터) 를 개발하며 채팅\n                기능 거래 기능 등을 접할 수 있었습니다.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h6 className=\"font-15 fw-bold d-block mt-1 mb-1\">\n                    좋아하는 것\n                  </h6>\n                </div>\n                <div className=\"card-body\">\n                  <p className=\"font-14 text-muted ms-3\">농구</p>\n\n                  <p className=\"font-14 text-muted ms-3\">독서</p>\n\n                  <p className=\"font-14 text-muted ms-3\">맛집탐방</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-6\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h6 className=\"font-15 fw-bold d-block mt-1 mb-1\">\n                    싫어하는 것\n                  </h6>\n                </div>\n                <div className=\"card-body\">\n                  <p className=\"font-14 text-muted ms-3\">피곤함</p>\n                  <p className=\"font-14 text-muted ms-3\">반복작업</p>\n                  <p className=\"font-14 text-muted ms-3\">무력감</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Introduce;\n","import React, { useEffect, useState } from \"react\";\nimport { tab } from \"../../types\";\nimport AccordionItem from \"../common/AccordionItem\";\n\nconst Dekstop = () => {\n  const [currentTab, setCurrentTab] = useState(-1);\n\n  const [tabList, setTabList] = useState<tab[]>([]);\n  useEffect(() => {\n    setTabList([\n      {\n        title: \"이니스프리 키오스크\",\n        contentList: [\n          {\n            content:\n              \"WPF를 이용해 이니스프리 매장 내 안내 키오스크 개발 (100%)\",\n          },\n          {\n            content:\n              \"이니스프리 스마트그린어스 API 연동 및 키오스크 고도화, 수정 사항 개발 (100%)\",\n          },\n        ],\n      },\n\n      {\n        title:\n          \"BeeCast(신텍정보시스템 자사 솔루션) Network Monitoring System 개발\",\n        contentList: [\n          {\n            content: \"BeeCast네트워크 모니터링 시스템 개발(WPF) (100%)\",\n          },\n        ],\n      },\n    ]);\n  }, []);\n\n  const accodionClickHandler = (e: any) => {\n    setCurrentTab(e === currentTab ? -1 : e);\n  };\n\n  return (\n    <div className=\"tab-pane p-3 active\" role=\"tabpanel\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h6 className=\"font-15 fw-bold d-block mt-1 mb-1\">\n                프로젝트 목록\n              </h6>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"accordion\" id=\"accordionDesktop\">\n                {tabList &&\n                  tabList.length > 0 &&\n                  tabList.map((tab, index) => {\n                    return (\n                      <AccordionItem\n                        title={tab.title}\n                        children={tab.contentList}\n                        accodionClickHandler={accodionClickHandler}\n                        index={index}\n                        key={index}\n                        currentTab={currentTab}\n                      />\n                    );\n                  })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dekstop;\n","//db address : https://bhproject-305102-default-rtdb.asia-southeast1.firebasedatabase.app/\n\nimport { getDatabase, set, ref, get, child, push } from \"@firebase/database\";\nimport { initializeApp } from \"@firebase/app\";\n\n// TODO: Replace the following with your app's Firebase project configuration\n// See: https://firebase.google.com/docs/web/learn-more#config-object\nconst firebaseConfig = {\n  // ...\n  // The value of `databaseURL` depends on the location of the database\n  databaseURL:\n    \"https://bhproject-305102-default-rtdb.asia-southeast1.firebasedatabase.app/\",\n};\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nexport function setFirebaseData(path: string, data: any) {\n  const nowDate = new Date();\n\n  const database = getDatabase(app);\n  const result = set(ref(database, path + nowDate.getTime()), data);\n  return result;\n}\n\nexport function pushFirebaseData(path: string, data: any) {\n  // Create a new post reference with an auto-generated id\n  const db = getDatabase(app);\n  const postListRef = ref(db, path);\n  const newPostRef = push(postListRef);\n  return set(newPostRef, data);\n}\n\nexport function getFirebaseData(path: string) {\n  const promise = new Promise((resolve, reject) => {\n    const dbRef = ref(getDatabase(app));\n    get(child(dbRef, `${path}`))\n      .then((snapshot) => {\n        if (snapshot.exists()) {\n          resolve({ success: true, data: snapshot.val() });\n          // console.log(snapshot.val());\n          // return snapshot.val();\n        } else {\n          // console.log(\"No data available\");\n          reject({ success: false, data: snapshot.val() });\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  });\n\n  return promise;\n}\n\nexport function deleteFirebaseData(path: string) {\n  const database = getDatabase(app);\n  const result = set(ref(database, path), null);\n  return result;\n}\n","export function commonIsAdmin() {\n  const cookies = document.cookie;\n  if (cookies.includes(\"qudgus\")) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport default function fetcher(url: string) {\n  return fetch(url).then((r) => r.json());\n}\n\nexport function getBase64(file: File): Promise<string> {\n  let promise: Promise<string> = new Promise((resolve, reject) => {\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      if (typeof reader.result !== \"string\") {\n        reject(\"base64 변환 실패\");\n      } else {\n        return resolve(reader.result);\n      }\n    };\n    reader.onerror = reject;\n  });\n\n  return promise;\n}\n","import { useEffect, useState } from \"react\";\nimport {\n  setFirebaseData,\n  getFirebaseData,\n  pushFirebaseData,\n  deleteFirebaseData,\n} from \"../../../utils/firebase\";\nimport { commonIsAdmin } from \"../../../utils/common\";\nimport React from \"react\";\nexport default function TraceBasic({ Name, Contents, Date, key }: any) {\n  const deleteTrace = () => {\n    deleteFirebaseData(\"/traces/\" + key);\n  };\n\n  const [isAdmin, setIsAdmin] = useState(false);\n  useEffect(() => {\n    setIsAdmin(commonIsAdmin());\n  }, []);\n\n  return (\n    <>\n      <div\n        className=\"alert alert-primary alert-dismissible fade show border-0 b-round\"\n        role=\"alert\"\n      >\n        <strong>{Name ? Name : \"unknown\"}</strong> : {Contents} | {Date}\n        {isAdmin && (\n          <button\n            type=\"button\"\n            className=\"btn-close\"\n            aria-label=\"Close\"\n            onClick={(e) => {\n              deleteTrace();\n            }}\n          ></button>\n        )}\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport {\n  setFirebaseData,\n  getFirebaseData,\n  pushFirebaseData,\n  deleteFirebaseData,\n} from \"../../../utils/firebase\";\nimport TraceBasic from \"../components/TraceBasic\";\nexport default function TraceList() {\n  const [data, setData] = useState<any>([]);\n  useEffect(() => {\n    const traceData = getFirebaseData(\"traces/\").then((res: any) => {\n      if (res && res.success) {\n        let keys = Object.keys(res.data);\n        let data = Object.values(res.data);\n        let tempData = [];\n        let index = 0;\n        for (let item of data as any) {\n          item.key = keys[index];\n          tempData.push(item);\n          index++;\n        }\n        setData(tempData);\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <div className=\"row\" style={{ marginTop: \"10px\" }}>\n        <div className=\"col-lg-12\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              {data &&\n                data.length > 0 &&\n                data.map((item: any) => {\n                  return (\n                    <TraceBasic\n                      Name={item.name}\n                      Contents={item.contents}\n                      Date={item.date}\n                      key={item.key}\n                    ></TraceBasic>\n                  );\n                })}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport TraceHeader from \"../organisms/TraceHeader\";\nimport TraceList from \"../organisms/TraceList\";\nexport default function TraceMainView() {\n  return (\n    <>\n      {/* <TraceHeader></TraceHeader> */}\n      <TraceList></TraceList>\n    </>\n  );\n}\n","import React from \"react\";\nimport TraceMainView from \"./template/TraceMainView\";\n\nexport default function TraceIndexPage() {\n  return <TraceMainView></TraceMainView>;\n}\n","import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport {\n  setFirebaseData,\n  getFirebaseData,\n  pushFirebaseData,\n  deleteFirebaseData,\n} from \"../../../utils/firebase\";\nimport { commonIsAdmin } from \"../../../utils/common\";\nexport default function BlogContent({ data }: any) {\n  const [isAdmin, setIsAdmin] = useState(false);\n  useEffect(() => {\n    setIsAdmin(commonIsAdmin());\n  }, []);\n\n  const deleteBlog = (key: string) => {\n    deleteFirebaseData(\"/blogs/\" + key);\n  };\n  return (\n    <>\n      <div className=\"col-lg-4\">\n        <div className=\"card\" style={{ height: 300 }}>\n          <div className=\"card-body\">\n            <div className=\"blog-card\" style={{ overflowX: \"auto\" }}>\n              {data.image && (\n                <img\n                  src={data.image ? data.image : \"/images/profile.png\"}\n                  alt=\"\"\n                  className=\"img-fluid rounded\"\n                  style={{ height: \"150px\", margin: \"0 auto\" }}\n                ></img>\n              )}\n\n              <h4 className=\"my-3\" style={{ height: 20 }}>\n                {data.subject}\n              </h4>\n              <p style={{ height: 130 }} className=\"text-muted\">\n                {data.description}\n              </p>\n              {/* <hr className=\"hr-dashed\"></hr>\n                        <div className=\"d-flex justify-content-between\">\n                            <div className=\"meta-box\">\n                                <div className=\"media\">\n                                    <img src=\"assets/images/users/user-5.jpg\" alt=\"\" className=\"thumb-sm rounded-circle me-2\"></img>\n                                    <div className=\"media-body align-self-center text-truncate\">\n                                        <h6 className=\"m-0 text-dark\">Donald Gardner</h6>\n                                        <ul className=\"p-0 list-inline mb-0\">\n                                            <li className=\"list-inline-item\">26 mars 2020</li>\n                                            <li className=\"list-inline-item\">by <a href=\"\">admin</a></li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"align-self-center\">\n                                <a href=\"#\" className=\"text-dark\">Read more <i className=\"fas fa-long-arrow-alt-right\"></i></a>\n                            </div>\n                        </div> */}\n              {isAdmin && (\n                <button\n                  type=\"button\"\n                  className=\"btn-close\"\n                  aria-label=\"Close\"\n                  onClick={(e) => {\n                    deleteBlog(data.key);\n                  }}\n                ></button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport { getFirebaseData } from \"../../../utils/firebase\";\nimport BlogContent from \"../components/BlogContent\";\n\nexport default function BlogContentList() {\n  const [data, setData] = useState<any>([]);\n  useEffect(() => {\n    const blogData = getFirebaseData(\"blogs/\").then((res: any) => {\n      if (res && res.success) {\n        let data = Object.values(res.data);\n        let keys = Object.keys(res.data);\n        let tempData = [];\n        let resultData = [];\n        let index = 0;\n        for (let item of data as any) {\n          item.key = keys[index];\n          tempData.push(item);\n          index++;\n\n          if (tempData.length == 3) {\n            resultData.push(tempData);\n            tempData = [];\n          }\n          if (index == data.length && tempData.length > 0) {\n            resultData.push(tempData);\n          }\n        }\n        setData(resultData);\n      }\n    });\n    // readFile(\"blog.json\").then((res) => {\n    //     if (res && res.length > 0) {\n    //         let tempData = [];\n    //         let resultData = [];\n    //         let index = 0;\n    //         for (let item of res) {\n    //             tempData.push(item);\n    //             index++;\n\n    //             if (tempData.length == 3) {\n    //                 resultData.push(tempData);\n    //                 tempData = [];\n    //             }\n    //             if (index == res.length && tempData.length > 0) {\n    //                 resultData.push(tempData);\n    //             }\n    //         }\n    //         setData(resultData);\n    //     }\n    // });\n  }, []);\n\n  return (\n    <div style={{ marginTop: \"10px\" }}>\n      {data &&\n        data.length > 0 &&\n        data.map((rowItem: any, rowIndex: number) => {\n          return (\n            <div key={rowIndex} className=\"row\">\n              {rowItem.map((item: any, itemIndex: number) => {\n                return <BlogContent data={item} key={itemIndex}></BlogContent>;\n              })}\n            </div>\n          );\n        })}\n    </div>\n  );\n}\n","import React from \"react\";\nimport BlogHeader from \"../organisms/BlogHeader\";\nimport BlogContentList from \"../organisms/BlogContentList\";\nexport default function BlogMainView() {\n  return (\n    <>\n      <BlogContentList></BlogContentList>\n    </>\n  );\n}\n","import React from \"react\";\nimport BlogMainView from \"./template/BlogMainView\";\n\nexport default function BlogIndexPage() {\n  return (\n    <>\n      <BlogMainView></BlogMainView>\n    </>\n  );\n}\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","'use client';\nimport e,{isValidElement as t,useRef as n,useLayoutEffect as o,useEffect as s,cloneElement as a,useSyncExternalStore as r,useState as i}from\"react\";import l from\"clsx\";const c=e=>\"number\"==typeof e&&!isNaN(e),d=e=>\"string\"==typeof e,u=e=>\"function\"==typeof e,p=e=>d(e)||u(e)?e:null,m=e=>t(e)||d(e)||u(e)||c(e);function f(e,t,n){void 0===n&&(n=300);const{scrollHeight:o,style:s}=e;requestAnimationFrame(()=>{s.minHeight=\"initial\",s.height=o+\"px\",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height=\"0\",s.padding=\"0\",s.margin=\"0\",setTimeout(t,n)})})}function g(t){let{enter:a,exit:r,appendPosition:i=!1,collapse:l=!0,collapseDuration:c=300}=t;return function(t){let{children:d,position:u,preventExitTransition:p,done:m,nodeRef:g,isIn:y,playToast:v}=t;const h=i?`${a}--${u}`:a,T=i?`${r}--${u}`:r,E=n(0);return o(()=>{const e=g.current,t=h.split(\" \"),n=o=>{o.target===g.current&&(v(),e.removeEventListener(\"animationend\",n),e.removeEventListener(\"animationcancel\",n),0===E.current&&\"animationcancel\"!==o.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener(\"animationend\",n),e.addEventListener(\"animationcancel\",n)},[]),s(()=>{const e=g.current,t=()=>{e.removeEventListener(\"animationend\",t),l?f(e,m,c):m()};y||(p?t():(E.current=1,e.className+=` ${T}`,e.addEventListener(\"animationend\",t)))},[y]),e.createElement(e.Fragment,null,d)}}function y(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const v=new Map;let h=[];const T=new Set,E=e=>T.forEach(t=>t(e)),b=()=>v.size>0;function I(e,t){var n;if(t)return!(null==(n=v.get(t))||!n.isToastActive(e));let o=!1;return v.forEach(t=>{t.isToastActive(e)&&(o=!0)}),o}function _(e,t){m(e)&&(b()||h.push({content:e,options:t}),v.forEach(n=>{n.buildToast(e,t)}))}function C(e,t){v.forEach(n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)})}function L(e){const{subscribe:o,getSnapshot:s,setProps:i}=n(function(e){const n=e.containerId||1;return{subscribe(o){const s=function(e,n,o){let s=1,r=0,i=[],l=[],f=[],g=n;const v=new Map,h=new Set,T=()=>{f=Array.from(v.values()),h.forEach(e=>e())},E=e=>{l=null==e?[]:l.filter(t=>t!==e),T()},b=e=>{const{toastId:n,onOpen:s,updateId:a,children:r}=e.props,i=null==a;e.staleId&&v.delete(e.staleId),v.set(n,e),l=[...l,e.props.toastId].filter(t=>t!==e.staleId),T(),o(y(e,i?\"added\":\"updated\")),i&&u(s)&&s(t(r)&&r.props)};return{id:e,props:g,observe:e=>(h.add(e),()=>h.delete(e)),toggle:(e,t)=>{v.forEach(n=>{null!=t&&t!==n.props.toastId||u(n.toggle)&&n.toggle(e)})},removeToast:E,toasts:v,clearQueue:()=>{r-=i.length,i=[]},buildToast:(n,l)=>{if((t=>{let{containerId:n,toastId:o,updateId:s}=t;const a=n?n!==e:1!==e,r=v.has(o)&&null==s;return a||r})(l))return;const{toastId:f,updateId:h,data:I,staleId:_,delay:C}=l,L=()=>{E(f)},N=null==h;N&&r++;const $={...g,style:g.toastStyle,key:s++,...Object.fromEntries(Object.entries(l).filter(e=>{let[t,n]=e;return null!=n})),toastId:f,updateId:h,data:I,closeToast:L,isIn:!1,className:p(l.className||g.toastClassName),bodyClassName:p(l.bodyClassName||g.bodyClassName),progressClassName:p(l.progressClassName||g.progressClassName),autoClose:!l.isLoading&&(w=l.autoClose,k=g.autoClose,!1===w||c(w)&&w>0?w:k),deleteToast(){const e=v.get(f),{onClose:n,children:s}=e.props;u(n)&&n(t(s)&&s.props),o(y(e,\"removed\")),v.delete(f),r--,r<0&&(r=0),i.length>0?b(i.shift()):T()}};var w,k;$.closeButton=g.closeButton,!1===l.closeButton||m(l.closeButton)?$.closeButton=l.closeButton:!0===l.closeButton&&($.closeButton=!m(g.closeButton)||g.closeButton);let P=n;t(n)&&!d(n.type)?P=a(n,{closeToast:L,toastProps:$,data:I}):u(n)&&(P=n({closeToast:L,toastProps:$,data:I}));const M={content:P,props:$,staleId:_};g.limit&&g.limit>0&&r>g.limit&&N?i.push(M):c(C)?setTimeout(()=>{b(M)},C):b(M)},setProps(e){g=e},setToggle:(e,t)=>{v.get(e).toggle=t},isToastActive:e=>l.some(t=>t===e),getSnapshot:()=>g.newestOnTop?f.reverse():f}}(n,e,E);v.set(n,s);const r=s.observe(o);return h.forEach(e=>_(e.content,e.options)),h=[],()=>{r(),v.delete(n)}},setProps(e){var t;null==(t=v.get(n))||t.setProps(e)},getSnapshot(){var e;return null==(e=v.get(n))?void 0:e.getSnapshot()}}}(e)).current;i(e);const l=r(o,s,s);return{getToastToRender:function(e){if(!l)return[];const t=new Map;return l.forEach(e=>{const{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)}),Array.from(t,t=>e(t[0],t[1]))},isToastActive:I,count:null==l?void 0:l.length}}function N(e){const[t,o]=i(!1),[a,r]=i(!1),l=n(null),c=n({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:u,closeToast:p,onClick:m,closeOnClick:f}=e;var g,y;function h(){o(!0)}function T(){o(!1)}function E(n){const o=l.current;c.canDrag&&o&&(c.didMove=!0,t&&T(),c.delta=\"x\"===e.draggableDirection?n.clientX-c.start:n.clientY-c.start,c.start!==n.clientX&&(c.canCloseOnClick=!1),o.style.transform=`translate3d(${\"x\"===e.draggableDirection?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,o.style.opacity=\"\"+(1-Math.abs(c.delta/c.removalDistance)))}function b(){document.removeEventListener(\"pointermove\",E),document.removeEventListener(\"pointerup\",b);const t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return r(!0),e.closeToast(),void e.collapseAll();t.style.transition=\"transform 0.2s, opacity 0.2s\",t.style.removeProperty(\"transform\"),t.style.removeProperty(\"opacity\")}}null==(y=v.get((g={id:e.toastId,containerId:e.containerId,fn:o}).containerId||1))||y.setToggle(g.id,g.fn),s(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||T(),window.addEventListener(\"focus\",h),window.addEventListener(\"blur\",T),()=>{window.removeEventListener(\"focus\",h),window.removeEventListener(\"blur\",T)}},[e.pauseOnFocusLoss]);const I={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){c.didMove=!1,document.addEventListener(\"pointermove\",E),document.addEventListener(\"pointerup\",b);const n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,n.style.transition=\"none\",\"x\"===e.draggableDirection?(c.start=t.clientX,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=t.clientY,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:o,left:s,right:a}=l.current.getBoundingClientRect();\"touchend\"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=s&&t.clientX<=a&&t.clientY>=n&&t.clientY<=o?T():h()}};return d&&u&&(I.onMouseEnter=T,e.stacked||(I.onMouseLeave=h)),f&&(I.onClick=e=>{m&&m(e),c.canCloseOnClick&&p()}),{playToast:h,pauseToast:T,isRunning:t,preventExitTransition:a,toastRef:l,eventHandlers:I}}function $(t){let{delay:n,isRunning:o,closeToast:s,type:a=\"default\",hide:r,className:i,style:c,controlledProgress:d,progress:p,rtl:m,isIn:f,theme:g}=t;const y=r||d&&0===p,v={...c,animationDuration:`${n}ms`,animationPlayState:o?\"running\":\"paused\"};d&&(v.transform=`scaleX(${p})`);const h=l(\"Toastify__progress-bar\",d?\"Toastify__progress-bar--controlled\":\"Toastify__progress-bar--animated\",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${a}`,{\"Toastify__progress-bar--rtl\":m}),T=u(i)?i({rtl:m,type:a,defaultClassName:h}):l(h,i),E={[d&&p>=1?\"onTransitionEnd\":\"onAnimationEnd\"]:d&&p<1?null:()=>{f&&s()}};return e.createElement(\"div\",{className:\"Toastify__progress-bar--wrp\",\"data-hidden\":y},e.createElement(\"div\",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${a}`}),e.createElement(\"div\",{role:\"progressbar\",\"aria-hidden\":y?\"true\":\"false\",\"aria-label\":\"notification timer\",className:T,style:v,...E}))}let w=1;const k=()=>\"\"+w++;function P(e){return e&&(d(e.toastId)||c(e.toastId))?e.toastId:k()}function M(e,t){return _(e,t),t.toastId}function x(e,t){return{...t,type:t&&t.type||e,toastId:P(t)}}function A(e){return(t,n)=>M(t,x(e,n))}function B(e,t){return M(e,x(\"default\",t))}B.loading=(e,t)=>M(e,x(\"default\",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),B.promise=function(e,t,n){let o,{pending:s,error:a,success:r}=t;s&&(o=d(s)?B.loading(s,n):B.loading(s.render,{...n,...s}));const i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void B.dismiss(o);const a={type:e,...i,...n,data:s},r=d(t)?{render:t}:t;return o?B.update(o,{...a,...r}):B(r.render,{...a,...r}),s},c=u(e)?e():e;return c.then(e=>l(\"success\",r,e)).catch(e=>l(\"error\",a,e)),c},B.success=A(\"success\"),B.info=A(\"info\"),B.error=A(\"error\"),B.warning=A(\"warning\"),B.warn=B.warning,B.dark=(e,t)=>M(e,x(\"default\",{theme:\"dark\",...t})),B.dismiss=function(e){!function(e){var t;if(b()){if(null==e||d(t=e)||c(t))v.forEach(t=>{t.removeToast(e)});else if(e&&(\"containerId\"in e||\"id\"in e)){const t=v.get(e.containerId);t?t.removeToast(e.id):v.forEach(t=>{t.removeToast(e.id)})}}else h=h.filter(t=>null!=e&&t.options.toastId!==e)}(e)},B.clearWaitingQueue=function(e){void 0===e&&(e={}),v.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},B.isActive=I,B.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:o}=t;return null==(n=v.get(o||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:o,content:s}=n,a={delay:100,...o,...t,toastId:t.toastId||e,updateId:k()};a.toastId!==e&&(a.staleId=e);const r=a.render||s;delete a.render,M(r,a)}},B.done=e=>{B.update(e,{progress:1})},B.onChange=function(e){return T.add(e),()=>{T.delete(e)}},B.play=e=>C(!0,e),B.pause=e=>C(!1,e);const O=\"undefined\"!=typeof window?o:s,D=t=>{let{theme:n,type:o,isLoading:s,...a}=t;return e.createElement(\"svg\",{viewBox:\"0 0 24 24\",width:\"100%\",height:\"100%\",fill:\"colored\"===n?\"currentColor\":`var(--toastify-icon-color-${o})`,...a})},z={info:function(t){return e.createElement(D,{...t},e.createElement(\"path\",{d:\"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z\"}))},warning:function(t){return e.createElement(D,{...t},e.createElement(\"path\",{d:\"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z\"}))},success:function(t){return e.createElement(D,{...t},e.createElement(\"path\",{d:\"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z\"}))},error:function(t){return e.createElement(D,{...t},e.createElement(\"path\",{d:\"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z\"}))},spinner:function(){return e.createElement(\"div\",{className:\"Toastify__spinner\"})}},R=n=>{const{isRunning:o,preventExitTransition:s,toastRef:r,eventHandlers:i,playToast:c}=N(n),{closeButton:d,children:p,autoClose:m,onClick:f,type:g,hideProgressBar:y,closeToast:v,transition:h,position:T,className:E,style:b,bodyClassName:I,bodyStyle:_,progressClassName:C,progressStyle:L,updateId:w,role:k,progress:P,rtl:M,toastId:x,deleteToast:A,isIn:B,isLoading:O,closeOnClick:D,theme:R}=n,S=l(\"Toastify__toast\",`Toastify__toast-theme--${R}`,`Toastify__toast--${g}`,{\"Toastify__toast--rtl\":M},{\"Toastify__toast--close-on-click\":D}),H=u(E)?E({rtl:M,position:T,type:g,defaultClassName:S}):l(S,E),F=function(e){let{theme:n,type:o,isLoading:s,icon:r}=e,i=null;const l={theme:n,type:o};return!1===r||(u(r)?i=r({...l,isLoading:s}):t(r)?i=a(r,l):s?i=z.spinner():(e=>e in z)(o)&&(i=z[o](l))),i}(n),X=!!P||!m,Y={closeToast:v,type:g,theme:R};let q=null;return!1===d||(q=u(d)?d(Y):t(d)?a(d,Y):function(t){let{closeToast:n,theme:o,ariaLabel:s=\"close\"}=t;return e.createElement(\"button\",{className:`Toastify__close-button Toastify__close-button--${o}`,type:\"button\",onClick:e=>{e.stopPropagation(),n(e)},\"aria-label\":s},e.createElement(\"svg\",{\"aria-hidden\":\"true\",viewBox:\"0 0 14 16\"},e.createElement(\"path\",{fillRule:\"evenodd\",d:\"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z\"})))}(Y)),e.createElement(h,{isIn:B,done:A,position:T,preventExitTransition:s,nodeRef:r,playToast:c},e.createElement(\"div\",{id:x,onClick:f,\"data-in\":B,className:H,...i,style:b,ref:r},e.createElement(\"div\",{...B&&{role:k},className:u(I)?I({type:g}):l(\"Toastify__toast-body\",I),style:_},null!=F&&e.createElement(\"div\",{className:l(\"Toastify__toast-icon\",{\"Toastify--animate-icon Toastify__zoom-enter\":!O})},F),e.createElement(\"div\",null,p)),q,e.createElement($,{...w&&!X?{key:`pb-${w}`}:{},rtl:M,theme:R,delay:m,isRunning:o,isIn:B,closeToast:v,hide:y,type:g,style:L,className:C,controlledProgress:X,progress:P||0})))},S=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},H=g(S(\"bounce\",!0)),F=g(S(\"slide\",!0)),X=g(S(\"zoom\")),Y=g(S(\"flip\")),q={position:\"top-right\",transition:H,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:\"touch\",draggablePercent:80,draggableDirection:\"x\",role:\"alert\",theme:\"light\"};function Q(t){let o={...q,...t};const s=t.stacked,[a,r]=i(!0),c=n(null),{getToastToRender:d,isToastActive:m,count:f}=L(o),{className:g,style:y,rtl:v,containerId:h}=o;function T(e){const t=l(\"Toastify__toast-container\",`Toastify__toast-container--${e}`,{\"Toastify__toast-container--rtl\":v});return u(g)?g({position:e,rtl:v,defaultClassName:t}):l(t,p(g))}function E(){s&&(r(!0),B.play())}return O(()=>{if(s){var e;const t=c.current.querySelectorAll('[data-in=\"true\"]'),n=12,s=null==(e=o.position)?void 0:e.includes(\"top\");let r=0,i=0;Array.from(t).reverse().forEach((e,t)=>{const o=e;o.classList.add(\"Toastify__toast--stacked\"),t>0&&(o.dataset.collapsed=`${a}`),o.dataset.pos||(o.dataset.pos=s?\"top\":\"bot\");const l=r*(a?.2:1)+(a?0:n*t);o.style.setProperty(\"--y\",`${s?l:-1*l}px`),o.style.setProperty(\"--g\",`${n}`),o.style.setProperty(\"--s\",\"\"+(1-(a?i:0))),r+=o.offsetHeight,i+=.025})}},[a,f,s]),e.createElement(\"div\",{ref:c,className:\"Toastify\",id:h,onMouseEnter:()=>{s&&(r(!1),B.pause())},onMouseLeave:E},d((t,n)=>{const o=n.length?{...y}:{...y,pointerEvents:\"none\"};return e.createElement(\"div\",{className:T(t),style:o,key:`container-${t}`},n.map(t=>{let{content:n,props:o}=t;return e.createElement(R,{...o,stacked:s,collapseAll:E,isIn:m(o.toastId,o.containerId),style:o.style,key:`toast-${o.key}`},n)}))}))}export{H as Bounce,Y as Flip,z as Icons,F as Slide,Q as ToastContainer,X as Zoom,f as collapseToast,g as cssTransition,B as toast,N as useToast,L as useToastContainer};\n//# sourceMappingURL=react-toastify.esm.mjs.map\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { getBase64 } from \"../../../utils/common\";\nimport { useRouter } from \"next/router\";\nimport {\n  setFirebaseData,\n  getFirebaseData,\n  pushFirebaseData,\n} from \"../../../utils/firebase\";\nimport { toast } from \"react-toastify\";\nexport default function BlogWriteView() {\n  const [imgSrc, setImgSrc] = useState(\"\");\n  const [subject, setSubject] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleChange = (e: any) => {\n    let file = e.target.files[0];\n    let reader = getBase64(file);\n    reader.then((result) => {\n      setImgSrc(result);\n    });\n  };\n\n  const writeComplete = () => {\n    pushFirebaseData(\"blogs/\", {\n      subject: subject,\n      description: description,\n      image: imgSrc,\n    }).then((res) => {\n      resetAll();\n      toast.success(\"글쓰기 완료\");\n    });\n  };\n\n  const resetAll = () => {\n    setSubject(\"\");\n    setDescription(\"\");\n    setImgSrc(\"\");\n  };\n  return (\n    <div className=\"row\">\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <div className=\"float-end\">\n            {/* <ol className=\"breadcrumb\">\n                            <li className=\"breadcrumb-item active\">Blogs</li>\n                        </ol> */}\n            <button\n              type=\"button\"\n              className=\"btn btn-de-dark\"\n              onClick={writeComplete}\n            >\n              작성완료\n            </button>\n          </div>\n          <h4\n            className=\"card-title\"\n            style={{ fontSize: \"30px\", marginTop: \"10px\" }}\n          >\n            블로그 글쓰기\n          </h4>\n          {/* <p className=\"text-muted mb-0\"></p> */}\n        </div>\n\n        <div className=\"card-body\">\n          <form>\n            <div className=\"mb-3\">\n              <label htmlFor=\"exampleFormControlInput1\">제목</label>\n              <input\n                type=\"\"\n                className=\"form-control\"\n                id=\"exampleFormControlInput1\"\n                onChange={(e) => {\n                  setSubject(e.target.value);\n                }}\n                value={subject}\n              ></input>\n            </div>\n            {/* <div className=\"mb-3\">\n                                <label htmlFor=\"exampleFormControlSelect1\">설명</label>\n                                <select className=\"form-select\" id=\"exampleFormControlSelect1\">\n                                    <option>1</option>\n                                    <option>2</option>\n                                    <option>3</option>\n                                    <option>4</option>\n                                    <option>5</option>\n                                </select>\n                            </div>\n                            <div className=\"mb-3\">\n                                <label htmlFor=\"exampleFormControlSelect2\">Example multiple select</label>\n                                <select multiple=\"\" className=\"form-select\" id=\"exampleFormControlSelect2\">\n                                    <option>1</option>\n                                    <option>2</option>\n                                    <option>3</option>\n                                    <option>4</option>\n                                    <option>5</option>\n                                </select>\n                            </div> */}\n            <div className=\"\">\n              <label htmlFor=\"exampleFormControlTextarea1\">설명</label>\n              <textarea\n                onChange={(e) => {\n                  setDescription(e.target.value);\n                }}\n                value={description}\n                className=\"form-control\"\n                id=\"exampleFormControlTextarea1\"\n                rows={3}\n              ></textarea>\n            </div>\n\n            <img style={{ maxWidth: \"400px\" }} src={imgSrc}></img>\n\n            <div className=\"d-grid\">\n              <div className=\"preview-box d-block justify-content-center rounded shadow overflow-hidden bg-light p-1\"></div>\n              <input\n                type=\"file\"\n                id=\"input-file\"\n                name=\"input-file\"\n                accept=\"image/*\"\n                onChange={handleChange}\n                value={imgSrc}\n              ></input>\n              <label\n                className=\"btn-upload btn btn-primary mt-4\"\n                htmlFor=\"input-file\"\n              >\n                Upload Image\n              </label>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport BlogWriteView from \"./template/BlogWriteView\";\nexport default function BlogWritePage() {\n  return (\n    <>\n      <BlogWriteView></BlogWriteView>\n    </>\n  );\n}\n","import { useRouter } from \"next/router\";\nimport { useState } from \"react\";\nimport React from \"react\";\n\nimport {\n  setFirebaseData,\n  getFirebaseData,\n  pushFirebaseData,\n} from \"../../../utils/firebase\";\nimport { getBase64 } from \"../../../utils/common\";\nimport { toast } from \"react-toastify\";\nexport default function TraceWriteView() {\n  const [name, setName] = useState(\"\");\n  const [contents, setContents] = useState(\"\");\n\n  const handleChange = (e: any) => {\n    let file = e.target.files[0];\n    let reader = getBase64(file);\n    reader.then((result: string) => {});\n  };\n\n  const writeComplete = () => {\n    const today = new Date();\n    pushFirebaseData(\"traces/\", {\n      name: name,\n      contents: contents,\n      date: today.toLocaleString(),\n    }).then((res: any) => {\n      resetData();\n      toast.success(\"글쓰기 완료\");\n    });\n  };\n\n  const resetData = () => {\n    setName(\"\");\n    setContents(\"\");\n  };\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"float-end\">\n              {/* <ol className=\"breadcrumb\">\n                            <li className=\"breadcrumb-item active\">Blogs</li>\n                        </ol> */}\n              <button\n                type=\"button\"\n                className=\"btn btn-de-dark\"\n                onClick={writeComplete}\n              >\n                작성완료\n              </button>\n            </div>\n            <h4\n              className=\"card-title\"\n              style={{ fontSize: \"30px\", marginTop: \"10px\" }}\n            >\n              발자취 남기기\n            </h4>\n            {/* <p className=\"text-muted mb-0\"></p> */}\n          </div>\n\n          <div className=\"card-body\">\n            <form>\n              <div className=\"mb-3\">\n                <label htmlFor=\"exampleFormControlInput1\">이름</label>\n                <input\n                  type=\"\"\n                  className=\"form-control\"\n                  id=\"exampleFormControlInput1\"\n                  onChange={(e) => {\n                    setName(e.target.value);\n                  }}\n                  value={name}\n                ></input>\n              </div>\n\n              <div className=\"\">\n                <label htmlFor=\"exampleFormControlTextarea1\">내용</label>\n                <textarea\n                  onChange={(e) => {\n                    setContents(e.target.value);\n                  }}\n                  value={contents}\n                  className=\"form-control\"\n                  id=\"exampleFormControlTextarea1\"\n                  rows={3}\n                ></textarea>\n              </div>\n\n              {/* <img style={{ maxWidth: \"400px\" }} src={imgSrc}></img>\n\n                            <div className=\"d-grid\">\n                                <div className=\"preview-box d-block justify-content-center rounded shadow overflow-hidden bg-light p-1\"></div>\n                                <input type=\"file\" id=\"input-file\" name=\"input-file\" accept=\"image/*\" onChange={handleChange}></input>\n                                <label className=\"btn-upload btn btn-primary mt-4\" htmlFor=\"input-file\">Upload Image</label>\n                            </div> */}\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport TraceWriteView from \"./template/TraceWriteView\";\n\nexport default function TraceWritePage() {\n  return (\n    <>\n      <TraceWriteView></TraceWriteView>\n    </>\n  );\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport profile from \"../images/profile2.jpg\";\nimport Web from \"../components/main-web/Web\";\nimport Info from \"../components/main-my-info/Info\";\nimport Introduce from \"../components/main-introduce/Introduce\";\nimport Dekstop from \"../components/main-desktop/Desktop\";\nimport TraceIndexPage from \"../components/main-guestbook\";\nimport BlogIndexPage from \"../components/main-blog\";\nimport BlogWritePage from \"../components/main-blog/write\";\nimport TraceWritePage from \"../components/main-guestbook/write\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nexport default function IndexPage() {\n  const [currentTab, setCurrentTab] = useState(\"web\");\n\n  return (\n    <div className=\"\">\n      <div className=\"page-content-tab\">\n        <div className=\"container-fluid\" style={{ marginTop: \"20px\" }}>\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"met-profile\">\n                    <div className=\"row\">\n                      <div className=\"col-lg-6 align-self-center mb-3 mb-lg-0\">\n                        <div className=\"met-profile-main\">\n                          <div className=\"met-profile-main-pic\">\n                            <img\n                              src={profile}\n                              alt=\"\"\n                              height=\"110\"\n                              className=\"rounded-circle\"\n                            ></img>\n                          </div>\n                          <div className=\"met-profile_user-detail\">\n                            <h5 className=\"met-user-name\">김 병 현</h5>\n                            <p className=\"mb-0 met-user-name-post\">\n                              프로그래머\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"col-lg-6 ms-auto align-self-center\">\n                        <ul className=\"list-unstyled personal-detail mb-0\">\n                          <li className=\"\">\n                            <i className=\"las la-phone mr-2 text-secondary font-22 align-middle\"></i>{\" \"}\n                            <b> phone </b> : 010-2835-3822\n                          </li>\n                          <li className=\"mt-2\">\n                            <i className=\"las la-envelope text-secondary font-22 align-middle mr-2\"></i>{\" \"}\n                            <b> Email </b> : qudgus3822@gmail.com\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                  {/* <button type=\"button\" className=\"btn btn-de-primary float-end\" onClick={() => { router.push(\"/games\") }}>게임하러가기</button> */}\n                </div>\n\n                <div className=\"card-body p-0\">\n                  {currentTab === \"blog\" && (\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-de-dark float-end\"\n                      onClick={() => {\n                        setCurrentTab(\"blog-write\");\n                      }}\n                    >\n                      글쓰기\n                    </button>\n                  )}\n                  {currentTab === \"guestbook\" && (\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-de-dark float-end\"\n                      onClick={() => {\n                        setCurrentTab(\"trace-write\");\n                      }}\n                    >\n                      글쓰기\n                    </button>\n                  )}\n\n                  <ul className=\"nav nav-tabs\" role=\"tablist\">\n                    <li className=\"nav-item\">\n                      <a\n                        className={`nav-link ${\n                          currentTab === \"web\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => setCurrentTab(\"web\")}\n                        role=\"tab\"\n                        aria-selected={currentTab === \"web\"}\n                      >\n                        Web\n                      </a>\n                    </li>\n\n                    <li className=\"nav-item\">\n                      <a\n                        className={`nav-link ${\n                          currentTab === \"desktop\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => setCurrentTab(\"desktop\")}\n                        role=\"tab\"\n                        aria-selected={currentTab === \"desktop\"}\n                      >\n                        desktop\n                      </a>\n                    </li>\n\n                    <li className=\"nav-item\">\n                      <a\n                        className={`nav-link ${\n                          currentTab === \"introduce\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => setCurrentTab(\"introduce\")}\n                        role=\"tab\"\n                        aria-selected={currentTab === \"introduce\"}\n                      >\n                        소개\n                      </a>\n                    </li>\n\n                    <li className=\"nav-item\">\n                      <a\n                        className={`nav-link ${\n                          currentTab === \"info\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => setCurrentTab(\"info\")}\n                        role=\"tab\"\n                        aria-selected={currentTab === \"info\"}\n                      >\n                        내 정보\n                      </a>\n                    </li>\n\n                    <li className=\"nav-item\">\n                      <a\n                        className={`nav-link ${\n                          currentTab === \"blog\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => setCurrentTab(\"blog\")}\n                        role=\"tab\"\n                        aria-selected={currentTab === \"blog\"}\n                      >\n                        블로그\n                      </a>\n                    </li>\n\n                    <li className=\"nav-item\">\n                      <a\n                        className={`nav-link ${\n                          currentTab === \"guestbook\" ? \"active\" : \"\"\n                        }`}\n                        onClick={() => setCurrentTab(\"guestbook\")}\n                        role=\"tab\"\n                        aria-selected={currentTab === \"guestbook\"}\n                      >\n                        방명록\n                      </a>\n                    </li>\n                  </ul>\n                  <div className=\"tab-content\">\n                    {currentTab === \"web\" && <Web />}\n                    {currentTab === \"info\" && <Info />}\n                    {currentTab === \"introduce\" && <Introduce />}\n                    {currentTab === \"desktop\" && <Dekstop />}\n                    {currentTab === \"blog\" && <BlogIndexPage />}\n                    {currentTab === \"guestbook\" && <TraceIndexPage />}\n\n                    {currentTab === \"blog-write\" && <BlogWritePage />}\n                    {currentTab === \"trace-write\" && <TraceWritePage />}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <ToastContainer />\n    </div>\n  );\n}\n","/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\r\n */\r\nconst CONSTANTS = {\r\n    /**\r\n     * @define {boolean} Whether this is the client Node.js SDK.\r\n     */\r\n    NODE_CLIENT: false,\r\n    /**\r\n     * @define {boolean} Whether this is the Admin Node.js SDK.\r\n     */\r\n    NODE_ADMIN: false,\r\n    /**\r\n     * Firebase SDK Version\r\n     */\r\n    SDK_VERSION: '${JSCORE_VERSION}'\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Throws an error if the provided assertion is falsy\r\n */\r\nconst assert = function (assertion, message) {\r\n    if (!assertion) {\r\n        throw assertionError(message);\r\n    }\r\n};\r\n/**\r\n * Returns an Error object suitable for throwing.\r\n */\r\nconst assertionError = function (message) {\r\n    return new Error('Firebase Database (' +\r\n        CONSTANTS.SDK_VERSION +\r\n        ') INTERNAL ASSERT FAILED: ' +\r\n        message);\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst stringToByteArray$1 = function (str) {\r\n    // TODO(user): Use native implementations if/when available\r\n    const out = [];\r\n    let p = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        let c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if ((c & 0xfc00) === 0xd800 &&\r\n            i + 1 < str.length &&\r\n            (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\r\n            // Surrogate Pair\r\n            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Turns an array of numbers into the string given by the concatenation of the\r\n * characters to which the numbers correspond.\r\n * @param bytes Array of numbers representing characters.\r\n * @return Stringification of the array.\r\n */\r\nconst byteArrayToString = function (bytes) {\r\n    // TODO(user): Use native implementations if/when available\r\n    const out = [];\r\n    let pos = 0, c = 0;\r\n    while (pos < bytes.length) {\r\n        const c1 = bytes[pos++];\r\n        if (c1 < 128) {\r\n            out[c++] = String.fromCharCode(c1);\r\n        }\r\n        else if (c1 > 191 && c1 < 224) {\r\n            const c2 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\r\n        }\r\n        else if (c1 > 239 && c1 < 365) {\r\n            // Surrogate Pair\r\n            const c2 = bytes[pos++];\r\n            const c3 = bytes[pos++];\r\n            const c4 = bytes[pos++];\r\n            const u = (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\r\n                0x10000;\r\n            out[c++] = String.fromCharCode(0xd800 + (u >> 10));\r\n            out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\r\n        }\r\n        else {\r\n            const c2 = bytes[pos++];\r\n            const c3 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n        }\r\n    }\r\n    return out.join('');\r\n};\r\n// We define it as an object literal instead of a class because a class compiled down to es5 can't\r\n// be treeshaked. https://github.com/rollup/rollup/issues/1691\r\n// Static lookup maps, lazily populated by init_()\r\nconst base64 = {\r\n    /**\r\n     * Maps bytes to characters.\r\n     */\r\n    byteToCharMap_: null,\r\n    /**\r\n     * Maps characters to bytes.\r\n     */\r\n    charToByteMap_: null,\r\n    /**\r\n     * Maps bytes to websafe characters.\r\n     * @private\r\n     */\r\n    byteToCharMapWebSafe_: null,\r\n    /**\r\n     * Maps websafe characters to bytes.\r\n     * @private\r\n     */\r\n    charToByteMapWebSafe_: null,\r\n    /**\r\n     * Our default alphabet, shared between\r\n     * ENCODED_VALS and ENCODED_VALS_WEBSAFE\r\n     */\r\n    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\r\n    /**\r\n     * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\r\n     */\r\n    get ENCODED_VALS() {\r\n        return this.ENCODED_VALS_BASE + '+/=';\r\n    },\r\n    /**\r\n     * Our websafe alphabet.\r\n     */\r\n    get ENCODED_VALS_WEBSAFE() {\r\n        return this.ENCODED_VALS_BASE + '-_.';\r\n    },\r\n    /**\r\n     * Whether this browser supports the atob and btoa functions. This extension\r\n     * started at Mozilla but is now implemented by many browsers. We use the\r\n     * ASSUME_* variables to avoid pulling in the full useragent detection library\r\n     * but still allowing the standard per-browser compilations.\r\n     *\r\n     */\r\n    HAS_NATIVE_SUPPORT: typeof atob === 'function',\r\n    /**\r\n     * Base64-encode an array of bytes.\r\n     *\r\n     * @param input An array of bytes (numbers with\r\n     *     value in [0, 255]) to encode.\r\n     * @param webSafe Boolean indicating we should use the\r\n     *     alternative alphabet.\r\n     * @return The base64 encoded string.\r\n     */\r\n    encodeByteArray(input, webSafe) {\r\n        if (!Array.isArray(input)) {\r\n            throw Error('encodeByteArray takes an array as a parameter');\r\n        }\r\n        this.init_();\r\n        const byteToCharMap = webSafe\r\n            ? this.byteToCharMapWebSafe_\r\n            : this.byteToCharMap_;\r\n        const output = [];\r\n        for (let i = 0; i < input.length; i += 3) {\r\n            const byte1 = input[i];\r\n            const haveByte2 = i + 1 < input.length;\r\n            const byte2 = haveByte2 ? input[i + 1] : 0;\r\n            const haveByte3 = i + 2 < input.length;\r\n            const byte3 = haveByte3 ? input[i + 2] : 0;\r\n            const outByte1 = byte1 >> 2;\r\n            const outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\r\n            let outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\r\n            let outByte4 = byte3 & 0x3f;\r\n            if (!haveByte3) {\r\n                outByte4 = 64;\r\n                if (!haveByte2) {\r\n                    outByte3 = 64;\r\n                }\r\n            }\r\n            output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);\r\n        }\r\n        return output.join('');\r\n    },\r\n    /**\r\n     * Base64-encode a string.\r\n     *\r\n     * @param input A string to encode.\r\n     * @param webSafe If true, we should use the\r\n     *     alternative alphabet.\r\n     * @return The base64 encoded string.\r\n     */\r\n    encodeString(input, webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !webSafe) {\r\n            return btoa(input);\r\n        }\r\n        return this.encodeByteArray(stringToByteArray$1(input), webSafe);\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * @param input to decode.\r\n     * @param webSafe True if we should use the\r\n     *     alternative alphabet.\r\n     * @return string representing the decoded value.\r\n     */\r\n    decodeString(input, webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !webSafe) {\r\n            return atob(input);\r\n        }\r\n        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * In base-64 decoding, groups of four characters are converted into three\r\n     * bytes.  If the encoder did not apply padding, the input length may not\r\n     * be a multiple of 4.\r\n     *\r\n     * In this case, the last group will have fewer than 4 characters, and\r\n     * padding will be inferred.  If the group has one or two characters, it decodes\r\n     * to one byte.  If the group has three characters, it decodes to two bytes.\r\n     *\r\n     * @param input Input to decode.\r\n     * @param webSafe True if we should use the web-safe alphabet.\r\n     * @return bytes representing the decoded value.\r\n     */\r\n    decodeStringToByteArray(input, webSafe) {\r\n        this.init_();\r\n        const charToByteMap = webSafe\r\n            ? this.charToByteMapWebSafe_\r\n            : this.charToByteMap_;\r\n        const output = [];\r\n        for (let i = 0; i < input.length;) {\r\n            const byte1 = charToByteMap[input.charAt(i++)];\r\n            const haveByte2 = i < input.length;\r\n            const byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\r\n            ++i;\r\n            const haveByte3 = i < input.length;\r\n            const byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            const haveByte4 = i < input.length;\r\n            const byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\r\n                throw new DecodeBase64StringError();\r\n            }\r\n            const outByte1 = (byte1 << 2) | (byte2 >> 4);\r\n            output.push(outByte1);\r\n            if (byte3 !== 64) {\r\n                const outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\r\n                output.push(outByte2);\r\n                if (byte4 !== 64) {\r\n                    const outByte3 = ((byte3 << 6) & 0xc0) | byte4;\r\n                    output.push(outByte3);\r\n                }\r\n            }\r\n        }\r\n        return output;\r\n    },\r\n    /**\r\n     * Lazy static initialization function. Called before\r\n     * accessing any of the static map variables.\r\n     * @private\r\n     */\r\n    init_() {\r\n        if (!this.byteToCharMap_) {\r\n            this.byteToCharMap_ = {};\r\n            this.charToByteMap_ = {};\r\n            this.byteToCharMapWebSafe_ = {};\r\n            this.charToByteMapWebSafe_ = {};\r\n            // We want quick mappings back and forth, so we precompute two maps.\r\n            for (let i = 0; i < this.ENCODED_VALS.length; i++) {\r\n                this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\r\n                this.charToByteMap_[this.byteToCharMap_[i]] = i;\r\n                this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\r\n                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\r\n                // Be forgiving when decoding and correctly decode both encodings.\r\n                if (i >= this.ENCODED_VALS_BASE.length) {\r\n                    this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\r\n                    this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * An error encountered while decoding base64 string.\r\n */\r\nclass DecodeBase64StringError extends Error {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = 'DecodeBase64StringError';\r\n    }\r\n}\r\n/**\r\n * URL-safe base64 encoding\r\n */\r\nconst base64Encode = function (str) {\r\n    const utf8Bytes = stringToByteArray$1(str);\r\n    return base64.encodeByteArray(utf8Bytes, true);\r\n};\r\n/**\r\n * URL-safe base64 encoding (without \".\" padding in the end).\r\n * e.g. Used in JSON Web Token (JWT) parts.\r\n */\r\nconst base64urlEncodeWithoutPadding = function (str) {\r\n    // Use base64url encoding and remove padding in the end (dot characters).\r\n    return base64Encode(str).replace(/\\./g, '');\r\n};\r\n/**\r\n * URL-safe base64 decoding\r\n *\r\n * NOTE: DO NOT use the global atob() function - it does NOT support the\r\n * base64Url variant encoding.\r\n *\r\n * @param str To be decoded\r\n * @return Decoded result, if possible\r\n */\r\nconst base64Decode = function (str) {\r\n    try {\r\n        return base64.decodeString(str, true);\r\n    }\r\n    catch (e) {\r\n        console.error('base64Decode failed: ', e);\r\n    }\r\n    return null;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Do a deep-copy of basic JavaScript Objects or Arrays.\r\n */\r\nfunction deepCopy(value) {\r\n    return deepExtend(undefined, value);\r\n}\r\n/**\r\n * Copy properties from source to target (recursively allows extension\r\n * of Objects and Arrays).  Scalar values in the target are over-written.\r\n * If target is undefined, an object of the appropriate type will be created\r\n * (and returned).\r\n *\r\n * We recursively copy all child properties of plain Objects in the source- so\r\n * that namespace- like dictionaries are merged.\r\n *\r\n * Note that the target can be a function, in which case the properties in\r\n * the source Object are copied onto it as static properties of the Function.\r\n *\r\n * Note: we don't merge __proto__ to prevent prototype pollution\r\n */\r\nfunction deepExtend(target, source) {\r\n    if (!(source instanceof Object)) {\r\n        return source;\r\n    }\r\n    switch (source.constructor) {\r\n        case Date:\r\n            // Treat Dates like scalars; if the target date object had any child\r\n            // properties - they will be lost!\r\n            const dateValue = source;\r\n            return new Date(dateValue.getTime());\r\n        case Object:\r\n            if (target === undefined) {\r\n                target = {};\r\n            }\r\n            break;\r\n        case Array:\r\n            // Always copy the array source and overwrite the target.\r\n            target = [];\r\n            break;\r\n        default:\r\n            // Not a plain Object - treat it as a scalar.\r\n            return source;\r\n    }\r\n    for (const prop in source) {\r\n        // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202\r\n        if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {\r\n            continue;\r\n        }\r\n        target[prop] = deepExtend(target[prop], source[prop]);\r\n    }\r\n    return target;\r\n}\r\nfunction isValidKey(key) {\r\n    return key !== '__proto__';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Polyfill for `globalThis` object.\r\n * @returns the `globalThis` object for the given environment.\r\n * @public\r\n */\r\nfunction getGlobal() {\r\n    if (typeof self !== 'undefined') {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined') {\r\n        return window;\r\n    }\r\n    if (typeof global !== 'undefined') {\r\n        return global;\r\n    }\r\n    throw new Error('Unable to locate global object.');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst getDefaultsFromGlobal = () => getGlobal().__FIREBASE_DEFAULTS__;\r\n/**\r\n * Attempt to read defaults from a JSON string provided to\r\n * process(.)env(.)__FIREBASE_DEFAULTS__ or a JSON file whose path is in\r\n * process(.)env(.)__FIREBASE_DEFAULTS_PATH__\r\n * The dots are in parens because certain compilers (Vite?) cannot\r\n * handle seeing that variable in comments.\r\n * See https://github.com/firebase/firebase-js-sdk/issues/6838\r\n */\r\nconst getDefaultsFromEnvVariable = () => {\r\n    if (typeof process === 'undefined' || typeof process.env === 'undefined') {\r\n        return;\r\n    }\r\n    const defaultsJsonString = process.env.__FIREBASE_DEFAULTS__;\r\n    if (defaultsJsonString) {\r\n        return JSON.parse(defaultsJsonString);\r\n    }\r\n};\r\nconst getDefaultsFromCookie = () => {\r\n    if (typeof document === 'undefined') {\r\n        return;\r\n    }\r\n    let match;\r\n    try {\r\n        match = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);\r\n    }\r\n    catch (e) {\r\n        // Some environments such as Angular Universal SSR have a\r\n        // `document` object but error on accessing `document.cookie`.\r\n        return;\r\n    }\r\n    const decoded = match && base64Decode(match[1]);\r\n    return decoded && JSON.parse(decoded);\r\n};\r\n/**\r\n * Get the __FIREBASE_DEFAULTS__ object. It checks in order:\r\n * (1) if such an object exists as a property of `globalThis`\r\n * (2) if such an object was provided on a shell environment variable\r\n * (3) if such an object exists in a cookie\r\n * @public\r\n */\r\nconst getDefaults = () => {\r\n    try {\r\n        return (getDefaultsFromGlobal() ||\r\n            getDefaultsFromEnvVariable() ||\r\n            getDefaultsFromCookie());\r\n    }\r\n    catch (e) {\r\n        /**\r\n         * Catch-all for being unable to get __FIREBASE_DEFAULTS__ due\r\n         * to any environment case we have not accounted for. Log to\r\n         * info instead of swallowing so we can find these unknown cases\r\n         * and add paths for them if needed.\r\n         */\r\n        console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);\r\n        return;\r\n    }\r\n};\r\n/**\r\n * Returns emulator host stored in the __FIREBASE_DEFAULTS__ object\r\n * for the given product.\r\n * @returns a URL host formatted like `127.0.0.1:9999` or `[::1]:4000` if available\r\n * @public\r\n */\r\nconst getDefaultEmulatorHost = (productName) => { var _a, _b; return (_b = (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.emulatorHosts) === null || _b === void 0 ? void 0 : _b[productName]; };\r\n/**\r\n * Returns emulator hostname and port stored in the __FIREBASE_DEFAULTS__ object\r\n * for the given product.\r\n * @returns a pair of hostname and port like `[\"::1\", 4000]` if available\r\n * @public\r\n */\r\nconst getDefaultEmulatorHostnameAndPort = (productName) => {\r\n    const host = getDefaultEmulatorHost(productName);\r\n    if (!host) {\r\n        return undefined;\r\n    }\r\n    const separatorIndex = host.lastIndexOf(':'); // Finding the last since IPv6 addr also has colons.\r\n    if (separatorIndex <= 0 || separatorIndex + 1 === host.length) {\r\n        throw new Error(`Invalid host ${host} with no separate hostname and port!`);\r\n    }\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const port = parseInt(host.substring(separatorIndex + 1), 10);\r\n    if (host[0] === '[') {\r\n        // Bracket-quoted `[ipv6addr]:port` => return \"ipv6addr\" (without brackets).\r\n        return [host.substring(1, separatorIndex - 1), port];\r\n    }\r\n    else {\r\n        return [host.substring(0, separatorIndex), port];\r\n    }\r\n};\r\n/**\r\n * Returns Firebase app config stored in the __FIREBASE_DEFAULTS__ object.\r\n * @public\r\n */\r\nconst getDefaultAppConfig = () => { var _a; return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.config; };\r\n/**\r\n * Returns an experimental setting on the __FIREBASE_DEFAULTS__ object (properties\r\n * prefixed by \"_\")\r\n * @public\r\n */\r\nconst getExperimentalSetting = (name) => { var _a; return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a[`_${name}`]; };\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass Deferred {\r\n    constructor() {\r\n        this.reject = () => { };\r\n        this.resolve = () => { };\r\n        this.promise = new Promise((resolve, reject) => {\r\n            this.resolve = resolve;\r\n            this.reject = reject;\r\n        });\r\n    }\r\n    /**\r\n     * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\r\n     * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\r\n     * and returns a node-style callback which will resolve or reject the Deferred's promise.\r\n     */\r\n    wrapCallback(callback) {\r\n        return (error, value) => {\r\n            if (error) {\r\n                this.reject(error);\r\n            }\r\n            else {\r\n                this.resolve(value);\r\n            }\r\n            if (typeof callback === 'function') {\r\n                // Attaching noop handler just in case developer wasn't expecting\r\n                // promises\r\n                this.promise.catch(() => { });\r\n                // Some of our callbacks don't expect a value and our own tests\r\n                // assert that the parameter length is 1\r\n                if (callback.length === 1) {\r\n                    callback(error);\r\n                }\r\n                else {\r\n                    callback(error, value);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction createMockUserToken(token, projectId) {\r\n    if (token.uid) {\r\n        throw new Error('The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.');\r\n    }\r\n    // Unsecured JWTs use \"none\" as the algorithm.\r\n    const header = {\r\n        alg: 'none',\r\n        type: 'JWT'\r\n    };\r\n    const project = projectId || 'demo-project';\r\n    const iat = token.iat || 0;\r\n    const sub = token.sub || token.user_id;\r\n    if (!sub) {\r\n        throw new Error(\"mockUserToken must contain 'sub' or 'user_id' field!\");\r\n    }\r\n    const payload = Object.assign({ \r\n        // Set all required fields to decent defaults\r\n        iss: `https://securetoken.google.com/${project}`, aud: project, iat, exp: iat + 3600, auth_time: iat, sub, user_id: sub, firebase: {\r\n            sign_in_provider: 'custom',\r\n            identities: {}\r\n        } }, token);\r\n    // Unsecured JWTs use the empty string as a signature.\r\n    const signature = '';\r\n    return [\r\n        base64urlEncodeWithoutPadding(JSON.stringify(header)),\r\n        base64urlEncodeWithoutPadding(JSON.stringify(payload)),\r\n        signature\r\n    ].join('.');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns navigator.userAgent string or '' if it's not defined.\r\n * @return user agent string\r\n */\r\nfunction getUA() {\r\n    if (typeof navigator !== 'undefined' &&\r\n        typeof navigator['userAgent'] === 'string') {\r\n        return navigator['userAgent'];\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n/**\r\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\r\n *\r\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap\r\n * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally\r\n * wait for a callback.\r\n */\r\nfunction isMobileCordova() {\r\n    return (typeof window !== 'undefined' &&\r\n        // @ts-ignore Setting up an broadly applicable index signature for Window\r\n        // just to deal with this case would probably be a bad idea.\r\n        !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\r\n        /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA()));\r\n}\r\n/**\r\n * Detect Node.js.\r\n *\r\n * @return true if Node.js environment is detected or specified.\r\n */\r\n// Node detection logic from: https://github.com/iliakan/detect-node/\r\nfunction isNode() {\r\n    var _a;\r\n    const forceEnvironment = (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.forceEnvironment;\r\n    if (forceEnvironment === 'node') {\r\n        return true;\r\n    }\r\n    else if (forceEnvironment === 'browser') {\r\n        return false;\r\n    }\r\n    try {\r\n        return (Object.prototype.toString.call(global.process) === '[object process]');\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Detect Browser Environment\r\n */\r\nfunction isBrowser() {\r\n    return typeof self === 'object' && self.self === self;\r\n}\r\nfunction isBrowserExtension() {\r\n    const runtime = typeof chrome === 'object'\r\n        ? chrome.runtime\r\n        : typeof browser === 'object'\r\n            ? browser.runtime\r\n            : undefined;\r\n    return typeof runtime === 'object' && runtime.id !== undefined;\r\n}\r\n/**\r\n * Detect React Native.\r\n *\r\n * @return true if ReactNative environment is detected.\r\n */\r\nfunction isReactNative() {\r\n    return (typeof navigator === 'object' && navigator['product'] === 'ReactNative');\r\n}\r\n/** Detects Electron apps. */\r\nfunction isElectron() {\r\n    return getUA().indexOf('Electron/') >= 0;\r\n}\r\n/** Detects Internet Explorer. */\r\nfunction isIE() {\r\n    const ua = getUA();\r\n    return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\r\n}\r\n/** Detects Universal Windows Platform apps. */\r\nfunction isUWP() {\r\n    return getUA().indexOf('MSAppHost/') >= 0;\r\n}\r\n/**\r\n * Detect whether the current SDK build is the Node version.\r\n *\r\n * @return true if it's the Node SDK build.\r\n */\r\nfunction isNodeSdk() {\r\n    return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\r\n}\r\n/** Returns true if we are running in Safari. */\r\nfunction isSafari() {\r\n    return (!isNode() &&\r\n        !!navigator.userAgent &&\r\n        navigator.userAgent.includes('Safari') &&\r\n        !navigator.userAgent.includes('Chrome'));\r\n}\r\n/**\r\n * This method checks if indexedDB is supported by current browser/service worker context\r\n * @return true if indexedDB is supported by current browser/service worker context\r\n */\r\nfunction isIndexedDBAvailable() {\r\n    try {\r\n        return typeof indexedDB === 'object';\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject\r\n * if errors occur during the database open operation.\r\n *\r\n * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox\r\n * private browsing)\r\n */\r\nfunction validateIndexedDBOpenable() {\r\n    return new Promise((resolve, reject) => {\r\n        try {\r\n            let preExist = true;\r\n            const DB_CHECK_NAME = 'validate-browser-context-for-indexeddb-analytics-module';\r\n            const request = self.indexedDB.open(DB_CHECK_NAME);\r\n            request.onsuccess = () => {\r\n                request.result.close();\r\n                // delete database only when it doesn't pre-exist\r\n                if (!preExist) {\r\n                    self.indexedDB.deleteDatabase(DB_CHECK_NAME);\r\n                }\r\n                resolve(true);\r\n            };\r\n            request.onupgradeneeded = () => {\r\n                preExist = false;\r\n            };\r\n            request.onerror = () => {\r\n                var _a;\r\n                reject(((_a = request.error) === null || _a === void 0 ? void 0 : _a.message) || '');\r\n            };\r\n        }\r\n        catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n}\r\n/**\r\n *\r\n * This method checks whether cookie is enabled within current browser\r\n * @return true if cookie is enabled within current browser\r\n */\r\nfunction areCookiesEnabled() {\r\n    if (typeof navigator === 'undefined' || !navigator.cookieEnabled) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview Standardized Firebase Error.\r\n *\r\n * Usage:\r\n *\r\n *   // Typescript string literals for type-safe codes\r\n *   type Err =\r\n *     'unknown' |\r\n *     'object-not-found'\r\n *     ;\r\n *\r\n *   // Closure enum for type-safe error codes\r\n *   // at-enum {string}\r\n *   var Err = {\r\n *     UNKNOWN: 'unknown',\r\n *     OBJECT_NOT_FOUND: 'object-not-found',\r\n *   }\r\n *\r\n *   let errors: Map<Err, string> = {\r\n *     'generic-error': \"Unknown error\",\r\n *     'file-not-found': \"Could not find file: {$file}\",\r\n *   };\r\n *\r\n *   // Type-safe function - must pass a valid error code as param.\r\n *   let error = new ErrorFactory<Err>('service', 'Service', errors);\r\n *\r\n *   ...\r\n *   throw error.create(Err.GENERIC);\r\n *   ...\r\n *   throw error.create(Err.FILE_NOT_FOUND, {'file': fileName});\r\n *   ...\r\n *   // Service: Could not file file: foo.txt (service/file-not-found).\r\n *\r\n *   catch (e) {\r\n *     assert(e.message === \"Could not find file: foo.txt.\");\r\n *     if ((e as FirebaseError)?.code === 'service/file-not-found') {\r\n *       console.log(\"Could not read file: \" + e['file']);\r\n *     }\r\n *   }\r\n */\r\nconst ERROR_NAME = 'FirebaseError';\r\n// Based on code from:\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types\r\nclass FirebaseError extends Error {\r\n    constructor(\r\n    /** The error code for this error. */\r\n    code, message, \r\n    /** Custom data for this error. */\r\n    customData) {\r\n        super(message);\r\n        this.code = code;\r\n        this.customData = customData;\r\n        /** The custom name for all FirebaseErrors. */\r\n        this.name = ERROR_NAME;\r\n        // Fix For ES5\r\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n        Object.setPrototypeOf(this, FirebaseError.prototype);\r\n        // Maintains proper stack trace for where our error was thrown.\r\n        // Only available on V8.\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, ErrorFactory.prototype.create);\r\n        }\r\n    }\r\n}\r\nclass ErrorFactory {\r\n    constructor(service, serviceName, errors) {\r\n        this.service = service;\r\n        this.serviceName = serviceName;\r\n        this.errors = errors;\r\n    }\r\n    create(code, ...data) {\r\n        const customData = data[0] || {};\r\n        const fullCode = `${this.service}/${code}`;\r\n        const template = this.errors[code];\r\n        const message = template ? replaceTemplate(template, customData) : 'Error';\r\n        // Service Name: Error message (service/code).\r\n        const fullMessage = `${this.serviceName}: ${message} (${fullCode}).`;\r\n        const error = new FirebaseError(fullCode, fullMessage, customData);\r\n        return error;\r\n    }\r\n}\r\nfunction replaceTemplate(template, data) {\r\n    return template.replace(PATTERN, (_, key) => {\r\n        const value = data[key];\r\n        return value != null ? String(value) : `<${key}?>`;\r\n    });\r\n}\r\nconst PATTERN = /\\{\\$([^}]+)}/g;\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Evaluates a JSON string into a javascript object.\r\n *\r\n * @param {string} str A string containing JSON.\r\n * @return {*} The javascript object representing the specified JSON.\r\n */\r\nfunction jsonEval(str) {\r\n    return JSON.parse(str);\r\n}\r\n/**\r\n * Returns JSON representing a javascript object.\r\n * @param {*} data Javascript object to be stringified.\r\n * @return {string} The JSON contents of the object.\r\n */\r\nfunction stringify(data) {\r\n    return JSON.stringify(data);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Decodes a Firebase auth. token into constituent parts.\r\n *\r\n * Notes:\r\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst decode = function (token) {\r\n    let header = {}, claims = {}, data = {}, signature = '';\r\n    try {\r\n        const parts = token.split('.');\r\n        header = jsonEval(base64Decode(parts[0]) || '');\r\n        claims = jsonEval(base64Decode(parts[1]) || '');\r\n        signature = parts[2];\r\n        data = claims['d'] || {};\r\n        delete claims['d'];\r\n    }\r\n    catch (e) { }\r\n    return {\r\n        header,\r\n        claims,\r\n        data,\r\n        signature\r\n    };\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\r\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst isValidTimestamp = function (token) {\r\n    const claims = decode(token).claims;\r\n    const now = Math.floor(new Date().getTime() / 1000);\r\n    let validSince = 0, validUntil = 0;\r\n    if (typeof claims === 'object') {\r\n        if (claims.hasOwnProperty('nbf')) {\r\n            validSince = claims['nbf'];\r\n        }\r\n        else if (claims.hasOwnProperty('iat')) {\r\n            validSince = claims['iat'];\r\n        }\r\n        if (claims.hasOwnProperty('exp')) {\r\n            validUntil = claims['exp'];\r\n        }\r\n        else {\r\n            // token will expire after 24h by default\r\n            validUntil = validSince + 86400;\r\n        }\r\n    }\r\n    return (!!now &&\r\n        !!validSince &&\r\n        !!validUntil &&\r\n        now >= validSince &&\r\n        now <= validUntil);\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\r\n *\r\n * Notes:\r\n * - May return null if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst issuedAtTime = function (token) {\r\n    const claims = decode(token).claims;\r\n    if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\r\n        return claims['iat'];\r\n    }\r\n    return null;\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst isValidFormat = function (token) {\r\n    const decoded = decode(token), claims = decoded.claims;\r\n    return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\r\n};\r\n/**\r\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nconst isAdmin = function (token) {\r\n    const claims = decode(token).claims;\r\n    return typeof claims === 'object' && claims['admin'] === true;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction contains(obj, key) {\r\n    return Object.prototype.hasOwnProperty.call(obj, key);\r\n}\r\nfunction safeGet(obj, key) {\r\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n        return obj[key];\r\n    }\r\n    else {\r\n        return undefined;\r\n    }\r\n}\r\nfunction isEmpty(obj) {\r\n    for (const key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction map(obj, fn, contextObj) {\r\n    const res = {};\r\n    for (const key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            res[key] = fn.call(contextObj, obj[key], key, obj);\r\n        }\r\n    }\r\n    return res;\r\n}\r\n/**\r\n * Deep equal two objects. Support Arrays and Objects.\r\n */\r\nfunction deepEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    const aKeys = Object.keys(a);\r\n    const bKeys = Object.keys(b);\r\n    for (const k of aKeys) {\r\n        if (!bKeys.includes(k)) {\r\n            return false;\r\n        }\r\n        const aProp = a[k];\r\n        const bProp = b[k];\r\n        if (isObject(aProp) && isObject(bProp)) {\r\n            if (!deepEqual(aProp, bProp)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (aProp !== bProp) {\r\n            return false;\r\n        }\r\n    }\r\n    for (const k of bKeys) {\r\n        if (!aKeys.includes(k)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction isObject(thing) {\r\n    return thing !== null && typeof thing === 'object';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Rejects if the given promise doesn't resolve in timeInMS milliseconds.\r\n * @internal\r\n */\r\nfunction promiseWithTimeout(promise, timeInMS = 2000) {\r\n    const deferredPromise = new Deferred();\r\n    setTimeout(() => deferredPromise.reject('timeout!'), timeInMS);\r\n    promise.then(deferredPromise.resolve, deferredPromise.reject);\r\n    return deferredPromise.promise;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a\r\n * params object (e.g. {arg: 'val', arg2: 'val2'})\r\n * Note: You must prepend it with ? when adding it to a URL.\r\n */\r\nfunction querystring(querystringParams) {\r\n    const params = [];\r\n    for (const [key, value] of Object.entries(querystringParams)) {\r\n        if (Array.isArray(value)) {\r\n            value.forEach(arrayVal => {\r\n                params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));\r\n            });\r\n        }\r\n        else {\r\n            params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n        }\r\n    }\r\n    return params.length ? '&' + params.join('&') : '';\r\n}\r\n/**\r\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object\r\n * (e.g. {arg: 'val', arg2: 'val2'})\r\n */\r\nfunction querystringDecode(querystring) {\r\n    const obj = {};\r\n    const tokens = querystring.replace(/^\\?/, '').split('&');\r\n    tokens.forEach(token => {\r\n        if (token) {\r\n            const [key, value] = token.split('=');\r\n            obj[decodeURIComponent(key)] = decodeURIComponent(value);\r\n        }\r\n    });\r\n    return obj;\r\n}\r\n/**\r\n * Extract the query string part of a URL, including the leading question mark (if present).\r\n */\r\nfunction extractQuerystring(url) {\r\n    const queryStart = url.indexOf('?');\r\n    if (!queryStart) {\r\n        return '';\r\n    }\r\n    const fragmentStart = url.indexOf('#', queryStart);\r\n    return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : undefined);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview SHA-1 cryptographic hash.\r\n * Variable names follow the notation in FIPS PUB 180-3:\r\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\r\n *\r\n * Usage:\r\n *   var sha1 = new sha1();\r\n *   sha1.update(bytes);\r\n *   var hash = sha1.digest();\r\n *\r\n * Performance:\r\n *   Chrome 23:   ~400 Mbit/s\r\n *   Firefox 16:  ~250 Mbit/s\r\n *\r\n */\r\n/**\r\n * SHA-1 cryptographic hash constructor.\r\n *\r\n * The properties declared here are discussed in the above algorithm document.\r\n * @constructor\r\n * @final\r\n * @struct\r\n */\r\nclass Sha1 {\r\n    constructor() {\r\n        /**\r\n         * Holds the previous values of accumulated variables a-e in the compress_\r\n         * function.\r\n         * @private\r\n         */\r\n        this.chain_ = [];\r\n        /**\r\n         * A buffer holding the partially computed hash result.\r\n         * @private\r\n         */\r\n        this.buf_ = [];\r\n        /**\r\n         * An array of 80 bytes, each a part of the message to be hashed.  Referred to\r\n         * as the message schedule in the docs.\r\n         * @private\r\n         */\r\n        this.W_ = [];\r\n        /**\r\n         * Contains data needed to pad messages less than 64 bytes.\r\n         * @private\r\n         */\r\n        this.pad_ = [];\r\n        /**\r\n         * @private {number}\r\n         */\r\n        this.inbuf_ = 0;\r\n        /**\r\n         * @private {number}\r\n         */\r\n        this.total_ = 0;\r\n        this.blockSize = 512 / 8;\r\n        this.pad_[0] = 128;\r\n        for (let i = 1; i < this.blockSize; ++i) {\r\n            this.pad_[i] = 0;\r\n        }\r\n        this.reset();\r\n    }\r\n    reset() {\r\n        this.chain_[0] = 0x67452301;\r\n        this.chain_[1] = 0xefcdab89;\r\n        this.chain_[2] = 0x98badcfe;\r\n        this.chain_[3] = 0x10325476;\r\n        this.chain_[4] = 0xc3d2e1f0;\r\n        this.inbuf_ = 0;\r\n        this.total_ = 0;\r\n    }\r\n    /**\r\n     * Internal compress helper function.\r\n     * @param buf Block to compress.\r\n     * @param offset Offset of the block in the buffer.\r\n     * @private\r\n     */\r\n    compress_(buf, offset) {\r\n        if (!offset) {\r\n            offset = 0;\r\n        }\r\n        const W = this.W_;\r\n        // get 16 big endian words\r\n        if (typeof buf === 'string') {\r\n            for (let i = 0; i < 16; i++) {\r\n                // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\r\n                // have a bug that turns the post-increment ++ operator into pre-increment\r\n                // during JIT compilation.  We have code that depends heavily on SHA-1 for\r\n                // correctness and which is affected by this bug, so I've removed all uses\r\n                // of post-increment ++ in which the result value is used.  We can revert\r\n                // this change once the Safari bug\r\n                // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\r\n                // most clients have been updated.\r\n                W[i] =\r\n                    (buf.charCodeAt(offset) << 24) |\r\n                        (buf.charCodeAt(offset + 1) << 16) |\r\n                        (buf.charCodeAt(offset + 2) << 8) |\r\n                        buf.charCodeAt(offset + 3);\r\n                offset += 4;\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < 16; i++) {\r\n                W[i] =\r\n                    (buf[offset] << 24) |\r\n                        (buf[offset + 1] << 16) |\r\n                        (buf[offset + 2] << 8) |\r\n                        buf[offset + 3];\r\n                offset += 4;\r\n            }\r\n        }\r\n        // expand to 80 words\r\n        for (let i = 16; i < 80; i++) {\r\n            const t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\r\n            W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\r\n        }\r\n        let a = this.chain_[0];\r\n        let b = this.chain_[1];\r\n        let c = this.chain_[2];\r\n        let d = this.chain_[3];\r\n        let e = this.chain_[4];\r\n        let f, k;\r\n        // TODO(user): Try to unroll this loop to speed up the computation.\r\n        for (let i = 0; i < 80; i++) {\r\n            if (i < 40) {\r\n                if (i < 20) {\r\n                    f = d ^ (b & (c ^ d));\r\n                    k = 0x5a827999;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0x6ed9eba1;\r\n                }\r\n            }\r\n            else {\r\n                if (i < 60) {\r\n                    f = (b & c) | (d & (b | c));\r\n                    k = 0x8f1bbcdc;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0xca62c1d6;\r\n                }\r\n            }\r\n            const t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\r\n            e = d;\r\n            d = c;\r\n            c = ((b << 30) | (b >>> 2)) & 0xffffffff;\r\n            b = a;\r\n            a = t;\r\n        }\r\n        this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\r\n        this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\r\n        this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\r\n        this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\r\n        this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\r\n    }\r\n    update(bytes, length) {\r\n        // TODO(johnlenz): tighten the function signature and remove this check\r\n        if (bytes == null) {\r\n            return;\r\n        }\r\n        if (length === undefined) {\r\n            length = bytes.length;\r\n        }\r\n        const lengthMinusBlock = length - this.blockSize;\r\n        let n = 0;\r\n        // Using local instead of member variables gives ~5% speedup on Firefox 16.\r\n        const buf = this.buf_;\r\n        let inbuf = this.inbuf_;\r\n        // The outer while loop should execute at most twice.\r\n        while (n < length) {\r\n            // When we have no data in the block to top up, we can directly process the\r\n            // input buffer (assuming it contains sufficient data). This gives ~25%\r\n            // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\r\n            // the data is provided in large chunks (or in multiples of 64 bytes).\r\n            if (inbuf === 0) {\r\n                while (n <= lengthMinusBlock) {\r\n                    this.compress_(bytes, n);\r\n                    n += this.blockSize;\r\n                }\r\n            }\r\n            if (typeof bytes === 'string') {\r\n                while (n < length) {\r\n                    buf[inbuf] = bytes.charCodeAt(n);\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf === this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                while (n < length) {\r\n                    buf[inbuf] = bytes[n];\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf === this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.inbuf_ = inbuf;\r\n        this.total_ += length;\r\n    }\r\n    /** @override */\r\n    digest() {\r\n        const digest = [];\r\n        let totalBits = this.total_ * 8;\r\n        // Add pad 0x80 0x00*.\r\n        if (this.inbuf_ < 56) {\r\n            this.update(this.pad_, 56 - this.inbuf_);\r\n        }\r\n        else {\r\n            this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\r\n        }\r\n        // Add # bits.\r\n        for (let i = this.blockSize - 1; i >= 56; i--) {\r\n            this.buf_[i] = totalBits & 255;\r\n            totalBits /= 256; // Don't use bit-shifting here!\r\n        }\r\n        this.compress_(this.buf_);\r\n        let n = 0;\r\n        for (let i = 0; i < 5; i++) {\r\n            for (let j = 24; j >= 0; j -= 8) {\r\n                digest[n] = (this.chain_[i] >> j) & 255;\r\n                ++n;\r\n            }\r\n        }\r\n        return digest;\r\n    }\r\n}\n\n/**\r\n * Helper to make a Subscribe function (just like Promise helps make a\r\n * Thenable).\r\n *\r\n * @param executor Function which can make calls to a single Observer\r\n *     as a proxy.\r\n * @param onNoObservers Callback when count of Observers goes to zero.\r\n */\r\nfunction createSubscribe(executor, onNoObservers) {\r\n    const proxy = new ObserverProxy(executor, onNoObservers);\r\n    return proxy.subscribe.bind(proxy);\r\n}\r\n/**\r\n * Implement fan-out for any number of Observers attached via a subscribe\r\n * function.\r\n */\r\nclass ObserverProxy {\r\n    /**\r\n     * @param executor Function which can make calls to a single Observer\r\n     *     as a proxy.\r\n     * @param onNoObservers Callback when count of Observers goes to zero.\r\n     */\r\n    constructor(executor, onNoObservers) {\r\n        this.observers = [];\r\n        this.unsubscribes = [];\r\n        this.observerCount = 0;\r\n        // Micro-task scheduling by calling task.then().\r\n        this.task = Promise.resolve();\r\n        this.finalized = false;\r\n        this.onNoObservers = onNoObservers;\r\n        // Call the executor asynchronously so subscribers that are called\r\n        // synchronously after the creation of the subscribe function\r\n        // can still receive the very first value generated in the executor.\r\n        this.task\r\n            .then(() => {\r\n            executor(this);\r\n        })\r\n            .catch(e => {\r\n            this.error(e);\r\n        });\r\n    }\r\n    next(value) {\r\n        this.forEachObserver((observer) => {\r\n            observer.next(value);\r\n        });\r\n    }\r\n    error(error) {\r\n        this.forEachObserver((observer) => {\r\n            observer.error(error);\r\n        });\r\n        this.close(error);\r\n    }\r\n    complete() {\r\n        this.forEachObserver((observer) => {\r\n            observer.complete();\r\n        });\r\n        this.close();\r\n    }\r\n    /**\r\n     * Subscribe function that can be used to add an Observer to the fan-out list.\r\n     *\r\n     * - We require that no event is sent to a subscriber sychronously to their\r\n     *   call to subscribe().\r\n     */\r\n    subscribe(nextOrObserver, error, complete) {\r\n        let observer;\r\n        if (nextOrObserver === undefined &&\r\n            error === undefined &&\r\n            complete === undefined) {\r\n            throw new Error('Missing Observer.');\r\n        }\r\n        // Assemble an Observer object when passed as callback functions.\r\n        if (implementsAnyMethods(nextOrObserver, [\r\n            'next',\r\n            'error',\r\n            'complete'\r\n        ])) {\r\n            observer = nextOrObserver;\r\n        }\r\n        else {\r\n            observer = {\r\n                next: nextOrObserver,\r\n                error,\r\n                complete\r\n            };\r\n        }\r\n        if (observer.next === undefined) {\r\n            observer.next = noop;\r\n        }\r\n        if (observer.error === undefined) {\r\n            observer.error = noop;\r\n        }\r\n        if (observer.complete === undefined) {\r\n            observer.complete = noop;\r\n        }\r\n        const unsub = this.unsubscribeOne.bind(this, this.observers.length);\r\n        // Attempt to subscribe to a terminated Observable - we\r\n        // just respond to the Observer with the final error or complete\r\n        // event.\r\n        if (this.finalized) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this.task.then(() => {\r\n                try {\r\n                    if (this.finalError) {\r\n                        observer.error(this.finalError);\r\n                    }\r\n                    else {\r\n                        observer.complete();\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // nothing\r\n                }\r\n                return;\r\n            });\r\n        }\r\n        this.observers.push(observer);\r\n        return unsub;\r\n    }\r\n    // Unsubscribe is synchronous - we guarantee that no events are sent to\r\n    // any unsubscribed Observer.\r\n    unsubscribeOne(i) {\r\n        if (this.observers === undefined || this.observers[i] === undefined) {\r\n            return;\r\n        }\r\n        delete this.observers[i];\r\n        this.observerCount -= 1;\r\n        if (this.observerCount === 0 && this.onNoObservers !== undefined) {\r\n            this.onNoObservers(this);\r\n        }\r\n    }\r\n    forEachObserver(fn) {\r\n        if (this.finalized) {\r\n            // Already closed by previous event....just eat the additional values.\r\n            return;\r\n        }\r\n        // Since sendOne calls asynchronously - there is no chance that\r\n        // this.observers will become undefined.\r\n        for (let i = 0; i < this.observers.length; i++) {\r\n            this.sendOne(i, fn);\r\n        }\r\n    }\r\n    // Call the Observer via one of it's callback function. We are careful to\r\n    // confirm that the observe has not been unsubscribed since this asynchronous\r\n    // function had been queued.\r\n    sendOne(i, fn) {\r\n        // Execute the callback asynchronously\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.task.then(() => {\r\n            if (this.observers !== undefined && this.observers[i] !== undefined) {\r\n                try {\r\n                    fn(this.observers[i]);\r\n                }\r\n                catch (e) {\r\n                    // Ignore exceptions raised in Observers or missing methods of an\r\n                    // Observer.\r\n                    // Log error to console. b/31404806\r\n                    if (typeof console !== 'undefined' && console.error) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    close(err) {\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n        this.finalized = true;\r\n        if (err !== undefined) {\r\n            this.finalError = err;\r\n        }\r\n        // Proxy is no longer needed - garbage collect references\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.task.then(() => {\r\n            this.observers = undefined;\r\n            this.onNoObservers = undefined;\r\n        });\r\n    }\r\n}\r\n/** Turn synchronous function into one called asynchronously. */\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction async(fn, onError) {\r\n    return (...args) => {\r\n        Promise.resolve(true)\r\n            .then(() => {\r\n            fn(...args);\r\n        })\r\n            .catch((error) => {\r\n            if (onError) {\r\n                onError(error);\r\n            }\r\n        });\r\n    };\r\n}\r\n/**\r\n * Return true if the object passed in implements any of the named methods.\r\n */\r\nfunction implementsAnyMethods(obj, methods) {\r\n    if (typeof obj !== 'object' || obj === null) {\r\n        return false;\r\n    }\r\n    for (const method of methods) {\r\n        if (method in obj && typeof obj[method] === 'function') {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction noop() {\r\n    // do nothing\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Check to make sure the appropriate number of arguments are provided for a public function.\r\n * Throws an error if it fails.\r\n *\r\n * @param fnName The function name\r\n * @param minCount The minimum number of arguments to allow for the function call\r\n * @param maxCount The maximum number of argument to allow for the function call\r\n * @param argCount The actual number of arguments provided.\r\n */\r\nconst validateArgCount = function (fnName, minCount, maxCount, argCount) {\r\n    let argError;\r\n    if (argCount < minCount) {\r\n        argError = 'at least ' + minCount;\r\n    }\r\n    else if (argCount > maxCount) {\r\n        argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\r\n    }\r\n    if (argError) {\r\n        const error = fnName +\r\n            ' failed: Was called with ' +\r\n            argCount +\r\n            (argCount === 1 ? ' argument.' : ' arguments.') +\r\n            ' Expects ' +\r\n            argError +\r\n            '.';\r\n        throw new Error(error);\r\n    }\r\n};\r\n/**\r\n * Generates a string to prefix an error message about failed argument validation\r\n *\r\n * @param fnName The function name\r\n * @param argName The name of the argument\r\n * @return The prefix to add to the error thrown for validation.\r\n */\r\nfunction errorPrefix(fnName, argName) {\r\n    return `${fnName} failed: ${argName} argument `;\r\n}\r\n/**\r\n * @param fnName\r\n * @param argumentNumber\r\n * @param namespace\r\n * @param optional\r\n */\r\nfunction validateNamespace(fnName, namespace, optional) {\r\n    if (optional && !namespace) {\r\n        return;\r\n    }\r\n    if (typeof namespace !== 'string') {\r\n        //TODO: I should do more validation here. We only allow certain chars in namespaces.\r\n        throw new Error(errorPrefix(fnName, 'namespace') + 'must be a valid firebase namespace.');\r\n    }\r\n}\r\nfunction validateCallback(fnName, argumentName, \r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\ncallback, optional) {\r\n    if (optional && !callback) {\r\n        return;\r\n    }\r\n    if (typeof callback !== 'function') {\r\n        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid function.');\r\n    }\r\n}\r\nfunction validateContextObject(fnName, argumentName, context, optional) {\r\n    if (optional && !context) {\r\n        return;\r\n    }\r\n    if (typeof context !== 'object' || context === null) {\r\n        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid context object.');\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\r\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\r\n// so it's been modified.\r\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\r\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\r\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\r\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\r\n// pair).\r\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\r\n/**\r\n * @param {string} str\r\n * @return {Array}\r\n */\r\nconst stringToByteArray = function (str) {\r\n    const out = [];\r\n    let p = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        let c = str.charCodeAt(i);\r\n        // Is this the lead surrogate in a surrogate pair?\r\n        if (c >= 0xd800 && c <= 0xdbff) {\r\n            const high = c - 0xd800; // the high 10 bits.\r\n            i++;\r\n            assert(i < str.length, 'Surrogate pair missing trail surrogate.');\r\n            const low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\r\n            c = 0x10000 + (high << 10) + low;\r\n        }\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if (c < 65536) {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Calculate length without actually converting; useful for doing cheaper validation.\r\n * @param {string} str\r\n * @return {number}\r\n */\r\nconst stringLength = function (str) {\r\n    let p = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        const c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            p++;\r\n        }\r\n        else if (c < 2048) {\r\n            p += 2;\r\n        }\r\n        else if (c >= 0xd800 && c <= 0xdbff) {\r\n            // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\r\n            p += 4;\r\n            i++; // skip trail surrogate.\r\n        }\r\n        else {\r\n            p += 3;\r\n        }\r\n    }\r\n    return p;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Copied from https://stackoverflow.com/a/2117523\r\n * Generates a new uuid.\r\n * @public\r\n */\r\nconst uuidv4 = function () {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n        const r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n        return v.toString(16);\r\n    });\r\n};\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The amount of milliseconds to exponentially increase.\r\n */\r\nconst DEFAULT_INTERVAL_MILLIS = 1000;\r\n/**\r\n * The factor to backoff by.\r\n * Should be a number greater than 1.\r\n */\r\nconst DEFAULT_BACKOFF_FACTOR = 2;\r\n/**\r\n * The maximum milliseconds to increase to.\r\n *\r\n * <p>Visible for testing\r\n */\r\nconst MAX_VALUE_MILLIS = 4 * 60 * 60 * 1000; // Four hours, like iOS and Android.\r\n/**\r\n * The percentage of backoff time to randomize by.\r\n * See\r\n * http://go/safe-client-behavior#step-1-determine-the-appropriate-retry-interval-to-handle-spike-traffic\r\n * for context.\r\n *\r\n * <p>Visible for testing\r\n */\r\nconst RANDOM_FACTOR = 0.5;\r\n/**\r\n * Based on the backoff method from\r\n * https://github.com/google/closure-library/blob/master/closure/goog/math/exponentialbackoff.js.\r\n * Extracted here so we don't need to pass metadata and a stateful ExponentialBackoff object around.\r\n */\r\nfunction calculateBackoffMillis(backoffCount, intervalMillis = DEFAULT_INTERVAL_MILLIS, backoffFactor = DEFAULT_BACKOFF_FACTOR) {\r\n    // Calculates an exponentially increasing value.\r\n    // Deviation: calculates value from count and a constant interval, so we only need to save value\r\n    // and count to restore state.\r\n    const currBaseValue = intervalMillis * Math.pow(backoffFactor, backoffCount);\r\n    // A random \"fuzz\" to avoid waves of retries.\r\n    // Deviation: randomFactor is required.\r\n    const randomWait = Math.round(\r\n    // A fraction of the backoff value to add/subtract.\r\n    // Deviation: changes multiplication order to improve readability.\r\n    RANDOM_FACTOR *\r\n        currBaseValue *\r\n        // A random float (rounded to int by Math.round above) in the range [-1, 1]. Determines\r\n        // if we add or subtract.\r\n        (Math.random() - 0.5) *\r\n        2);\r\n    // Limits backoff to max to avoid effectively permanent backoff.\r\n    return Math.min(MAX_VALUE_MILLIS, currBaseValue + randomWait);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provide English ordinal letters after a number\r\n */\r\nfunction ordinal(i) {\r\n    if (!Number.isFinite(i)) {\r\n        return `${i}`;\r\n    }\r\n    return i + indicator(i);\r\n}\r\nfunction indicator(i) {\r\n    i = Math.abs(i);\r\n    const cent = i % 100;\r\n    if (cent >= 10 && cent <= 20) {\r\n        return 'th';\r\n    }\r\n    const dec = i % 10;\r\n    if (dec === 1) {\r\n        return 'st';\r\n    }\r\n    if (dec === 2) {\r\n        return 'nd';\r\n    }\r\n    if (dec === 3) {\r\n        return 'rd';\r\n    }\r\n    return 'th';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction getModularInstance(service) {\r\n    if (service && service._delegate) {\r\n        return service._delegate;\r\n    }\r\n    else {\r\n        return service;\r\n    }\r\n}\n\nexport { CONSTANTS, DecodeBase64StringError, Deferred, ErrorFactory, FirebaseError, MAX_VALUE_MILLIS, RANDOM_FACTOR, Sha1, areCookiesEnabled, assert, assertionError, async, base64, base64Decode, base64Encode, base64urlEncodeWithoutPadding, calculateBackoffMillis, contains, createMockUserToken, createSubscribe, decode, deepCopy, deepEqual, deepExtend, errorPrefix, extractQuerystring, getDefaultAppConfig, getDefaultEmulatorHost, getDefaultEmulatorHostnameAndPort, getDefaults, getExperimentalSetting, getGlobal, getModularInstance, getUA, isAdmin, isBrowser, isBrowserExtension, isElectron, isEmpty, isIE, isIndexedDBAvailable, isMobileCordova, isNode, isNodeSdk, isReactNative, isSafari, isUWP, isValidFormat, isValidTimestamp, issuedAtTime, jsonEval, map, ordinal, promiseWithTimeout, querystring, querystringDecode, safeGet, stringLength, stringToByteArray, stringify, uuidv4, validateArgCount, validateCallback, validateContextObject, validateIndexedDBOpenable, validateNamespace };\n//# sourceMappingURL=index.esm2017.js.map\n","import { Deferred } from '@firebase/util';\n\n/**\r\n * Component for service name T, e.g. `auth`, `auth-internal`\r\n */\r\nclass Component {\r\n    /**\r\n     *\r\n     * @param name The public service name, e.g. app, auth, firestore, database\r\n     * @param instanceFactory Service factory responsible for creating the public interface\r\n     * @param type whether the service provided by the component is public or private\r\n     */\r\n    constructor(name, instanceFactory, type) {\r\n        this.name = name;\r\n        this.instanceFactory = instanceFactory;\r\n        this.type = type;\r\n        this.multipleInstances = false;\r\n        /**\r\n         * Properties to be added to the service namespace\r\n         */\r\n        this.serviceProps = {};\r\n        this.instantiationMode = \"LAZY\" /* InstantiationMode.LAZY */;\r\n        this.onInstanceCreated = null;\r\n    }\r\n    setInstantiationMode(mode) {\r\n        this.instantiationMode = mode;\r\n        return this;\r\n    }\r\n    setMultipleInstances(multipleInstances) {\r\n        this.multipleInstances = multipleInstances;\r\n        return this;\r\n    }\r\n    setServiceProps(props) {\r\n        this.serviceProps = props;\r\n        return this;\r\n    }\r\n    setInstanceCreatedCallback(callback) {\r\n        this.onInstanceCreated = callback;\r\n        return this;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for instance for service name T, e.g. 'auth', 'auth-internal'\r\n * NameServiceMapping[T] is an alias for the type of the instance\r\n */\r\nclass Provider {\r\n    constructor(name, container) {\r\n        this.name = name;\r\n        this.container = container;\r\n        this.component = null;\r\n        this.instances = new Map();\r\n        this.instancesDeferred = new Map();\r\n        this.instancesOptions = new Map();\r\n        this.onInitCallbacks = new Map();\r\n    }\r\n    /**\r\n     * @param identifier A provider can provide mulitple instances of a service\r\n     * if this.component.multipleInstances is true.\r\n     */\r\n    get(identifier) {\r\n        // if multipleInstances is not supported, use the default name\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\r\n        if (!this.instancesDeferred.has(normalizedIdentifier)) {\r\n            const deferred = new Deferred();\r\n            this.instancesDeferred.set(normalizedIdentifier, deferred);\r\n            if (this.isInitialized(normalizedIdentifier) ||\r\n                this.shouldAutoInitialize()) {\r\n                // initialize the service if it can be auto-initialized\r\n                try {\r\n                    const instance = this.getOrInitializeService({\r\n                        instanceIdentifier: normalizedIdentifier\r\n                    });\r\n                    if (instance) {\r\n                        deferred.resolve(instance);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // when the instance factory throws an exception during get(), it should not cause\r\n                    // a fatal error. We just return the unresolved promise in this case.\r\n                }\r\n            }\r\n        }\r\n        return this.instancesDeferred.get(normalizedIdentifier).promise;\r\n    }\r\n    getImmediate(options) {\r\n        var _a;\r\n        // if multipleInstances is not supported, use the default name\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(options === null || options === void 0 ? void 0 : options.identifier);\r\n        const optional = (_a = options === null || options === void 0 ? void 0 : options.optional) !== null && _a !== void 0 ? _a : false;\r\n        if (this.isInitialized(normalizedIdentifier) ||\r\n            this.shouldAutoInitialize()) {\r\n            try {\r\n                return this.getOrInitializeService({\r\n                    instanceIdentifier: normalizedIdentifier\r\n                });\r\n            }\r\n            catch (e) {\r\n                if (optional) {\r\n                    return null;\r\n                }\r\n                else {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw\r\n            if (optional) {\r\n                return null;\r\n            }\r\n            else {\r\n                throw Error(`Service ${this.name} is not available`);\r\n            }\r\n        }\r\n    }\r\n    getComponent() {\r\n        return this.component;\r\n    }\r\n    setComponent(component) {\r\n        if (component.name !== this.name) {\r\n            throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);\r\n        }\r\n        if (this.component) {\r\n            throw Error(`Component for ${this.name} has already been provided`);\r\n        }\r\n        this.component = component;\r\n        // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)\r\n        if (!this.shouldAutoInitialize()) {\r\n            return;\r\n        }\r\n        // if the service is eager, initialize the default instance\r\n        if (isComponentEager(component)) {\r\n            try {\r\n                this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });\r\n            }\r\n            catch (e) {\r\n                // when the instance factory for an eager Component throws an exception during the eager\r\n                // initialization, it should not cause a fatal error.\r\n                // TODO: Investigate if we need to make it configurable, because some component may want to cause\r\n                // a fatal error in this case?\r\n            }\r\n        }\r\n        // Create service instances for the pending promises and resolve them\r\n        // NOTE: if this.multipleInstances is false, only the default instance will be created\r\n        // and all promises with resolve with it regardless of the identifier.\r\n        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {\r\n            const normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);\r\n            try {\r\n                // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.\r\n                const instance = this.getOrInitializeService({\r\n                    instanceIdentifier: normalizedIdentifier\r\n                });\r\n                instanceDeferred.resolve(instance);\r\n            }\r\n            catch (e) {\r\n                // when the instance factory throws an exception, it should not cause\r\n                // a fatal error. We just leave the promise unresolved.\r\n            }\r\n        }\r\n    }\r\n    clearInstance(identifier = DEFAULT_ENTRY_NAME) {\r\n        this.instancesDeferred.delete(identifier);\r\n        this.instancesOptions.delete(identifier);\r\n        this.instances.delete(identifier);\r\n    }\r\n    // app.delete() will call this method on every provider to delete the services\r\n    // TODO: should we mark the provider as deleted?\r\n    async delete() {\r\n        const services = Array.from(this.instances.values());\r\n        await Promise.all([\r\n            ...services\r\n                .filter(service => 'INTERNAL' in service) // legacy services\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                .map(service => service.INTERNAL.delete()),\r\n            ...services\r\n                .filter(service => '_delete' in service) // modularized services\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                .map(service => service._delete())\r\n        ]);\r\n    }\r\n    isComponentSet() {\r\n        return this.component != null;\r\n    }\r\n    isInitialized(identifier = DEFAULT_ENTRY_NAME) {\r\n        return this.instances.has(identifier);\r\n    }\r\n    getOptions(identifier = DEFAULT_ENTRY_NAME) {\r\n        return this.instancesOptions.get(identifier) || {};\r\n    }\r\n    initialize(opts = {}) {\r\n        const { options = {} } = opts;\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(opts.instanceIdentifier);\r\n        if (this.isInitialized(normalizedIdentifier)) {\r\n            throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);\r\n        }\r\n        if (!this.isComponentSet()) {\r\n            throw Error(`Component ${this.name} has not been registered yet`);\r\n        }\r\n        const instance = this.getOrInitializeService({\r\n            instanceIdentifier: normalizedIdentifier,\r\n            options\r\n        });\r\n        // resolve any pending promise waiting for the service instance\r\n        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {\r\n            const normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);\r\n            if (normalizedIdentifier === normalizedDeferredIdentifier) {\r\n                instanceDeferred.resolve(instance);\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n    /**\r\n     *\r\n     * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().\r\n     * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.\r\n     *\r\n     * @param identifier An optional instance identifier\r\n     * @returns a function to unregister the callback\r\n     */\r\n    onInit(callback, identifier) {\r\n        var _a;\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\r\n        const existingCallbacks = (_a = this.onInitCallbacks.get(normalizedIdentifier)) !== null && _a !== void 0 ? _a : new Set();\r\n        existingCallbacks.add(callback);\r\n        this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);\r\n        const existingInstance = this.instances.get(normalizedIdentifier);\r\n        if (existingInstance) {\r\n            callback(existingInstance, normalizedIdentifier);\r\n        }\r\n        return () => {\r\n            existingCallbacks.delete(callback);\r\n        };\r\n    }\r\n    /**\r\n     * Invoke onInit callbacks synchronously\r\n     * @param instance the service instance`\r\n     */\r\n    invokeOnInitCallbacks(instance, identifier) {\r\n        const callbacks = this.onInitCallbacks.get(identifier);\r\n        if (!callbacks) {\r\n            return;\r\n        }\r\n        for (const callback of callbacks) {\r\n            try {\r\n                callback(instance, identifier);\r\n            }\r\n            catch (_a) {\r\n                // ignore errors in the onInit callback\r\n            }\r\n        }\r\n    }\r\n    getOrInitializeService({ instanceIdentifier, options = {} }) {\r\n        let instance = this.instances.get(instanceIdentifier);\r\n        if (!instance && this.component) {\r\n            instance = this.component.instanceFactory(this.container, {\r\n                instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),\r\n                options\r\n            });\r\n            this.instances.set(instanceIdentifier, instance);\r\n            this.instancesOptions.set(instanceIdentifier, options);\r\n            /**\r\n             * Invoke onInit listeners.\r\n             * Note this.component.onInstanceCreated is different, which is used by the component creator,\r\n             * while onInit listeners are registered by consumers of the provider.\r\n             */\r\n            this.invokeOnInitCallbacks(instance, instanceIdentifier);\r\n            /**\r\n             * Order is important\r\n             * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which\r\n             * makes `isInitialized()` return true.\r\n             */\r\n            if (this.component.onInstanceCreated) {\r\n                try {\r\n                    this.component.onInstanceCreated(this.container, instanceIdentifier, instance);\r\n                }\r\n                catch (_a) {\r\n                    // ignore errors in the onInstanceCreatedCallback\r\n                }\r\n            }\r\n        }\r\n        return instance || null;\r\n    }\r\n    normalizeInstanceIdentifier(identifier = DEFAULT_ENTRY_NAME) {\r\n        if (this.component) {\r\n            return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;\r\n        }\r\n        else {\r\n            return identifier; // assume multiple instances are supported before the component is provided.\r\n        }\r\n    }\r\n    shouldAutoInitialize() {\r\n        return (!!this.component &&\r\n            this.component.instantiationMode !== \"EXPLICIT\" /* InstantiationMode.EXPLICIT */);\r\n    }\r\n}\r\n// undefined should be passed to the service factory for the default instance\r\nfunction normalizeIdentifierForFactory(identifier) {\r\n    return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;\r\n}\r\nfunction isComponentEager(component) {\r\n    return component.instantiationMode === \"EAGER\" /* InstantiationMode.EAGER */;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`\r\n */\r\nclass ComponentContainer {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.providers = new Map();\r\n    }\r\n    /**\r\n     *\r\n     * @param component Component being added\r\n     * @param overwrite When a component with the same name has already been registered,\r\n     * if overwrite is true: overwrite the existing component with the new component and create a new\r\n     * provider with the new component. It can be useful in tests where you want to use different mocks\r\n     * for different tests.\r\n     * if overwrite is false: throw an exception\r\n     */\r\n    addComponent(component) {\r\n        const provider = this.getProvider(component.name);\r\n        if (provider.isComponentSet()) {\r\n            throw new Error(`Component ${component.name} has already been registered with ${this.name}`);\r\n        }\r\n        provider.setComponent(component);\r\n    }\r\n    addOrOverwriteComponent(component) {\r\n        const provider = this.getProvider(component.name);\r\n        if (provider.isComponentSet()) {\r\n            // delete the existing provider from the container, so we can register the new component\r\n            this.providers.delete(component.name);\r\n        }\r\n        this.addComponent(component);\r\n    }\r\n    /**\r\n     * getProvider provides a type safe interface where it can only be called with a field name\r\n     * present in NameServiceMapping interface.\r\n     *\r\n     * Firebase SDKs providing services should extend NameServiceMapping interface to register\r\n     * themselves.\r\n     */\r\n    getProvider(name) {\r\n        if (this.providers.has(name)) {\r\n            return this.providers.get(name);\r\n        }\r\n        // create a Provider for a service that hasn't registered with Firebase\r\n        const provider = new Provider(name, this);\r\n        this.providers.set(name, provider);\r\n        return provider;\r\n    }\r\n    getProviders() {\r\n        return Array.from(this.providers.values());\r\n    }\r\n}\n\nexport { Component, ComponentContainer, Provider };\n//# sourceMappingURL=index.esm2017.js.map\n","/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * A container for all of the Logger instances\r\n */\r\nconst instances = [];\r\n/**\r\n * The JS SDK supports 5 log levels and also allows a user the ability to\r\n * silence the logs altogether.\r\n *\r\n * The order is a follows:\r\n * DEBUG < VERBOSE < INFO < WARN < ERROR\r\n *\r\n * All of the log types above the current log level will be captured (i.e. if\r\n * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and\r\n * `VERBOSE` logs will not)\r\n */\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\r\n    LogLevel[LogLevel[\"VERBOSE\"] = 1] = \"VERBOSE\";\r\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\r\n    LogLevel[LogLevel[\"WARN\"] = 3] = \"WARN\";\r\n    LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\r\n    LogLevel[LogLevel[\"SILENT\"] = 5] = \"SILENT\";\r\n})(LogLevel || (LogLevel = {}));\r\nconst levelStringToEnum = {\r\n    'debug': LogLevel.DEBUG,\r\n    'verbose': LogLevel.VERBOSE,\r\n    'info': LogLevel.INFO,\r\n    'warn': LogLevel.WARN,\r\n    'error': LogLevel.ERROR,\r\n    'silent': LogLevel.SILENT\r\n};\r\n/**\r\n * The default log level\r\n */\r\nconst defaultLogLevel = LogLevel.INFO;\r\n/**\r\n * By default, `console.debug` is not displayed in the developer console (in\r\n * chrome). To avoid forcing users to have to opt-in to these logs twice\r\n * (i.e. once for firebase, and once in the console), we are sending `DEBUG`\r\n * logs to the `console.log` function.\r\n */\r\nconst ConsoleMethod = {\r\n    [LogLevel.DEBUG]: 'log',\r\n    [LogLevel.VERBOSE]: 'log',\r\n    [LogLevel.INFO]: 'info',\r\n    [LogLevel.WARN]: 'warn',\r\n    [LogLevel.ERROR]: 'error'\r\n};\r\n/**\r\n * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR\r\n * messages on to their corresponding console counterparts (if the log method\r\n * is supported by the current log level)\r\n */\r\nconst defaultLogHandler = (instance, logType, ...args) => {\r\n    if (logType < instance.logLevel) {\r\n        return;\r\n    }\r\n    const now = new Date().toISOString();\r\n    const method = ConsoleMethod[logType];\r\n    if (method) {\r\n        console[method](`[${now}]  ${instance.name}:`, ...args);\r\n    }\r\n    else {\r\n        throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);\r\n    }\r\n};\r\nclass Logger {\r\n    /**\r\n     * Gives you an instance of a Logger to capture messages according to\r\n     * Firebase's logging scheme.\r\n     *\r\n     * @param name The name that the logs will be associated with\r\n     */\r\n    constructor(name) {\r\n        this.name = name;\r\n        /**\r\n         * The log level of the given Logger instance.\r\n         */\r\n        this._logLevel = defaultLogLevel;\r\n        /**\r\n         * The main (internal) log handler for the Logger instance.\r\n         * Can be set to a new function in internal package code but not by user.\r\n         */\r\n        this._logHandler = defaultLogHandler;\r\n        /**\r\n         * The optional, additional, user-defined log handler for the Logger instance.\r\n         */\r\n        this._userLogHandler = null;\r\n        /**\r\n         * Capture the current instance for later use\r\n         */\r\n        instances.push(this);\r\n    }\r\n    get logLevel() {\r\n        return this._logLevel;\r\n    }\r\n    set logLevel(val) {\r\n        if (!(val in LogLevel)) {\r\n            throw new TypeError(`Invalid value \"${val}\" assigned to \\`logLevel\\``);\r\n        }\r\n        this._logLevel = val;\r\n    }\r\n    // Workaround for setter/getter having to be the same type.\r\n    setLogLevel(val) {\r\n        this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;\r\n    }\r\n    get logHandler() {\r\n        return this._logHandler;\r\n    }\r\n    set logHandler(val) {\r\n        if (typeof val !== 'function') {\r\n            throw new TypeError('Value assigned to `logHandler` must be a function');\r\n        }\r\n        this._logHandler = val;\r\n    }\r\n    get userLogHandler() {\r\n        return this._userLogHandler;\r\n    }\r\n    set userLogHandler(val) {\r\n        this._userLogHandler = val;\r\n    }\r\n    /**\r\n     * The functions below are all based on the `console` interface\r\n     */\r\n    debug(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);\r\n        this._logHandler(this, LogLevel.DEBUG, ...args);\r\n    }\r\n    log(...args) {\r\n        this._userLogHandler &&\r\n            this._userLogHandler(this, LogLevel.VERBOSE, ...args);\r\n        this._logHandler(this, LogLevel.VERBOSE, ...args);\r\n    }\r\n    info(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);\r\n        this._logHandler(this, LogLevel.INFO, ...args);\r\n    }\r\n    warn(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);\r\n        this._logHandler(this, LogLevel.WARN, ...args);\r\n    }\r\n    error(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);\r\n        this._logHandler(this, LogLevel.ERROR, ...args);\r\n    }\r\n}\r\nfunction setLogLevel(level) {\r\n    instances.forEach(inst => {\r\n        inst.setLogLevel(level);\r\n    });\r\n}\r\nfunction setUserLogHandler(logCallback, options) {\r\n    for (const instance of instances) {\r\n        let customLogLevel = null;\r\n        if (options && options.level) {\r\n            customLogLevel = levelStringToEnum[options.level];\r\n        }\r\n        if (logCallback === null) {\r\n            instance.userLogHandler = null;\r\n        }\r\n        else {\r\n            instance.userLogHandler = (instance, level, ...args) => {\r\n                const message = args\r\n                    .map(arg => {\r\n                    if (arg == null) {\r\n                        return null;\r\n                    }\r\n                    else if (typeof arg === 'string') {\r\n                        return arg;\r\n                    }\r\n                    else if (typeof arg === 'number' || typeof arg === 'boolean') {\r\n                        return arg.toString();\r\n                    }\r\n                    else if (arg instanceof Error) {\r\n                        return arg.message;\r\n                    }\r\n                    else {\r\n                        try {\r\n                            return JSON.stringify(arg);\r\n                        }\r\n                        catch (ignored) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                })\r\n                    .filter(arg => arg)\r\n                    .join(' ');\r\n                if (level >= (customLogLevel !== null && customLogLevel !== void 0 ? customLogLevel : instance.logLevel)) {\r\n                    logCallback({\r\n                        level: LogLevel[level].toLowerCase(),\r\n                        message,\r\n                        args,\r\n                        type: instance.name\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\n\nexport { LogLevel, Logger, setLogLevel, setUserLogHandler };\n//# sourceMappingURL=index.esm2017.js.map\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","import { Component, ComponentContainer } from '@firebase/component';\nimport { Logger, setUserLogHandler, setLogLevel as setLogLevel$1 } from '@firebase/logger';\nimport { ErrorFactory, getDefaultAppConfig, deepEqual, FirebaseError, base64urlEncodeWithoutPadding, isIndexedDBAvailable, validateIndexedDBOpenable } from '@firebase/util';\nexport { FirebaseError } from '@firebase/util';\nimport { openDB } from 'idb';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass PlatformLoggerServiceImpl {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    // In initial implementation, this will be called by installations on\r\n    // auth token refresh, and installations will send this string.\r\n    getPlatformInfoString() {\r\n        const providers = this.container.getProviders();\r\n        // Loop through providers and get library/version pairs from any that are\r\n        // version components.\r\n        return providers\r\n            .map(provider => {\r\n            if (isVersionServiceProvider(provider)) {\r\n                const service = provider.getImmediate();\r\n                return `${service.library}/${service.version}`;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        })\r\n            .filter(logString => logString)\r\n            .join(' ');\r\n    }\r\n}\r\n/**\r\n *\r\n * @param provider check if this provider provides a VersionService\r\n *\r\n * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider\r\n * provides VersionService. The provider is not necessarily a 'app-version'\r\n * provider.\r\n */\r\nfunction isVersionServiceProvider(provider) {\r\n    const component = provider.getComponent();\r\n    return (component === null || component === void 0 ? void 0 : component.type) === \"VERSION\" /* ComponentType.VERSION */;\r\n}\n\nconst name$o = \"@firebase/app\";\nconst version$1 = \"0.9.29\";\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst logger = new Logger('@firebase/app');\n\nconst name$n = \"@firebase/app-compat\";\n\nconst name$m = \"@firebase/analytics-compat\";\n\nconst name$l = \"@firebase/analytics\";\n\nconst name$k = \"@firebase/app-check-compat\";\n\nconst name$j = \"@firebase/app-check\";\n\nconst name$i = \"@firebase/auth\";\n\nconst name$h = \"@firebase/auth-compat\";\n\nconst name$g = \"@firebase/database\";\n\nconst name$f = \"@firebase/database-compat\";\n\nconst name$e = \"@firebase/functions\";\n\nconst name$d = \"@firebase/functions-compat\";\n\nconst name$c = \"@firebase/installations\";\n\nconst name$b = \"@firebase/installations-compat\";\n\nconst name$a = \"@firebase/messaging\";\n\nconst name$9 = \"@firebase/messaging-compat\";\n\nconst name$8 = \"@firebase/performance\";\n\nconst name$7 = \"@firebase/performance-compat\";\n\nconst name$6 = \"@firebase/remote-config\";\n\nconst name$5 = \"@firebase/remote-config-compat\";\n\nconst name$4 = \"@firebase/storage\";\n\nconst name$3 = \"@firebase/storage-compat\";\n\nconst name$2 = \"@firebase/firestore\";\n\nconst name$1 = \"@firebase/firestore-compat\";\n\nconst name = \"firebase\";\nconst version = \"10.9.0\";\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The default app name\r\n *\r\n * @internal\r\n */\r\nconst DEFAULT_ENTRY_NAME = '[DEFAULT]';\r\nconst PLATFORM_LOG_STRING = {\r\n    [name$o]: 'fire-core',\r\n    [name$n]: 'fire-core-compat',\r\n    [name$l]: 'fire-analytics',\r\n    [name$m]: 'fire-analytics-compat',\r\n    [name$j]: 'fire-app-check',\r\n    [name$k]: 'fire-app-check-compat',\r\n    [name$i]: 'fire-auth',\r\n    [name$h]: 'fire-auth-compat',\r\n    [name$g]: 'fire-rtdb',\r\n    [name$f]: 'fire-rtdb-compat',\r\n    [name$e]: 'fire-fn',\r\n    [name$d]: 'fire-fn-compat',\r\n    [name$c]: 'fire-iid',\r\n    [name$b]: 'fire-iid-compat',\r\n    [name$a]: 'fire-fcm',\r\n    [name$9]: 'fire-fcm-compat',\r\n    [name$8]: 'fire-perf',\r\n    [name$7]: 'fire-perf-compat',\r\n    [name$6]: 'fire-rc',\r\n    [name$5]: 'fire-rc-compat',\r\n    [name$4]: 'fire-gcs',\r\n    [name$3]: 'fire-gcs-compat',\r\n    [name$2]: 'fire-fst',\r\n    [name$1]: 'fire-fst-compat',\r\n    'fire-js': 'fire-js',\r\n    [name]: 'fire-js-all'\r\n};\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @internal\r\n */\r\nconst _apps = new Map();\r\n/**\r\n * Registered components.\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst _components = new Map();\r\n/**\r\n * @param component - the component being added to this app's container\r\n *\r\n * @internal\r\n */\r\nfunction _addComponent(app, component) {\r\n    try {\r\n        app.container.addComponent(component);\r\n    }\r\n    catch (e) {\r\n        logger.debug(`Component ${component.name} failed to register with FirebaseApp ${app.name}`, e);\r\n    }\r\n}\r\n/**\r\n *\r\n * @internal\r\n */\r\nfunction _addOrOverwriteComponent(app, component) {\r\n    app.container.addOrOverwriteComponent(component);\r\n}\r\n/**\r\n *\r\n * @param component - the component to register\r\n * @returns whether or not the component is registered successfully\r\n *\r\n * @internal\r\n */\r\nfunction _registerComponent(component) {\r\n    const componentName = component.name;\r\n    if (_components.has(componentName)) {\r\n        logger.debug(`There were multiple attempts to register component ${componentName}.`);\r\n        return false;\r\n    }\r\n    _components.set(componentName, component);\r\n    // add the component to existing app instances\r\n    for (const app of _apps.values()) {\r\n        _addComponent(app, component);\r\n    }\r\n    return true;\r\n}\r\n/**\r\n *\r\n * @param app - FirebaseApp instance\r\n * @param name - service name\r\n *\r\n * @returns the provider for the service with the matching name\r\n *\r\n * @internal\r\n */\r\nfunction _getProvider(app, name) {\r\n    const heartbeatController = app.container\r\n        .getProvider('heartbeat')\r\n        .getImmediate({ optional: true });\r\n    if (heartbeatController) {\r\n        void heartbeatController.triggerHeartbeat();\r\n    }\r\n    return app.container.getProvider(name);\r\n}\r\n/**\r\n *\r\n * @param app - FirebaseApp instance\r\n * @param name - service name\r\n * @param instanceIdentifier - service instance identifier in case the service supports multiple instances\r\n *\r\n * @internal\r\n */\r\nfunction _removeServiceInstance(app, name, instanceIdentifier = DEFAULT_ENTRY_NAME) {\r\n    _getProvider(app, name).clearInstance(instanceIdentifier);\r\n}\r\n/**\r\n * Test only\r\n *\r\n * @internal\r\n */\r\nfunction _clearComponents() {\r\n    _components.clear();\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst ERRORS = {\r\n    [\"no-app\" /* AppError.NO_APP */]: \"No Firebase App '{$appName}' has been created - \" +\r\n        'call initializeApp() first',\r\n    [\"bad-app-name\" /* AppError.BAD_APP_NAME */]: \"Illegal App name: '{$appName}\",\r\n    [\"duplicate-app\" /* AppError.DUPLICATE_APP */]: \"Firebase App named '{$appName}' already exists with different options or config\",\r\n    [\"app-deleted\" /* AppError.APP_DELETED */]: \"Firebase App named '{$appName}' already deleted\",\r\n    [\"no-options\" /* AppError.NO_OPTIONS */]: 'Need to provide options, when not being deployed to hosting via source.',\r\n    [\"invalid-app-argument\" /* AppError.INVALID_APP_ARGUMENT */]: 'firebase.{$appName}() takes either no argument or a ' +\r\n        'Firebase App instance.',\r\n    [\"invalid-log-argument\" /* AppError.INVALID_LOG_ARGUMENT */]: 'First argument to `onLog` must be null or a function.',\r\n    [\"idb-open\" /* AppError.IDB_OPEN */]: 'Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.',\r\n    [\"idb-get\" /* AppError.IDB_GET */]: 'Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.',\r\n    [\"idb-set\" /* AppError.IDB_WRITE */]: 'Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.',\r\n    [\"idb-delete\" /* AppError.IDB_DELETE */]: 'Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.'\r\n};\r\nconst ERROR_FACTORY = new ErrorFactory('app', 'Firebase', ERRORS);\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass FirebaseAppImpl {\r\n    constructor(options, config, container) {\r\n        this._isDeleted = false;\r\n        this._options = Object.assign({}, options);\r\n        this._config = Object.assign({}, config);\r\n        this._name = config.name;\r\n        this._automaticDataCollectionEnabled =\r\n            config.automaticDataCollectionEnabled;\r\n        this._container = container;\r\n        this.container.addComponent(new Component('app', () => this, \"PUBLIC\" /* ComponentType.PUBLIC */));\r\n    }\r\n    get automaticDataCollectionEnabled() {\r\n        this.checkDestroyed();\r\n        return this._automaticDataCollectionEnabled;\r\n    }\r\n    set automaticDataCollectionEnabled(val) {\r\n        this.checkDestroyed();\r\n        this._automaticDataCollectionEnabled = val;\r\n    }\r\n    get name() {\r\n        this.checkDestroyed();\r\n        return this._name;\r\n    }\r\n    get options() {\r\n        this.checkDestroyed();\r\n        return this._options;\r\n    }\r\n    get config() {\r\n        this.checkDestroyed();\r\n        return this._config;\r\n    }\r\n    get container() {\r\n        return this._container;\r\n    }\r\n    get isDeleted() {\r\n        return this._isDeleted;\r\n    }\r\n    set isDeleted(val) {\r\n        this._isDeleted = val;\r\n    }\r\n    /**\r\n     * This function will throw an Error if the App has already been deleted -\r\n     * use before performing API actions on the App.\r\n     */\r\n    checkDestroyed() {\r\n        if (this.isDeleted) {\r\n            throw ERROR_FACTORY.create(\"app-deleted\" /* AppError.APP_DELETED */, { appName: this._name });\r\n        }\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The current SDK version.\r\n *\r\n * @public\r\n */\r\nconst SDK_VERSION = version;\r\nfunction initializeApp(_options, rawConfig = {}) {\r\n    let options = _options;\r\n    if (typeof rawConfig !== 'object') {\r\n        const name = rawConfig;\r\n        rawConfig = { name };\r\n    }\r\n    const config = Object.assign({ name: DEFAULT_ENTRY_NAME, automaticDataCollectionEnabled: false }, rawConfig);\r\n    const name = config.name;\r\n    if (typeof name !== 'string' || !name) {\r\n        throw ERROR_FACTORY.create(\"bad-app-name\" /* AppError.BAD_APP_NAME */, {\r\n            appName: String(name)\r\n        });\r\n    }\r\n    options || (options = getDefaultAppConfig());\r\n    if (!options) {\r\n        throw ERROR_FACTORY.create(\"no-options\" /* AppError.NO_OPTIONS */);\r\n    }\r\n    const existingApp = _apps.get(name);\r\n    if (existingApp) {\r\n        // return the existing app if options and config deep equal the ones in the existing app.\r\n        if (deepEqual(options, existingApp.options) &&\r\n            deepEqual(config, existingApp.config)) {\r\n            return existingApp;\r\n        }\r\n        else {\r\n            throw ERROR_FACTORY.create(\"duplicate-app\" /* AppError.DUPLICATE_APP */, { appName: name });\r\n        }\r\n    }\r\n    const container = new ComponentContainer(name);\r\n    for (const component of _components.values()) {\r\n        container.addComponent(component);\r\n    }\r\n    const newApp = new FirebaseAppImpl(options, config, container);\r\n    _apps.set(name, newApp);\r\n    return newApp;\r\n}\r\n/**\r\n * Retrieves a {@link @firebase/app#FirebaseApp} instance.\r\n *\r\n * When called with no arguments, the default app is returned. When an app name\r\n * is provided, the app corresponding to that name is returned.\r\n *\r\n * An exception is thrown if the app being retrieved has not yet been\r\n * initialized.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Return the default app\r\n * const app = getApp();\r\n * ```\r\n *\r\n * @example\r\n * ```javascript\r\n * // Return a named app\r\n * const otherApp = getApp(\"otherApp\");\r\n * ```\r\n *\r\n * @param name - Optional name of the app to return. If no name is\r\n *   provided, the default is `\"[DEFAULT]\"`.\r\n *\r\n * @returns The app corresponding to the provided app name.\r\n *   If no app name is provided, the default app is returned.\r\n *\r\n * @public\r\n */\r\nfunction getApp(name = DEFAULT_ENTRY_NAME) {\r\n    const app = _apps.get(name);\r\n    if (!app && name === DEFAULT_ENTRY_NAME && getDefaultAppConfig()) {\r\n        return initializeApp();\r\n    }\r\n    if (!app) {\r\n        throw ERROR_FACTORY.create(\"no-app\" /* AppError.NO_APP */, { appName: name });\r\n    }\r\n    return app;\r\n}\r\n/**\r\n * A (read-only) array of all initialized apps.\r\n * @public\r\n */\r\nfunction getApps() {\r\n    return Array.from(_apps.values());\r\n}\r\n/**\r\n * Renders this app unusable and frees the resources of all associated\r\n * services.\r\n *\r\n * @example\r\n * ```javascript\r\n * deleteApp(app)\r\n *   .then(function() {\r\n *     console.log(\"App deleted successfully\");\r\n *   })\r\n *   .catch(function(error) {\r\n *     console.log(\"Error deleting app:\", error);\r\n *   });\r\n * ```\r\n *\r\n * @public\r\n */\r\nasync function deleteApp(app) {\r\n    const name = app.name;\r\n    if (_apps.has(name)) {\r\n        _apps.delete(name);\r\n        await Promise.all(app.container\r\n            .getProviders()\r\n            .map(provider => provider.delete()));\r\n        app.isDeleted = true;\r\n    }\r\n}\r\n/**\r\n * Registers a library's name and version for platform logging purposes.\r\n * @param library - Name of 1p or 3p library (e.g. firestore, angularfire)\r\n * @param version - Current version of that library.\r\n * @param variant - Bundle variant, e.g., node, rn, etc.\r\n *\r\n * @public\r\n */\r\nfunction registerVersion(libraryKeyOrName, version, variant) {\r\n    var _a;\r\n    // TODO: We can use this check to whitelist strings when/if we set up\r\n    // a good whitelist system.\r\n    let library = (_a = PLATFORM_LOG_STRING[libraryKeyOrName]) !== null && _a !== void 0 ? _a : libraryKeyOrName;\r\n    if (variant) {\r\n        library += `-${variant}`;\r\n    }\r\n    const libraryMismatch = library.match(/\\s|\\//);\r\n    const versionMismatch = version.match(/\\s|\\//);\r\n    if (libraryMismatch || versionMismatch) {\r\n        const warning = [\r\n            `Unable to register library \"${library}\" with version \"${version}\":`\r\n        ];\r\n        if (libraryMismatch) {\r\n            warning.push(`library name \"${library}\" contains illegal characters (whitespace or \"/\")`);\r\n        }\r\n        if (libraryMismatch && versionMismatch) {\r\n            warning.push('and');\r\n        }\r\n        if (versionMismatch) {\r\n            warning.push(`version name \"${version}\" contains illegal characters (whitespace or \"/\")`);\r\n        }\r\n        logger.warn(warning.join(' '));\r\n        return;\r\n    }\r\n    _registerComponent(new Component(`${library}-version`, () => ({ library, version }), \"VERSION\" /* ComponentType.VERSION */));\r\n}\r\n/**\r\n * Sets log handler for all Firebase SDKs.\r\n * @param logCallback - An optional custom log handler that executes user code whenever\r\n * the Firebase SDK makes a logging call.\r\n *\r\n * @public\r\n */\r\nfunction onLog(logCallback, options) {\r\n    if (logCallback !== null && typeof logCallback !== 'function') {\r\n        throw ERROR_FACTORY.create(\"invalid-log-argument\" /* AppError.INVALID_LOG_ARGUMENT */);\r\n    }\r\n    setUserLogHandler(logCallback, options);\r\n}\r\n/**\r\n * Sets log level for all Firebase SDKs.\r\n *\r\n * All of the log types above the current log level are captured (i.e. if\r\n * you set the log level to `info`, errors are logged, but `debug` and\r\n * `verbose` logs are not).\r\n *\r\n * @public\r\n */\r\nfunction setLogLevel(logLevel) {\r\n    setLogLevel$1(logLevel);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DB_NAME = 'firebase-heartbeat-database';\r\nconst DB_VERSION = 1;\r\nconst STORE_NAME = 'firebase-heartbeat-store';\r\nlet dbPromise = null;\r\nfunction getDbPromise() {\r\n    if (!dbPromise) {\r\n        dbPromise = openDB(DB_NAME, DB_VERSION, {\r\n            upgrade: (db, oldVersion) => {\r\n                // We don't use 'break' in this switch statement, the fall-through\r\n                // behavior is what we want, because if there are multiple versions between\r\n                // the old version and the current version, we want ALL the migrations\r\n                // that correspond to those versions to run, not only the last one.\r\n                // eslint-disable-next-line default-case\r\n                switch (oldVersion) {\r\n                    case 0:\r\n                        try {\r\n                            db.createObjectStore(STORE_NAME);\r\n                        }\r\n                        catch (e) {\r\n                            // Safari/iOS browsers throw occasional exceptions on\r\n                            // db.createObjectStore() that may be a bug. Avoid blocking\r\n                            // the rest of the app functionality.\r\n                            console.warn(e);\r\n                        }\r\n                }\r\n            }\r\n        }).catch(e => {\r\n            throw ERROR_FACTORY.create(\"idb-open\" /* AppError.IDB_OPEN */, {\r\n                originalErrorMessage: e.message\r\n            });\r\n        });\r\n    }\r\n    return dbPromise;\r\n}\r\nasync function readHeartbeatsFromIndexedDB(app) {\r\n    try {\r\n        const db = await getDbPromise();\r\n        const tx = db.transaction(STORE_NAME);\r\n        const result = await tx.objectStore(STORE_NAME).get(computeKey(app));\r\n        // We already have the value but tx.done can throw,\r\n        // so we need to await it here to catch errors\r\n        await tx.done;\r\n        return result;\r\n    }\r\n    catch (e) {\r\n        if (e instanceof FirebaseError) {\r\n            logger.warn(e.message);\r\n        }\r\n        else {\r\n            const idbGetError = ERROR_FACTORY.create(\"idb-get\" /* AppError.IDB_GET */, {\r\n                originalErrorMessage: e === null || e === void 0 ? void 0 : e.message\r\n            });\r\n            logger.warn(idbGetError.message);\r\n        }\r\n    }\r\n}\r\nasync function writeHeartbeatsToIndexedDB(app, heartbeatObject) {\r\n    try {\r\n        const db = await getDbPromise();\r\n        const tx = db.transaction(STORE_NAME, 'readwrite');\r\n        const objectStore = tx.objectStore(STORE_NAME);\r\n        await objectStore.put(heartbeatObject, computeKey(app));\r\n        await tx.done;\r\n    }\r\n    catch (e) {\r\n        if (e instanceof FirebaseError) {\r\n            logger.warn(e.message);\r\n        }\r\n        else {\r\n            const idbGetError = ERROR_FACTORY.create(\"idb-set\" /* AppError.IDB_WRITE */, {\r\n                originalErrorMessage: e === null || e === void 0 ? void 0 : e.message\r\n            });\r\n            logger.warn(idbGetError.message);\r\n        }\r\n    }\r\n}\r\nfunction computeKey(app) {\r\n    return `${app.name}!${app.options.appId}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst MAX_HEADER_BYTES = 1024;\r\n// 30 days\r\nconst STORED_HEARTBEAT_RETENTION_MAX_MILLIS = 30 * 24 * 60 * 60 * 1000;\r\nclass HeartbeatServiceImpl {\r\n    constructor(container) {\r\n        this.container = container;\r\n        /**\r\n         * In-memory cache for heartbeats, used by getHeartbeatsHeader() to generate\r\n         * the header string.\r\n         * Stores one record per date. This will be consolidated into the standard\r\n         * format of one record per user agent string before being sent as a header.\r\n         * Populated from indexedDB when the controller is instantiated and should\r\n         * be kept in sync with indexedDB.\r\n         * Leave public for easier testing.\r\n         */\r\n        this._heartbeatsCache = null;\r\n        const app = this.container.getProvider('app').getImmediate();\r\n        this._storage = new HeartbeatStorageImpl(app);\r\n        this._heartbeatsCachePromise = this._storage.read().then(result => {\r\n            this._heartbeatsCache = result;\r\n            return result;\r\n        });\r\n    }\r\n    /**\r\n     * Called to report a heartbeat. The function will generate\r\n     * a HeartbeatsByUserAgent object, update heartbeatsCache, and persist it\r\n     * to IndexedDB.\r\n     * Note that we only store one heartbeat per day. So if a heartbeat for today is\r\n     * already logged, subsequent calls to this function in the same day will be ignored.\r\n     */\r\n    async triggerHeartbeat() {\r\n        var _a, _b;\r\n        const platformLogger = this.container\r\n            .getProvider('platform-logger')\r\n            .getImmediate();\r\n        // This is the \"Firebase user agent\" string from the platform logger\r\n        // service, not the browser user agent.\r\n        const agent = platformLogger.getPlatformInfoString();\r\n        const date = getUTCDateString();\r\n        if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null) {\r\n            this._heartbeatsCache = await this._heartbeatsCachePromise;\r\n            // If we failed to construct a heartbeats cache, then return immediately.\r\n            if (((_b = this._heartbeatsCache) === null || _b === void 0 ? void 0 : _b.heartbeats) == null) {\r\n                return;\r\n            }\r\n        }\r\n        // Do not store a heartbeat if one is already stored for this day\r\n        // or if a header has already been sent today.\r\n        if (this._heartbeatsCache.lastSentHeartbeatDate === date ||\r\n            this._heartbeatsCache.heartbeats.some(singleDateHeartbeat => singleDateHeartbeat.date === date)) {\r\n            return;\r\n        }\r\n        else {\r\n            // There is no entry for this date. Create one.\r\n            this._heartbeatsCache.heartbeats.push({ date, agent });\r\n        }\r\n        // Remove entries older than 30 days.\r\n        this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter(singleDateHeartbeat => {\r\n            const hbTimestamp = new Date(singleDateHeartbeat.date).valueOf();\r\n            const now = Date.now();\r\n            return now - hbTimestamp <= STORED_HEARTBEAT_RETENTION_MAX_MILLIS;\r\n        });\r\n        return this._storage.overwrite(this._heartbeatsCache);\r\n    }\r\n    /**\r\n     * Returns a base64 encoded string which can be attached to the heartbeat-specific header directly.\r\n     * It also clears all heartbeats from memory as well as in IndexedDB.\r\n     *\r\n     * NOTE: Consuming product SDKs should not send the header if this method\r\n     * returns an empty string.\r\n     */\r\n    async getHeartbeatsHeader() {\r\n        var _a;\r\n        if (this._heartbeatsCache === null) {\r\n            await this._heartbeatsCachePromise;\r\n        }\r\n        // If it's still null or the array is empty, there is no data to send.\r\n        if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null ||\r\n            this._heartbeatsCache.heartbeats.length === 0) {\r\n            return '';\r\n        }\r\n        const date = getUTCDateString();\r\n        // Extract as many heartbeats from the cache as will fit under the size limit.\r\n        const { heartbeatsToSend, unsentEntries } = extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats);\r\n        const headerString = base64urlEncodeWithoutPadding(JSON.stringify({ version: 2, heartbeats: heartbeatsToSend }));\r\n        // Store last sent date to prevent another being logged/sent for the same day.\r\n        this._heartbeatsCache.lastSentHeartbeatDate = date;\r\n        if (unsentEntries.length > 0) {\r\n            // Store any unsent entries if they exist.\r\n            this._heartbeatsCache.heartbeats = unsentEntries;\r\n            // This seems more likely than emptying the array (below) to lead to some odd state\r\n            // since the cache isn't empty and this will be called again on the next request,\r\n            // and is probably safest if we await it.\r\n            await this._storage.overwrite(this._heartbeatsCache);\r\n        }\r\n        else {\r\n            this._heartbeatsCache.heartbeats = [];\r\n            // Do not wait for this, to reduce latency.\r\n            void this._storage.overwrite(this._heartbeatsCache);\r\n        }\r\n        return headerString;\r\n    }\r\n}\r\nfunction getUTCDateString() {\r\n    const today = new Date();\r\n    // Returns date format 'YYYY-MM-DD'\r\n    return today.toISOString().substring(0, 10);\r\n}\r\nfunction extractHeartbeatsForHeader(heartbeatsCache, maxSize = MAX_HEADER_BYTES) {\r\n    // Heartbeats grouped by user agent in the standard format to be sent in\r\n    // the header.\r\n    const heartbeatsToSend = [];\r\n    // Single date format heartbeats that are not sent.\r\n    let unsentEntries = heartbeatsCache.slice();\r\n    for (const singleDateHeartbeat of heartbeatsCache) {\r\n        // Look for an existing entry with the same user agent.\r\n        const heartbeatEntry = heartbeatsToSend.find(hb => hb.agent === singleDateHeartbeat.agent);\r\n        if (!heartbeatEntry) {\r\n            // If no entry for this user agent exists, create one.\r\n            heartbeatsToSend.push({\r\n                agent: singleDateHeartbeat.agent,\r\n                dates: [singleDateHeartbeat.date]\r\n            });\r\n            if (countBytes(heartbeatsToSend) > maxSize) {\r\n                // If the header would exceed max size, remove the added heartbeat\r\n                // entry and stop adding to the header.\r\n                heartbeatsToSend.pop();\r\n                break;\r\n            }\r\n        }\r\n        else {\r\n            heartbeatEntry.dates.push(singleDateHeartbeat.date);\r\n            // If the header would exceed max size, remove the added date\r\n            // and stop adding to the header.\r\n            if (countBytes(heartbeatsToSend) > maxSize) {\r\n                heartbeatEntry.dates.pop();\r\n                break;\r\n            }\r\n        }\r\n        // Pop unsent entry from queue. (Skipped if adding the entry exceeded\r\n        // quota and the loop breaks early.)\r\n        unsentEntries = unsentEntries.slice(1);\r\n    }\r\n    return {\r\n        heartbeatsToSend,\r\n        unsentEntries\r\n    };\r\n}\r\nclass HeartbeatStorageImpl {\r\n    constructor(app) {\r\n        this.app = app;\r\n        this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();\r\n    }\r\n    async runIndexedDBEnvironmentCheck() {\r\n        if (!isIndexedDBAvailable()) {\r\n            return false;\r\n        }\r\n        else {\r\n            return validateIndexedDBOpenable()\r\n                .then(() => true)\r\n                .catch(() => false);\r\n        }\r\n    }\r\n    /**\r\n     * Read all heartbeats.\r\n     */\r\n    async read() {\r\n        const canUseIndexedDB = await this._canUseIndexedDBPromise;\r\n        if (!canUseIndexedDB) {\r\n            return { heartbeats: [] };\r\n        }\r\n        else {\r\n            const idbHeartbeatObject = await readHeartbeatsFromIndexedDB(this.app);\r\n            if (idbHeartbeatObject === null || idbHeartbeatObject === void 0 ? void 0 : idbHeartbeatObject.heartbeats) {\r\n                return idbHeartbeatObject;\r\n            }\r\n            else {\r\n                return { heartbeats: [] };\r\n            }\r\n        }\r\n    }\r\n    // overwrite the storage with the provided heartbeats\r\n    async overwrite(heartbeatsObject) {\r\n        var _a;\r\n        const canUseIndexedDB = await this._canUseIndexedDBPromise;\r\n        if (!canUseIndexedDB) {\r\n            return;\r\n        }\r\n        else {\r\n            const existingHeartbeatsObject = await this.read();\r\n            return writeHeartbeatsToIndexedDB(this.app, {\r\n                lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,\r\n                heartbeats: heartbeatsObject.heartbeats\r\n            });\r\n        }\r\n    }\r\n    // add heartbeats\r\n    async add(heartbeatsObject) {\r\n        var _a;\r\n        const canUseIndexedDB = await this._canUseIndexedDBPromise;\r\n        if (!canUseIndexedDB) {\r\n            return;\r\n        }\r\n        else {\r\n            const existingHeartbeatsObject = await this.read();\r\n            return writeHeartbeatsToIndexedDB(this.app, {\r\n                lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,\r\n                heartbeats: [\r\n                    ...existingHeartbeatsObject.heartbeats,\r\n                    ...heartbeatsObject.heartbeats\r\n                ]\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * Calculate bytes of a HeartbeatsByUserAgent array after being wrapped\r\n * in a platform logging header JSON object, stringified, and converted\r\n * to base 64.\r\n */\r\nfunction countBytes(heartbeatsCache) {\r\n    // base64 has a restricted set of characters, all of which should be 1 byte.\r\n    return base64urlEncodeWithoutPadding(\r\n    // heartbeatsCache wrapper properties\r\n    JSON.stringify({ version: 2, heartbeats: heartbeatsCache })).length;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction registerCoreComponents(variant) {\r\n    _registerComponent(new Component('platform-logger', container => new PlatformLoggerServiceImpl(container), \"PRIVATE\" /* ComponentType.PRIVATE */));\r\n    _registerComponent(new Component('heartbeat', container => new HeartbeatServiceImpl(container), \"PRIVATE\" /* ComponentType.PRIVATE */));\r\n    // Register `app` package.\r\n    registerVersion(name$o, version$1, variant);\r\n    // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\r\n    registerVersion(name$o, version$1, 'esm2017');\r\n    // Register platform SDK identifier (no version).\r\n    registerVersion('fire-js', '');\r\n}\n\n/**\r\n * Firebase App\r\n *\r\n * @remarks This package coordinates the communication between the different Firebase components\r\n * @packageDocumentation\r\n */\r\nregisterCoreComponents('');\n\nexport { SDK_VERSION, DEFAULT_ENTRY_NAME as _DEFAULT_ENTRY_NAME, _addComponent, _addOrOverwriteComponent, _apps, _clearComponents, _components, _getProvider, _registerComponent, _removeServiceInstance, deleteApp, getApp, getApps, initializeApp, onLog, registerVersion, setLogLevel };\n//# sourceMappingURL=index.esm2017.js.map\n","import { Deferred } from '@firebase/util';\n\n/**\r\n * Component for service name T, e.g. `auth`, `auth-internal`\r\n */\r\nclass Component {\r\n    /**\r\n     *\r\n     * @param name The public service name, e.g. app, auth, firestore, database\r\n     * @param instanceFactory Service factory responsible for creating the public interface\r\n     * @param type whether the service provided by the component is public or private\r\n     */\r\n    constructor(name, instanceFactory, type) {\r\n        this.name = name;\r\n        this.instanceFactory = instanceFactory;\r\n        this.type = type;\r\n        this.multipleInstances = false;\r\n        /**\r\n         * Properties to be added to the service namespace\r\n         */\r\n        this.serviceProps = {};\r\n        this.instantiationMode = \"LAZY\" /* InstantiationMode.LAZY */;\r\n        this.onInstanceCreated = null;\r\n    }\r\n    setInstantiationMode(mode) {\r\n        this.instantiationMode = mode;\r\n        return this;\r\n    }\r\n    setMultipleInstances(multipleInstances) {\r\n        this.multipleInstances = multipleInstances;\r\n        return this;\r\n    }\r\n    setServiceProps(props) {\r\n        this.serviceProps = props;\r\n        return this;\r\n    }\r\n    setInstanceCreatedCallback(callback) {\r\n        this.onInstanceCreated = callback;\r\n        return this;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for instance for service name T, e.g. 'auth', 'auth-internal'\r\n * NameServiceMapping[T] is an alias for the type of the instance\r\n */\r\nclass Provider {\r\n    constructor(name, container) {\r\n        this.name = name;\r\n        this.container = container;\r\n        this.component = null;\r\n        this.instances = new Map();\r\n        this.instancesDeferred = new Map();\r\n        this.instancesOptions = new Map();\r\n        this.onInitCallbacks = new Map();\r\n    }\r\n    /**\r\n     * @param identifier A provider can provide mulitple instances of a service\r\n     * if this.component.multipleInstances is true.\r\n     */\r\n    get(identifier) {\r\n        // if multipleInstances is not supported, use the default name\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\r\n        if (!this.instancesDeferred.has(normalizedIdentifier)) {\r\n            const deferred = new Deferred();\r\n            this.instancesDeferred.set(normalizedIdentifier, deferred);\r\n            if (this.isInitialized(normalizedIdentifier) ||\r\n                this.shouldAutoInitialize()) {\r\n                // initialize the service if it can be auto-initialized\r\n                try {\r\n                    const instance = this.getOrInitializeService({\r\n                        instanceIdentifier: normalizedIdentifier\r\n                    });\r\n                    if (instance) {\r\n                        deferred.resolve(instance);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // when the instance factory throws an exception during get(), it should not cause\r\n                    // a fatal error. We just return the unresolved promise in this case.\r\n                }\r\n            }\r\n        }\r\n        return this.instancesDeferred.get(normalizedIdentifier).promise;\r\n    }\r\n    getImmediate(options) {\r\n        var _a;\r\n        // if multipleInstances is not supported, use the default name\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(options === null || options === void 0 ? void 0 : options.identifier);\r\n        const optional = (_a = options === null || options === void 0 ? void 0 : options.optional) !== null && _a !== void 0 ? _a : false;\r\n        if (this.isInitialized(normalizedIdentifier) ||\r\n            this.shouldAutoInitialize()) {\r\n            try {\r\n                return this.getOrInitializeService({\r\n                    instanceIdentifier: normalizedIdentifier\r\n                });\r\n            }\r\n            catch (e) {\r\n                if (optional) {\r\n                    return null;\r\n                }\r\n                else {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw\r\n            if (optional) {\r\n                return null;\r\n            }\r\n            else {\r\n                throw Error(`Service ${this.name} is not available`);\r\n            }\r\n        }\r\n    }\r\n    getComponent() {\r\n        return this.component;\r\n    }\r\n    setComponent(component) {\r\n        if (component.name !== this.name) {\r\n            throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);\r\n        }\r\n        if (this.component) {\r\n            throw Error(`Component for ${this.name} has already been provided`);\r\n        }\r\n        this.component = component;\r\n        // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)\r\n        if (!this.shouldAutoInitialize()) {\r\n            return;\r\n        }\r\n        // if the service is eager, initialize the default instance\r\n        if (isComponentEager(component)) {\r\n            try {\r\n                this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });\r\n            }\r\n            catch (e) {\r\n                // when the instance factory for an eager Component throws an exception during the eager\r\n                // initialization, it should not cause a fatal error.\r\n                // TODO: Investigate if we need to make it configurable, because some component may want to cause\r\n                // a fatal error in this case?\r\n            }\r\n        }\r\n        // Create service instances for the pending promises and resolve them\r\n        // NOTE: if this.multipleInstances is false, only the default instance will be created\r\n        // and all promises with resolve with it regardless of the identifier.\r\n        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {\r\n            const normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);\r\n            try {\r\n                // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.\r\n                const instance = this.getOrInitializeService({\r\n                    instanceIdentifier: normalizedIdentifier\r\n                });\r\n                instanceDeferred.resolve(instance);\r\n            }\r\n            catch (e) {\r\n                // when the instance factory throws an exception, it should not cause\r\n                // a fatal error. We just leave the promise unresolved.\r\n            }\r\n        }\r\n    }\r\n    clearInstance(identifier = DEFAULT_ENTRY_NAME) {\r\n        this.instancesDeferred.delete(identifier);\r\n        this.instancesOptions.delete(identifier);\r\n        this.instances.delete(identifier);\r\n    }\r\n    // app.delete() will call this method on every provider to delete the services\r\n    // TODO: should we mark the provider as deleted?\r\n    async delete() {\r\n        const services = Array.from(this.instances.values());\r\n        await Promise.all([\r\n            ...services\r\n                .filter(service => 'INTERNAL' in service) // legacy services\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                .map(service => service.INTERNAL.delete()),\r\n            ...services\r\n                .filter(service => '_delete' in service) // modularized services\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                .map(service => service._delete())\r\n        ]);\r\n    }\r\n    isComponentSet() {\r\n        return this.component != null;\r\n    }\r\n    isInitialized(identifier = DEFAULT_ENTRY_NAME) {\r\n        return this.instances.has(identifier);\r\n    }\r\n    getOptions(identifier = DEFAULT_ENTRY_NAME) {\r\n        return this.instancesOptions.get(identifier) || {};\r\n    }\r\n    initialize(opts = {}) {\r\n        const { options = {} } = opts;\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(opts.instanceIdentifier);\r\n        if (this.isInitialized(normalizedIdentifier)) {\r\n            throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);\r\n        }\r\n        if (!this.isComponentSet()) {\r\n            throw Error(`Component ${this.name} has not been registered yet`);\r\n        }\r\n        const instance = this.getOrInitializeService({\r\n            instanceIdentifier: normalizedIdentifier,\r\n            options\r\n        });\r\n        // resolve any pending promise waiting for the service instance\r\n        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {\r\n            const normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);\r\n            if (normalizedIdentifier === normalizedDeferredIdentifier) {\r\n                instanceDeferred.resolve(instance);\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n    /**\r\n     *\r\n     * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().\r\n     * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.\r\n     *\r\n     * @param identifier An optional instance identifier\r\n     * @returns a function to unregister the callback\r\n     */\r\n    onInit(callback, identifier) {\r\n        var _a;\r\n        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\r\n        const existingCallbacks = (_a = this.onInitCallbacks.get(normalizedIdentifier)) !== null && _a !== void 0 ? _a : new Set();\r\n        existingCallbacks.add(callback);\r\n        this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);\r\n        const existingInstance = this.instances.get(normalizedIdentifier);\r\n        if (existingInstance) {\r\n            callback(existingInstance, normalizedIdentifier);\r\n        }\r\n        return () => {\r\n            existingCallbacks.delete(callback);\r\n        };\r\n    }\r\n    /**\r\n     * Invoke onInit callbacks synchronously\r\n     * @param instance the service instance`\r\n     */\r\n    invokeOnInitCallbacks(instance, identifier) {\r\n        const callbacks = this.onInitCallbacks.get(identifier);\r\n        if (!callbacks) {\r\n            return;\r\n        }\r\n        for (const callback of callbacks) {\r\n            try {\r\n                callback(instance, identifier);\r\n            }\r\n            catch (_a) {\r\n                // ignore errors in the onInit callback\r\n            }\r\n        }\r\n    }\r\n    getOrInitializeService({ instanceIdentifier, options = {} }) {\r\n        let instance = this.instances.get(instanceIdentifier);\r\n        if (!instance && this.component) {\r\n            instance = this.component.instanceFactory(this.container, {\r\n                instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),\r\n                options\r\n            });\r\n            this.instances.set(instanceIdentifier, instance);\r\n            this.instancesOptions.set(instanceIdentifier, options);\r\n            /**\r\n             * Invoke onInit listeners.\r\n             * Note this.component.onInstanceCreated is different, which is used by the component creator,\r\n             * while onInit listeners are registered by consumers of the provider.\r\n             */\r\n            this.invokeOnInitCallbacks(instance, instanceIdentifier);\r\n            /**\r\n             * Order is important\r\n             * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which\r\n             * makes `isInitialized()` return true.\r\n             */\r\n            if (this.component.onInstanceCreated) {\r\n                try {\r\n                    this.component.onInstanceCreated(this.container, instanceIdentifier, instance);\r\n                }\r\n                catch (_a) {\r\n                    // ignore errors in the onInstanceCreatedCallback\r\n                }\r\n            }\r\n        }\r\n        return instance || null;\r\n    }\r\n    normalizeInstanceIdentifier(identifier = DEFAULT_ENTRY_NAME) {\r\n        if (this.component) {\r\n            return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;\r\n        }\r\n        else {\r\n            return identifier; // assume multiple instances are supported before the component is provided.\r\n        }\r\n    }\r\n    shouldAutoInitialize() {\r\n        return (!!this.component &&\r\n            this.component.instantiationMode !== \"EXPLICIT\" /* InstantiationMode.EXPLICIT */);\r\n    }\r\n}\r\n// undefined should be passed to the service factory for the default instance\r\nfunction normalizeIdentifierForFactory(identifier) {\r\n    return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;\r\n}\r\nfunction isComponentEager(component) {\r\n    return component.instantiationMode === \"EAGER\" /* InstantiationMode.EAGER */;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`\r\n */\r\nclass ComponentContainer {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.providers = new Map();\r\n    }\r\n    /**\r\n     *\r\n     * @param component Component being added\r\n     * @param overwrite When a component with the same name has already been registered,\r\n     * if overwrite is true: overwrite the existing component with the new component and create a new\r\n     * provider with the new component. It can be useful in tests where you want to use different mocks\r\n     * for different tests.\r\n     * if overwrite is false: throw an exception\r\n     */\r\n    addComponent(component) {\r\n        const provider = this.getProvider(component.name);\r\n        if (provider.isComponentSet()) {\r\n            throw new Error(`Component ${component.name} has already been registered with ${this.name}`);\r\n        }\r\n        provider.setComponent(component);\r\n    }\r\n    addOrOverwriteComponent(component) {\r\n        const provider = this.getProvider(component.name);\r\n        if (provider.isComponentSet()) {\r\n            // delete the existing provider from the container, so we can register the new component\r\n            this.providers.delete(component.name);\r\n        }\r\n        this.addComponent(component);\r\n    }\r\n    /**\r\n     * getProvider provides a type safe interface where it can only be called with a field name\r\n     * present in NameServiceMapping interface.\r\n     *\r\n     * Firebase SDKs providing services should extend NameServiceMapping interface to register\r\n     * themselves.\r\n     */\r\n    getProvider(name) {\r\n        if (this.providers.has(name)) {\r\n            return this.providers.get(name);\r\n        }\r\n        // create a Provider for a service that hasn't registered with Firebase\r\n        const provider = new Provider(name, this);\r\n        this.providers.set(name, provider);\r\n        return provider;\r\n    }\r\n    getProviders() {\r\n        return Array.from(this.providers.values());\r\n    }\r\n}\n\nexport { Component, ComponentContainer, Provider };\n//# sourceMappingURL=index.esm2017.js.map\n","/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * A container for all of the Logger instances\r\n */\r\nconst instances = [];\r\n/**\r\n * The JS SDK supports 5 log levels and also allows a user the ability to\r\n * silence the logs altogether.\r\n *\r\n * The order is a follows:\r\n * DEBUG < VERBOSE < INFO < WARN < ERROR\r\n *\r\n * All of the log types above the current log level will be captured (i.e. if\r\n * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and\r\n * `VERBOSE` logs will not)\r\n */\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\r\n    LogLevel[LogLevel[\"VERBOSE\"] = 1] = \"VERBOSE\";\r\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\r\n    LogLevel[LogLevel[\"WARN\"] = 3] = \"WARN\";\r\n    LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\r\n    LogLevel[LogLevel[\"SILENT\"] = 5] = \"SILENT\";\r\n})(LogLevel || (LogLevel = {}));\r\nconst levelStringToEnum = {\r\n    'debug': LogLevel.DEBUG,\r\n    'verbose': LogLevel.VERBOSE,\r\n    'info': LogLevel.INFO,\r\n    'warn': LogLevel.WARN,\r\n    'error': LogLevel.ERROR,\r\n    'silent': LogLevel.SILENT\r\n};\r\n/**\r\n * The default log level\r\n */\r\nconst defaultLogLevel = LogLevel.INFO;\r\n/**\r\n * By default, `console.debug` is not displayed in the developer console (in\r\n * chrome). To avoid forcing users to have to opt-in to these logs twice\r\n * (i.e. once for firebase, and once in the console), we are sending `DEBUG`\r\n * logs to the `console.log` function.\r\n */\r\nconst ConsoleMethod = {\r\n    [LogLevel.DEBUG]: 'log',\r\n    [LogLevel.VERBOSE]: 'log',\r\n    [LogLevel.INFO]: 'info',\r\n    [LogLevel.WARN]: 'warn',\r\n    [LogLevel.ERROR]: 'error'\r\n};\r\n/**\r\n * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR\r\n * messages on to their corresponding console counterparts (if the log method\r\n * is supported by the current log level)\r\n */\r\nconst defaultLogHandler = (instance, logType, ...args) => {\r\n    if (logType < instance.logLevel) {\r\n        return;\r\n    }\r\n    const now = new Date().toISOString();\r\n    const method = ConsoleMethod[logType];\r\n    if (method) {\r\n        console[method](`[${now}]  ${instance.name}:`, ...args);\r\n    }\r\n    else {\r\n        throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);\r\n    }\r\n};\r\nclass Logger {\r\n    /**\r\n     * Gives you an instance of a Logger to capture messages according to\r\n     * Firebase's logging scheme.\r\n     *\r\n     * @param name The name that the logs will be associated with\r\n     */\r\n    constructor(name) {\r\n        this.name = name;\r\n        /**\r\n         * The log level of the given Logger instance.\r\n         */\r\n        this._logLevel = defaultLogLevel;\r\n        /**\r\n         * The main (internal) log handler for the Logger instance.\r\n         * Can be set to a new function in internal package code but not by user.\r\n         */\r\n        this._logHandler = defaultLogHandler;\r\n        /**\r\n         * The optional, additional, user-defined log handler for the Logger instance.\r\n         */\r\n        this._userLogHandler = null;\r\n        /**\r\n         * Capture the current instance for later use\r\n         */\r\n        instances.push(this);\r\n    }\r\n    get logLevel() {\r\n        return this._logLevel;\r\n    }\r\n    set logLevel(val) {\r\n        if (!(val in LogLevel)) {\r\n            throw new TypeError(`Invalid value \"${val}\" assigned to \\`logLevel\\``);\r\n        }\r\n        this._logLevel = val;\r\n    }\r\n    // Workaround for setter/getter having to be the same type.\r\n    setLogLevel(val) {\r\n        this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;\r\n    }\r\n    get logHandler() {\r\n        return this._logHandler;\r\n    }\r\n    set logHandler(val) {\r\n        if (typeof val !== 'function') {\r\n            throw new TypeError('Value assigned to `logHandler` must be a function');\r\n        }\r\n        this._logHandler = val;\r\n    }\r\n    get userLogHandler() {\r\n        return this._userLogHandler;\r\n    }\r\n    set userLogHandler(val) {\r\n        this._userLogHandler = val;\r\n    }\r\n    /**\r\n     * The functions below are all based on the `console` interface\r\n     */\r\n    debug(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);\r\n        this._logHandler(this, LogLevel.DEBUG, ...args);\r\n    }\r\n    log(...args) {\r\n        this._userLogHandler &&\r\n            this._userLogHandler(this, LogLevel.VERBOSE, ...args);\r\n        this._logHandler(this, LogLevel.VERBOSE, ...args);\r\n    }\r\n    info(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);\r\n        this._logHandler(this, LogLevel.INFO, ...args);\r\n    }\r\n    warn(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);\r\n        this._logHandler(this, LogLevel.WARN, ...args);\r\n    }\r\n    error(...args) {\r\n        this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);\r\n        this._logHandler(this, LogLevel.ERROR, ...args);\r\n    }\r\n}\r\nfunction setLogLevel(level) {\r\n    instances.forEach(inst => {\r\n        inst.setLogLevel(level);\r\n    });\r\n}\r\nfunction setUserLogHandler(logCallback, options) {\r\n    for (const instance of instances) {\r\n        let customLogLevel = null;\r\n        if (options && options.level) {\r\n            customLogLevel = levelStringToEnum[options.level];\r\n        }\r\n        if (logCallback === null) {\r\n            instance.userLogHandler = null;\r\n        }\r\n        else {\r\n            instance.userLogHandler = (instance, level, ...args) => {\r\n                const message = args\r\n                    .map(arg => {\r\n                    if (arg == null) {\r\n                        return null;\r\n                    }\r\n                    else if (typeof arg === 'string') {\r\n                        return arg;\r\n                    }\r\n                    else if (typeof arg === 'number' || typeof arg === 'boolean') {\r\n                        return arg.toString();\r\n                    }\r\n                    else if (arg instanceof Error) {\r\n                        return arg.message;\r\n                    }\r\n                    else {\r\n                        try {\r\n                            return JSON.stringify(arg);\r\n                        }\r\n                        catch (ignored) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                })\r\n                    .filter(arg => arg)\r\n                    .join(' ');\r\n                if (level >= (customLogLevel !== null && customLogLevel !== void 0 ? customLogLevel : instance.logLevel)) {\r\n                    logCallback({\r\n                        level: LogLevel[level].toLowerCase(),\r\n                        message,\r\n                        args,\r\n                        type: instance.name\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\n\nexport { LogLevel, Logger, setLogLevel, setUserLogHandler };\n//# sourceMappingURL=index.esm2017.js.map\n"],"names":["CONSTANTS","NODE_CLIENT","NODE_ADMIN","SDK_VERSION","assert","assertion","message","assertionError","Error","stringToByteArray$1","str","out","p","i","length","c","charCodeAt","base64","byteToCharMap_","charToByteMap_","byteToCharMapWebSafe_","charToByteMapWebSafe_","ENCODED_VALS_BASE","ENCODED_VALS","this","ENCODED_VALS_WEBSAFE","HAS_NATIVE_SUPPORT","atob","encodeByteArray","input","webSafe","Array","isArray","init_","byteToCharMap","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","push","join","encodeString","btoa","decodeString","bytes","pos","c1","String","fromCharCode","c2","u","c3","byteArrayToString","decodeStringToByteArray","charToByteMap","charAt","byte4","DecodeBase64StringError","constructor","super","arguments","name","base64Encode","utf8Bytes","base64urlEncodeWithoutPadding","replace","base64Decode","e","console","error","deepCopy","value","deepExtend","undefined","target","source","Object","Date","getTime","prop","hasOwnProperty","getDefaultsFromGlobal","self","window","g","getGlobal","__FIREBASE_DEFAULTS__","getDefaults","process","defaultsJsonString","JSON","parse","getDefaultsFromEnvVariable","document","match","cookie","decoded","getDefaultsFromCookie","info","getDefaultEmulatorHostnameAndPort","productName","host","_a","_b","emulatorHosts","getDefaultEmulatorHost","separatorIndex","lastIndexOf","port","parseInt","substring","Deferred","reject","resolve","promise","Promise","wrapCallback","callback","catch","createMockUserToken","token","projectId","uid","project","iat","sub","user_id","payload","assign","iss","aud","exp","auth_time","firebase","sign_in_provider","identities","stringify","alg","type","getUA","navigator","isMobileCordova","test","isReactNative","isNodeSdk","jsonEval","data","decode","header","claims","signature","parts","split","isValidFormat","isAdmin","contains","obj","key","prototype","call","safeGet","isEmpty","map","fn","contextObj","res","querystring","querystringParams","params","entries","forEach","arrayVal","encodeURIComponent","Sha1","chain_","buf_","W_","pad_","inbuf_","total_","blockSize","reset","compress_","buf","offset","W","t","f","k","a","b","d","update","lengthMinusBlock","n","inbuf","digest","totalBits","j","errorPrefix","fnName","argName","stringToByteArray","high","stringLength","getModularInstance","service","_delegate","_ref","title","children","index","currentTab","accodionClickHandler","React","className","id","onClick","child","link","href","content","Web","hosturl","setHosturl","useState","epubUrl","setEpubFile","pdfUrl","setPdfFile","setCurrentTab","tabList","setTabList","useEffect","location","contentList","role","tab","AccordionItem","Info","highSchoolMap","setHighSchoolMap","universityMap","setUniversityMap","script","createElement","src","async","body","appendChild","onload","naver","maps","Map","center","LatLng","zoom","removeChild","Marker","position","style","overflow","width","Introduce","Dekstop","app","initializeApp","databaseURL","pushFirebaseData","path","db","getDatabase","postListRef","ref","newPostRef","set","getFirebaseData","dbRef","get","then","snapshot","exists","success","val","deleteFirebaseData","database","commonIsAdmin","includes","getBase64","file","reader","FileReader","readAsDataURL","result","onerror","TraceBasic","Name","Contents","setIsAdmin","TraceList","setData","keys","values","tempData","item","marginTop","contents","date","TraceMainView","TraceIndexPage","BlogContent","height","overflowX","image","alt","margin","subject","description","BlogContentList","resultData","rowItem","rowIndex","itemIndex","BlogMainView","BlogIndexPage","r","o","isNaN","m","enter","exit","appendPosition","collapse","l","collapseDuration","preventExitTransition","done","nodeRef","isIn","y","playToast","v","h","T","E","current","removeEventListener","classList","remove","add","addEventListener","scrollHeight","s","requestAnimationFrame","minHeight","transition","padding","setTimeout","containerId","props","toastId","theme","isLoading","icon","status","Set","size","I","isToastActive","_","options","buildToast","C","toggle","L","subscribe","getSnapshot","setProps","from","filter","onOpen","updateId","staleId","delete","observe","removeToast","toasts","clearQueue","has","delay","N","$","toastStyle","fromEntries","closeToast","toastClassName","bodyClassName","progressClassName","autoClose","w","deleteToast","onClose","shift","closeButton","P","toastProps","M","limit","setToggle","some","newestOnTop","reverse","getToastToRender","count","start","delta","removalDistance","canCloseOnClick","canDrag","didMove","pauseOnHover","closeOnClick","draggableDirection","clientX","clientY","transform","opacity","Math","abs","collapseAll","removeProperty","pauseOnFocusLoss","hasFocus","onPointerDown","draggable","pointerType","offsetWidth","draggablePercent","offsetHeight","onPointerUp","top","bottom","left","right","getBoundingClientRect","nativeEvent","onMouseEnter","stacked","onMouseLeave","pauseToast","isRunning","toastRef","eventHandlers","hide","controlledProgress","progress","rtl","animationDuration","animationPlayState","defaultClassName","x","A","B","loading","pending","render","dismiss","warning","warn","dark","clearWaitingQueue","isActive","onChange","play","pause","O","D","viewBox","fill","z","spinner","R","hideProgressBar","bodyStyle","progressStyle","S","H","F","X","Y","q","ariaLabel","stopPropagation","fillRule","Q","querySelectorAll","dataset","collapsed","setProperty","pointerEvents","BlogWriteView","imgSrc","setImgSrc","setSubject","setDescription","resetAll","writeComplete","toast","fontSize","htmlFor","rows","maxWidth","accept","files","BlogWritePage","TraceWriteView","setName","setContents","resetData","today","toLocaleString","TraceWritePage","IndexPage","profile","ToastContainer","getDefaultAppConfig","config","FirebaseError","code","customData","setPrototypeOf","captureStackTrace","ErrorFactory","create","serviceName","errors","fullCode","template","PATTERN","replaceTemplate","fullMessage","deepEqual","aKeys","bKeys","aProp","bProp","isObject","thing","Component","instanceFactory","multipleInstances","serviceProps","instantiationMode","onInstanceCreated","setInstantiationMode","mode","setMultipleInstances","setServiceProps","setInstanceCreatedCallback","DEFAULT_ENTRY_NAME","Provider","container","component","instances","instancesDeferred","instancesOptions","onInitCallbacks","identifier","normalizedIdentifier","normalizeInstanceIdentifier","deferred","isInitialized","shouldAutoInitialize","instance","getOrInitializeService","instanceIdentifier","getImmediate","optional","getComponent","setComponent","isComponentEager","instanceDeferred","clearInstance","services","all","INTERNAL","_delete","isComponentSet","getOptions","initialize","opts","onInit","existingCallbacks","existingInstance","invokeOnInitCallbacks","callbacks","ComponentContainer","providers","addComponent","provider","getProvider","addOrOverwriteComponent","getProviders","LogLevel","levelStringToEnum","DEBUG","VERBOSE","INFO","WARN","ERROR","SILENT","defaultLogLevel","ConsoleMethod","defaultLogHandler","logType","args","logLevel","now","toISOString","method","instanceOfAny","object","constructors","idbProxyableTypes","cursorAdvanceMethods","cursorRequestMap","WeakMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","idbProxyTraps","receiver","IDBTransaction","objectStoreNames","objectStore","wrapFunction","func","IDBDatabase","transaction","IDBCursor","advance","continue","continuePrimaryKey","apply","unwrap","storeNames","tx","sort","transformCachableValue","unlisten","complete","DOMException","cacheDonePromiseForTransaction","IDBObjectStore","IDBIndex","Proxy","IDBRequest","request","promisifyRequest","newValue","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","storeName","store","oldTraps","PlatformLoggerServiceImpl","getPlatformInfoString","isVersionServiceProvider","library","version","logString","name$o","version$1","logger","_logLevel","_logHandler","_userLogHandler","TypeError","setLogLevel","logHandler","userLogHandler","debug","log","PLATFORM_LOG_STRING","_apps","_components","_addComponent","_registerComponent","componentName","_getProvider","heartbeatController","triggerHeartbeat","ERROR_FACTORY","FirebaseAppImpl","_isDeleted","_options","_config","_name","_automaticDataCollectionEnabled","automaticDataCollectionEnabled","_container","checkDestroyed","isDeleted","appName","rawConfig","existingApp","newApp","getApp","registerVersion","libraryKeyOrName","variant","libraryMismatch","versionMismatch","DB_NAME","DB_VERSION","STORE_NAME","dbPromise","getDbPromise","blocked","upgrade","blocking","terminated","indexedDB","open","openPromise","event","oldVersion","newVersion","openDB","createObjectStore","originalErrorMessage","writeHeartbeatsToIndexedDB","heartbeatObject","put","computeKey","idbGetError","appId","HeartbeatServiceImpl","_heartbeatsCache","_storage","HeartbeatStorageImpl","_heartbeatsCachePromise","read","agent","getUTCDateString","heartbeats","lastSentHeartbeatDate","singleDateHeartbeat","hbTimestamp","valueOf","overwrite","heartbeatsToSend","unsentEntries","heartbeatsCache","maxSize","slice","heartbeatEntry","find","hb","dates","countBytes","pop","extractHeartbeatsForHeader","headerString","_canUseIndexedDBPromise","runIndexedDBEnvironmentCheck","isIndexedDBAvailable","preExist","DB_CHECK_NAME","onsuccess","close","deleteDatabase","onupgradeneeded","idbHeartbeatObject","readHeartbeatsFromIndexedDB","heartbeatsObject","existingHeartbeatsObject","Logger"],"sourceRoot":""}